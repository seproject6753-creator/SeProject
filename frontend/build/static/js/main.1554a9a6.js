/*! For license information please see main.1554a9a6.js.LICENSE.txt */
(()=>{var e={110:(e,t,n)=>{"use strict";var r=n(441),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?i:o[e.$$typeof]||a}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=i;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(m){var a=f(n);a&&a!==m&&e(t,a,r)}var i=u(n);d&&(i=i.concat(d(n)));for(var o=l(t),p=l(n),g=0;g<i.length;++g){var y=i[g];if(!s[y]&&(!r||!r[y])&&(!p||!p[y])&&(!o||!o[y])){var w=h(n,y);try{c(t,y,w)}catch(b){}}}}return t}},484:function(e,t,n){!function(e){"use strict";function t(e){return null===e||void 0===e}var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function a(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t){var n=Object.setPrototypeOf;n?n(e,t):e.__proto__=t}function i(e,t){void 0===t&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}var o,l=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.defineProperty(r,"name",{value:n.name,enumerable:!1}),s(r,n.prototype),i(r),r}return a(t,e),t}(Error);class c extends l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;super(e),this.message=e}getKind(){return this.constructor.kind}}c.kind="Exception";class u extends c{}u.kind="ArgumentException";class d extends c{}d.kind="IllegalArgumentException";class h{constructor(e){if(this.binarizer=e,null===e)throw new d("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,n,r){const a=this.binarizer.getLuminanceSource().crop(e,t,n,r);return new h(this.binarizer.createBinarizer(a))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new h(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new h(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch(e){return""}}}class f extends c{static getChecksumInstance(){return new f}}f.kind="ChecksumException";class m{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class p{static arraycopy(e,t,n,r,a){for(;a--;)n[r++]=e[t++]}static currentTimeMillis(){return Date.now()}}class g extends c{}g.kind="IndexOutOfBoundsException";class y extends g{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;super(t),this.index=e,this.message=t}}y.kind="ArrayIndexOutOfBoundsException";class w{static fill(e,t){for(let n=0,r=e.length;n<r;n++)e[n]=t}static fillWithin(e,t,n,r){w.rangeCheck(e.length,t,n);for(let a=t;a<n;a++)e[a]=r}static rangeCheck(e,t,n){if(t>n)throw new d("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new y(t);if(n>e)throw new y(n)}static asList(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}static create(e,t,n){return Array.from({length:e}).map((e=>Array.from({length:t}).fill(n)))}static createInt32Array(e,t,n){return Array.from({length:e}).map((e=>Int32Array.from({length:t}).fill(n)))}static equals(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}static hashCode(e){if(null===e)return 0;let t=1;for(const n of e)t=31*t+n;return t}static fillUint8Array(e,t){for(let n=0;n!==e.length;n++)e[n]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)}static copyOfRange(e,t,n){const r=n-t,a=new Int32Array(r);return p.arraycopy(e,t,a,0,r),a}static binarySearch(e,t,n){void 0===n&&(n=w.numberComparator);let r=0,a=e.length-1;for(;r<=a;){const s=a+r>>1,i=n(t,e[s]);if(i>0)r=s+1;else{if(!(i<0))return s;a=s-1}}return-r-1}static numberComparator(e,t){return e-t}}class b{static numberOfTrailingZeros(e){let t;if(0===e)return 32;let n=31;return t=e<<16,0!==t&&(n-=16,e=t),t=e<<8,0!==t&&(n-=8,e=t),t=e<<4,0!==t&&(n-=4,e=t),t=e<<2,0!==t&&(n-=2,e=t),n-(e<<1>>>31)}static numberOfLeadingZeros(e){if(0===e)return 32;let t=1;return e>>>16===0&&(t+=16,e<<=16),e>>>24===0&&(t+=8,e<<=8),e>>>28===0&&(t+=4,e<<=4),e>>>30===0&&(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e){return parseInt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)}}b.MIN_VALUE_32_BITS=-2147483648,b.MAX_VALUE=Number.MAX_SAFE_INTEGER;class x{constructor(e,t){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=void 0===t||null===t?x.makeArray(e):t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>32*this.bits.length){const t=x.makeArray(e);p.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return 0!==(this.bits[Math.floor(e/32)]&1<<(31&e))}set(e){this.bits[Math.floor(e/32)]|=1<<(31&e)}flip(e){this.bits[Math.floor(e/32)]^=1<<(31&e)}getNextSet(e){const t=this.size;if(e>=t)return t;const n=this.bits;let r=Math.floor(e/32),a=n[r];a&=~((1<<(31&e))-1);const s=n.length;for(;0===a;){if(++r===s)return t;a=n[r]}const i=32*r+b.numberOfTrailingZeros(a);return i>t?t:i}getNextUnset(e){const t=this.size;if(e>=t)return t;const n=this.bits;let r=Math.floor(e/32),a=~n[r];a&=~((1<<(31&e))-1);const s=n.length;for(;0===a;){if(++r===s)return t;a=~n[r]}const i=32*r+b.numberOfTrailingZeros(a);return i>t?t:i}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new d;if(t===e)return;t--;const n=Math.floor(e/32),r=Math.floor(t/32),a=this.bits;for(let s=n;s<=r;s++){const i=(2<<(s<r?31:31&t))-(1<<(s>n?0:31&e));a[s]|=i}}clear(){const e=this.bits.length,t=this.bits;for(let n=0;n<e;n++)t[n]=0}isRange(e,t,n){if(t<e||e<0||t>this.size)throw new d;if(t===e)return!0;t--;const r=Math.floor(e/32),a=Math.floor(t/32),s=this.bits;for(let i=r;i<=a;i++){const o=(2<<(i<a?31:31&t))-(1<<(i>r?0:31&e))&4294967295;if((s[i]&o)!==(n?o:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(e,t){if(t<0||t>32)throw new d("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let n=t;n>0;n--)this.appendBit(1===(e>>n-1&1))}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let n=0;n<t;n++)this.appendBit(e.get(n))}xor(e){if(this.size!==e.size)throw new d("Sizes don't match");const t=this.bits;for(let n=0,r=t.length;n<r;n++)t[n]^=e.bits[n]}toBytes(e,t,n,r){for(let a=0;a<r;a++){let r=0;for(let t=0;t<8;t++)this.get(e)&&(r|=1<<7-t),e++;t[n+a]=r}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,r=this.bits;for(let a=0;a<n;a++){let n=r[a];n=n>>1&1431655765|(1431655765&n)<<1,n=n>>2&858993459|(858993459&n)<<2,n=n>>4&252645135|(252645135&n)<<4,n=n>>8&16711935|(16711935&n)<<8,n=n>>16&65535|(65535&n)<<16,e[t-a]=n}if(this.size!==32*n){const t=32*n-this.size;let r=e[0]>>>t;for(let a=1;a<n;a++){const n=e[a];r|=n<<32-t,e[a-1]=r,r=n>>>t}e[n-1]=r}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof x))return!1;const t=e;return this.size===t.size&&w.equals(this.bits,t.bits)}hashCode(){return 31*this.size+w.hashCode(this.bits)}toString(){let e="";for(let t=0,n=this.size;t<n;t++)0===(7&t)&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new x(this.size,this.bits.slice())}}!function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ASSUME_GS1=7]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(o||(o={}));var v,C=o;class S extends c{static getFormatInstance(){return new S}}S.kind="FormatException",function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"}(v||(v={}));class E{constructor(e,t,n){this.valueIdentifier=e,this.name=n,this.values="number"===typeof t?Int32Array.from([t]):t;for(var r=arguments.length,a=new Array(r>3?r-3:0),s=3;s<r;s++)a[s-3]=arguments[s];this.otherEncodingNames=a,E.VALUE_IDENTIFIER_TO_ECI.set(e,this),E.NAME_TO_ECI.set(n,this);const i=this.values;for(let o=0,l=i.length;o!==l;o++){const e=i[o];E.VALUES_TO_ECI.set(e,this)}for(const o of a)E.NAME_TO_ECI.set(o,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new S("incorect value");const t=E.VALUES_TO_ECI.get(e);if(void 0===t)throw new S("incorect value");return t}static getCharacterSetECIByName(e){const t=E.NAME_TO_ECI.get(e);if(void 0===t)throw new S("incorect value");return t}equals(e){if(!(e instanceof E))return!1;const t=e;return this.getName()===t.getName()}}E.VALUE_IDENTIFIER_TO_ECI=new Map,E.VALUES_TO_ECI=new Map,E.NAME_TO_ECI=new Map,E.Cp437=new E(v.Cp437,Int32Array.from([0,2]),"Cp437"),E.ISO8859_1=new E(v.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),E.ISO8859_2=new E(v.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),E.ISO8859_3=new E(v.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),E.ISO8859_4=new E(v.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),E.ISO8859_5=new E(v.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),E.ISO8859_6=new E(v.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),E.ISO8859_7=new E(v.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),E.ISO8859_8=new E(v.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),E.ISO8859_9=new E(v.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),E.ISO8859_10=new E(v.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),E.ISO8859_11=new E(v.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),E.ISO8859_13=new E(v.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),E.ISO8859_14=new E(v.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),E.ISO8859_15=new E(v.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),E.ISO8859_16=new E(v.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),E.SJIS=new E(v.SJIS,20,"SJIS","Shift_JIS"),E.Cp1250=new E(v.Cp1250,21,"Cp1250","windows-1250"),E.Cp1251=new E(v.Cp1251,22,"Cp1251","windows-1251"),E.Cp1252=new E(v.Cp1252,23,"Cp1252","windows-1252"),E.Cp1256=new E(v.Cp1256,24,"Cp1256","windows-1256"),E.UnicodeBigUnmarked=new E(v.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),E.UTF8=new E(v.UTF8,26,"UTF8","UTF-8"),E.ASCII=new E(v.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),E.Big5=new E(v.Big5,28,"Big5"),E.GB18030=new E(v.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),E.EUC_KR=new E(v.EUC_KR,30,"EUC_KR","EUC-KR");class N extends c{}N.kind="UnsupportedOperationException";class A{static decode(e,t){const n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):"undefined"===typeof TextDecoder||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)}static shouldDecodeOnFallback(e){return!A.isBrowser()&&"ISO-8859-1"===e}static encode(e,t){const n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):"undefined"===typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)}static isBrowser(){return"undefined"!==typeof window&&"[object Window]"==={}.toString.call(window)}static encodingName(e){return"string"===typeof e?e:e.getName()}static encodingCharacterSet(e){return e instanceof E?e:E.getCharacterSetECIByName(e)}static decodeFallback(e,t){const n=this.encodingCharacterSet(t);if(A.isDecodeFallbackSupported(n)){let t="";for(let n=0,r=e.length;n<r;n++){let r=e[n].toString(16);r.length<2&&(r="0"+r),t+="%"+r}return decodeURIComponent(t)}if(n.equals(E.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new N("Encoding ".concat(this.encodingName(t)," not supported by fallback."))}static isDecodeFallbackSupported(e){return e.equals(E.UTF8)||e.equals(E.ISO8859_1)||e.equals(E.ASCII)}static encodeFallback(e){const t=btoa(unescape(encodeURIComponent(e))).split(""),n=[];for(let r=0;r<t.length;r++)n.push(t[r].charCodeAt(0));return new Uint8Array(n)}}class I{static castAsNonUtf8Char(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=t?t.getName():this.ISO88591;return A.decode(new Uint8Array([e]),n)}static guessEncoding(e,t){if(null!==t&&void 0!==t&&void 0!==t.get(C.CHARACTER_SET))return t.get(C.CHARACTER_SET).toString();const n=e.length;let r=!0,a=!0,s=!0,i=0,o=0,l=0,c=0,u=0,d=0,h=0,f=0,m=0,p=0,g=0;const y=e.length>3&&239===e[0]&&187===e[1]&&191===e[2];for(let w=0;w<n&&(r||a||s);w++){const t=255&e[w];s&&(i>0?0===(128&t)?s=!1:i--:0!==(128&t)&&(0===(64&t)?s=!1:(i++,0===(32&t)?o++:(i++,0===(16&t)?l++:(i++,0===(8&t)?c++:s=!1))))),r&&(t>127&&t<160?r=!1:t>159&&(t<192||215===t||247===t)&&g++),a&&(u>0?t<64||127===t||t>252?a=!1:u--:128===t||160===t||t>239?a=!1:t>160&&t<224?(d++,f=0,h++,h>m&&(m=h)):t>127?(u++,h=0,f++,f>p&&(p=f)):(h=0,f=0))}return s&&i>0&&(s=!1),a&&u>0&&(a=!1),s&&(y||o+l+c>0)?I.UTF8:a&&(I.ASSUME_SHIFT_JIS||m>=3||p>=3)?I.SHIFT_JIS:r&&a?2===m&&2===d||10*g>=n?I.SHIFT_JIS:I.ISO88591:r?I.ISO88591:a?I.SHIFT_JIS:s?I.UTF8:I.PLATFORM_DEFAULT_ENCODING}static format(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let a=-1;function s(e,t,r,s,i,o){if("%%"===e)return"%";if(void 0===n[++a])return;e=s?parseInt(s.substr(1)):void 0;let l,c=i?parseInt(i.substr(1)):void 0;switch(o){case"s":l=n[a];break;case"c":l=n[a][0];break;case"f":l=parseFloat(n[a]).toFixed(e);break;case"p":l=parseFloat(n[a]).toPrecision(e);break;case"e":l=parseFloat(n[a]).toExponential(e);break;case"x":l=parseInt(n[a]).toString(c||16);break;case"d":l=parseFloat(parseInt(n[a],c||10).toPrecision(e)).toFixed(0)}l="object"===typeof l?JSON.stringify(l):(+l).toString(c);let u=parseInt(r),d=r&&r[0]+""==="0"?"0":" ";for(;l.length<u;)l=void 0!==t?l+d:d+l;return l}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,s)}static getBytes(e,t){return A.encode(e,t)}static getCharCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}I.SHIFT_JIS=E.SJIS.getName(),I.GB2312="GB2312",I.ISO88591=E.ISO8859_1.getName(),I.EUC_JP="EUC_JP",I.UTF8=E.UTF8.getName(),I.PLATFORM_DEFAULT_ENCODING=I.UTF8,I.ASSUME_SHIFT_JIS=!1;class _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return"string"===typeof e?this.value+=e.toString():this.encoding?this.value+=I.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,n){for(let r=t;t<t+n;r++)this.append(e[r]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class T{constructor(e,t,n,r){if(this.width=e,this.height=t,this.rowSize=n,this.bits=r,void 0!==t&&null!==t||(t=e),this.height=t,e<1||t<1)throw new d("Both dimensions must be greater than 0");void 0!==n&&null!==n||(n=Math.floor((e+31)/32)),this.rowSize=n,void 0!==r&&null!==r||(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,n=e[0].length,r=new T(n,t);for(let a=0;a<t;a++){const t=e[a];for(let e=0;e<n;e++)t[e]&&r.set(e,a)}return r}static parseFromString(e,t,n){if(null===e)throw new d("stringRepresentation cannot be null");const r=new Array(e.length);let a=0,s=0,i=-1,o=0,l=0;for(;l<e.length;)if("\n"===e.charAt(l)||"\r"===e.charAt(l)){if(a>s){if(-1===i)i=a-s;else if(a-s!==i)throw new d("row lengths do not match");s=a,o++}l++}else if(e.substring(l,l+t.length)===t)l+=t.length,r[a]=!0,a++;else{if(e.substring(l,l+n.length)!==n)throw new d("illegal character encountered: "+e.substring(l));l+=n.length,r[a]=!1,a++}if(a>s){if(-1===i)i=a-s;else if(a-s!==i)throw new d("row lengths do not match");o++}const c=new T(i,o);for(let u=0;u<a;u++)r[u]&&c.set(Math.floor(u%i),Math.floor(u/i));return c}get(e,t){const n=t*this.rowSize+Math.floor(e/32);return 0!==(this.bits[n]>>>(31&e)&1)}set(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(31&e)&4294967295}unset(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(31&e)&4294967295)}flip(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(31&e)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new d("input matrix dimensions do not match");const t=new x(Math.floor(this.width/32)+1),n=this.rowSize,r=this.bits;for(let a=0,s=this.height;a<s;a++){const s=a*n,i=e.getRow(a,t).getBitArray();for(let e=0;e<n;e++)r[s+e]^=i[e]}}clear(){const e=this.bits,t=e.length;for(let n=0;n<t;n++)e[n]=0}setRegion(e,t,n,r){if(t<0||e<0)throw new d("Left and top must be nonnegative");if(r<1||n<1)throw new d("Height and width must be at least 1");const a=e+n,s=t+r;if(s>this.height||a>this.width)throw new d("The region must fit inside the matrix");const i=this.rowSize,o=this.bits;for(let l=t;l<s;l++){const t=l*i;for(let n=e;n<a;n++)o[t+Math.floor(n/32)]|=1<<(31&n)&4294967295}}getRow(e,t){null===t||void 0===t||t.getSize()<this.width?t=new x(this.width):t.clear();const n=this.rowSize,r=this.bits,a=e*n;for(let s=0;s<n;s++)t.setBulk(32*s,r[a+s]);return t}setRow(e,t){p.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let n=new x(e),r=new x(e);for(let a=0,s=Math.floor((t+1)/2);a<s;a++)n=this.getRow(a,n),r=this.getRow(t-1-a,r),n.reverse(),r.reverse(),this.setRow(a,r),this.setRow(t-1-a,n)}getEnclosingRectangle(){const e=this.width,t=this.height,n=this.rowSize,r=this.bits;let a=e,s=t,i=-1,o=-1;for(let l=0;l<t;l++)for(let e=0;e<n;e++){const t=r[l*n+e];if(0!==t){if(l<s&&(s=l),l>o&&(o=l),32*e<a){let n=0;for(;0===(t<<31-n&4294967295);)n++;32*e+n<a&&(a=32*e+n)}if(32*e+31>i){let n=31;for(;t>>>n===0;)n--;32*e+n>i&&(i=32*e+n)}}}return i<a||o<s?null:Int32Array.from([a,s,i-a+1,o-s+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let n=0;for(;n<t.length&&0===t[n];)n++;if(n===t.length)return null;const r=n/e;let a=n%e*32;const s=t[n];let i=0;for(;0===(s<<31-i&4294967295);)i++;return a+=i,Int32Array.from([a,r])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let n=t.length-1;for(;n>=0&&0===t[n];)n--;if(n<0)return null;const r=Math.floor(n/e);let a=32*Math.floor(n%e);const s=t[n];let i=31;for(;s>>>i===0;)i--;return a+=i,Int32Array.from([a,r])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof T))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&w.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+w.hashCode(this.bits),e}toString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"X ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"  ",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";return this.buildToString(e,t,n)}buildToString(e,t,n){let r=new _;for(let a=0,s=this.height;a<s;a++){for(let n=0,s=this.width;n<s;n++)r.append(this.get(n,a)?e:t);r.append(n)}return r.toString()}clone(){return new T(this.width,this.height,this.rowSize,this.bits.slice())}}class M extends c{static getNotFoundInstance(){return new M}}M.kind="NotFoundException";class D extends m{constructor(e){super(e),this.luminances=D.EMPTY,this.buckets=new Int32Array(D.LUMINANCE_BUCKETS)}getBlackRow(e,t){const n=this.getLuminanceSource(),r=n.getWidth();void 0===t||null===t||t.getSize()<r?t=new x(r):t.clear(),this.initArrays(r);const a=n.getRow(e,this.luminances),s=this.buckets;for(let o=0;o<r;o++)s[(255&a[o])>>D.LUMINANCE_SHIFT]++;const i=D.estimateBlackPoint(s);if(r<3)for(let o=0;o<r;o++)(255&a[o])<i&&t.set(o);else{let e=255&a[0],n=255&a[1];for(let s=1;s<r-1;s++){const r=255&a[s+1];(4*n-e-r)/2<i&&t.set(s),e=n,n=r}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight(),r=new T(t,n);this.initArrays(t);const a=this.buckets;for(let o=1;o<5;o++){const r=Math.floor(n*o/5),s=e.getRow(r,this.luminances),i=Math.floor(4*t/5);for(let e=Math.floor(t/5);e<i;e++)a[(255&s[e])>>D.LUMINANCE_SHIFT]++}const s=D.estimateBlackPoint(a),i=e.getMatrix();for(let o=0;o<n;o++){const e=o*t;for(let n=0;n<t;n++)(255&i[e+n])<s&&r.set(n,o)}return r}createBinarizer(e){return new D(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let n=0;n<D.LUMINANCE_BUCKETS;n++)t[n]=0}static estimateBlackPoint(e){const t=e.length;let n=0,r=0,a=0;for(let c=0;c<t;c++)e[c]>a&&(r=c,a=e[c]),e[c]>n&&(n=e[c]);let s=0,i=0;for(let c=0;c<t;c++){const t=c-r,n=e[c]*t*t;n>i&&(s=c,i=n)}if(r>s){const e=r;r=s,s=e}if(s-r<=t/16)throw new M;let o=s-1,l=-1;for(let c=s-1;c>r;c--){const t=c-r,a=t*t*(s-c)*(n-e[c]);a>l&&(o=c,l=a)}return o<<D.LUMINANCE_SHIFT}}D.LUMINANCE_BITS=5,D.LUMINANCE_SHIFT=8-D.LUMINANCE_BITS,D.LUMINANCE_BUCKETS=1<<D.LUMINANCE_BITS,D.EMPTY=Uint8ClampedArray.from([0]);class R extends D{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight();if(t>=R.MINIMUM_DIMENSION&&n>=R.MINIMUM_DIMENSION){const r=e.getMatrix();let a=t>>R.BLOCK_SIZE_POWER;0!==(t&R.BLOCK_SIZE_MASK)&&a++;let s=n>>R.BLOCK_SIZE_POWER;0!==(n&R.BLOCK_SIZE_MASK)&&s++;const i=R.calculateBlackPoints(r,a,s,t,n),o=new T(t,n);R.calculateThresholdForBlock(r,a,s,t,n,i,o),this.matrix=o}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new R(e)}static calculateThresholdForBlock(e,t,n,r,a,s,i){const o=a-R.BLOCK_SIZE,l=r-R.BLOCK_SIZE;for(let c=0;c<n;c++){let a=c<<R.BLOCK_SIZE_POWER;a>o&&(a=o);const u=R.cap(c,2,n-3);for(let n=0;n<t;n++){let o=n<<R.BLOCK_SIZE_POWER;o>l&&(o=l);const c=R.cap(n,2,t-3);let d=0;for(let e=-2;e<=2;e++){const t=s[u+e];d+=t[c-2]+t[c-1]+t[c]+t[c+1]+t[c+2]}const h=d/25;R.thresholdBlock(e,o,a,h,r,i)}}}static cap(e,t,n){return e<t?t:e>n?n:e}static thresholdBlock(e,t,n,r,a,s){for(let i=0,o=n*a+t;i<R.BLOCK_SIZE;i++,o+=a)for(let a=0;a<R.BLOCK_SIZE;a++)(255&e[o+a])<=r&&s.set(t+a,n+i)}static calculateBlackPoints(e,t,n,r,a){const s=a-R.BLOCK_SIZE,i=r-R.BLOCK_SIZE,o=new Array(n);for(let l=0;l<n;l++){o[l]=new Int32Array(t);let n=l<<R.BLOCK_SIZE_POWER;n>s&&(n=s);for(let a=0;a<t;a++){let t=a<<R.BLOCK_SIZE_POWER;t>i&&(t=i);let s=0,c=255,u=0;for(let a=0,i=n*r+t;a<R.BLOCK_SIZE;a++,i+=r){for(let t=0;t<R.BLOCK_SIZE;t++){const n=255&e[i+t];s+=n,n<c&&(c=n),n>u&&(u=n)}if(u-c>R.MIN_DYNAMIC_RANGE)for(a++,i+=r;a<R.BLOCK_SIZE;a++,i+=r)for(let t=0;t<R.BLOCK_SIZE;t++)s+=255&e[i+t]}let d=s>>2*R.BLOCK_SIZE_POWER;if(u-c<=R.MIN_DYNAMIC_RANGE&&(d=c/2,l>0&&a>0)){const e=(o[l-1][a]+2*o[l][a-1]+o[l-1][a-1])/4;c<e&&(d=e)}o[l][a]=d}}return o}}R.BLOCK_SIZE_POWER=3,R.BLOCK_SIZE=1<<R.BLOCK_SIZE_POWER,R.BLOCK_SIZE_MASK=R.BLOCK_SIZE-1,R.MINIMUM_DIMENSION=5*R.BLOCK_SIZE,R.MIN_DYNAMIC_RANGE=24;class j{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,n,r){throw new N("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new N("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new N("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new _;for(let n=0;n<this.height;n++){const r=this.getRow(n,e);for(let e=0;e<this.width;e++){const n=255&r[e];let a;a=n<64?"#":n<128?"+":n<192?".":" ",t.append(a)}t.append("\n")}return t.toString()}}class O extends j{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const n=this.delegate.getRow(e,t),r=this.getWidth();for(let a=0;a<r;a++)n[a]=255-(255&n[a]);return n}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t);for(let r=0;r<t;r++)n[r]=255-(255&e[r]);return n}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,n,r){return new O(this.delegate.crop(e,t,n,r))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new O(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new O(this.delegate.rotateCounterClockwise45())}}class k extends j{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=k.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return k.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,n){const r=new Uint8ClampedArray(t*n);for(let a=0,s=0,i=e.length;a<i;a+=4,s++){let t;t=0===e[a+3]?255:306*e[a]+601*e[a+1]+117*e[a+2]+512>>10,r[s]=t}return r}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const n=this.getWidth(),r=e*n;return null===t?t=this.buffer.slice(r,r+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(r,r+n))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,n,r){return super.crop(e,t,n,r),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),n=t.getContext("2d"),r=e*k.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,i=Math.ceil(Math.abs(Math.cos(r))*a+Math.abs(Math.sin(r))*s),o=Math.ceil(Math.abs(Math.sin(r))*a+Math.abs(Math.cos(r))*s);return t.width=i,t.height=o,n.translate(i/2,o/2),n.rotate(r),n.drawImage(this.canvas,a/-2,s/-2),this.buffer=k.makeBufferFromCanvasImageData(t),this}invert(){return new O(this)}}k.DEGREE_TO_RADIANS=Math.PI/180;class P{constructor(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var L,B=(globalThis||n.g||self||window?(globalThis||n.g||self||window||void 0).__awaiter:void 0)||function(e,t,n,r){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function i(e){try{l(r.next(e))}catch(t){s(t)}}function o(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){e.done?n(e.value):a(e.value).then(i,o)}l((r=r.apply(e,t||[])).next())}))};class F{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2?arguments[2]:void 0;this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return"undefined"!==typeof navigator}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return B(this,void 0,void 0,(function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const n of e){const e="video"===n.kind?"videoinput":n.kind;if("videoinput"!==e)continue;const r={deviceId:n.deviceId||n.id,label:n.label||"Video device ".concat(t.length+1),kind:e,groupId:n.groupId};t.push(r)}return t}))}getVideoInputDevices(){return B(this,void 0,void 0,(function*(){return(yield this.listVideoInputDevices()).map((e=>new P(e.deviceId,e.label)))}))}findDeviceById(e){return B(this,void 0,void 0,(function*(){const t=yield this.listVideoInputDevices();return t?t.find((t=>t.deviceId===e)):null}))}decodeFromInputVideoDevice(e,t){return B(this,void 0,void 0,(function*(){return yield this.decodeOnceFromVideoDevice(e,t)}))}decodeOnceFromVideoDevice(e,t){return B(this,void 0,void 0,(function*(){let n;this.reset(),n=e?{deviceId:{exact:e}}:{facingMode:"environment"};const r={video:n};return yield this.decodeOnceFromConstraints(r,t)}))}decodeOnceFromConstraints(e,t){return B(this,void 0,void 0,(function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(n,t)}))}decodeOnceFromStream(e,t){return B(this,void 0,void 0,(function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(n)}))}decodeFromInputVideoDeviceContinuously(e,t,n){return B(this,void 0,void 0,(function*(){return yield this.decodeFromVideoDevice(e,t,n)}))}decodeFromVideoDevice(e,t,n){return B(this,void 0,void 0,(function*(){let r;r=e?{deviceId:{exact:e}}:{facingMode:"environment"};const a={video:r};return yield this.decodeFromConstraints(a,t,n)}))}decodeFromConstraints(e,t,n){return B(this,void 0,void 0,(function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(r,t,n)}))}decodeFromStream(e,t,n){return B(this,void 0,void 0,(function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(r,n)}))}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return B(this,void 0,void 0,(function*(){const n=this.prepareVideoElement(t);return this.addVideoSource(n,e),this.videoElement=n,this.stream=e,yield this.playVideoOnLoadAsync(n),n}))}playVideoOnLoadAsync(e){return new Promise(((t,n)=>this.playVideoOnLoad(e,(()=>t()))))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return B(this,void 0,void 0,(function*(){if(this.isVideoPlaying(e))console.warn("Trying to play video that is already playing.");else try{yield e.play()}catch(t){console.warn("It was not possible to play the video.")}}))}getMediaElement(e,t){const n=document.getElementById(e);if(!n)throw new u("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new u("element with id '".concat(e,"' must be an ").concat(t," element"));return n}decodeFromImage(e,t){if(!e&&!t)throw new u("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new u("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,n){if(void 0===e&&void 0===t)throw new u("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)}decodeFromImageElement(e){if(!e)throw new u("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);let n;return this.imageElement=t,n=this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t),n}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)}_decodeFromVideoElementSetup(e){if(!e)throw new u("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new u("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const n=this._decodeOnLoadImage(t);return t.src=e,n}decodeFromVideoUrl(e){if(!e)throw new u("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n}decodeFromVideoUrlContinuously(e,t){if(!e)throw new u("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(n,t);return n.src=e,r}_decodeOnLoadImage(e){return new Promise(((t,n)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,n),e.addEventListener("load",this.imageLoadedListener)}))}_decodeOnLoadVideo(e){return B(this,void 0,void 0,(function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)}))}_decodeOnLoadVideoContinuously(e,t){return B(this,void 0,void 0,(function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)}))}isImageLoaded(e){return!!e.complete&&0!==e.naturalWidth}prepareImageElement(e){let t;return"undefined"===typeof e&&(t=document.createElement("img"),t.width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return e||"undefined"===typeof document||(t=document.createElement("video"),t.width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._stopAsyncDecode=!1;const r=(a,s)=>{if(this._stopAsyncDecode)return s(new M("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{a(this.decode(e))}catch(i){if(t&&i instanceof M||(i instanceof f||i instanceof S)&&n)return setTimeout(r,this._timeBetweenDecodingAttempts,a,s);s(i)}};return new Promise(((e,t)=>r(e,t)))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const n=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const r=this.decode(e);t(r,null),setTimeout(n,this.timeBetweenScansMillis)}catch(r){t(null,r),(r instanceof f||r instanceof S||r instanceof M)&&setTimeout(n,this._timeBetweenDecodingAttempts)}};n()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return 0!==e.videoWidth}drawFrameOnCanvas(e,t,n){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.captureCanvasContext;t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),n=new k(t),r=new R(n);return new h(r)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const t=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=t}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if("undefined"===typeof document)return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let n,r;return"undefined"!==typeof e&&(e instanceof HTMLVideoElement?(n=e.videoWidth,r=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,r=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=r+"px",t.width=n,t.height=r,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach((e=>e.stop())),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&("undefined"!==typeof this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),"undefined"!==typeof this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),"undefined"!==typeof this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch(n){e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch(t){e.src=""}this.videoElement.removeAttribute("src")}}class U{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?0:8*t.length,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:p.currentTimeMillis();this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=r,this.format=a,this.timestamp=s,this.text=e,this.rawBytes=t,this.numBits=void 0===n||null===n?null===t||void 0===t?0:8*t.length:n,this.resultPoints=r,this.format=a,this.resultMetadata=null,this.timestamp=void 0===s||null===s?p.currentTimeMillis():s}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){const n=new Array(t.length+e.length);p.arraycopy(t,0,n,0,t.length),p.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}}getTimestamp(){return this.timestamp}toString(){return this.text}}!function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(L||(L={}));var z,H=L;!function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(z||(z={}));var V,W,G,Y,X,Q,q=z;class Z{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1;this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=r,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=s,this.numBits=void 0===e||null===e?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class K{exp(e){return this.expTable[e]}log(e){if(0===e)throw new d;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class ${constructor(e,t){if(0===t.length)throw new d;this.field=e;const n=t.length;if(n>1&&0===t[0]){let e=1;for(;e<n&&0===t[e];)e++;e===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-e),p.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);const t=this.coefficients;let n;if(1===e){n=0;for(let e=0,r=t.length;e!==r;e++){const r=t[e];n=K.addOrSubtract(n,r)}return n}n=t[0];const r=t.length,a=this.field;for(let s=1;s<r;s++)n=K.addOrSubtract(a.multiply(e,n),t[s]);return n}addOrSubtract(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){const e=t;t=n,n=e}let r=new Int32Array(n.length);const a=n.length-t.length;p.arraycopy(n,0,r,0,a);for(let s=a;s<n.length;s++)r[s]=K.addOrSubtract(t[s-a],n[s]);return new $(this.field,r)}multiply(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,n=t.length,r=e.coefficients,a=r.length,s=new Int32Array(n+a-1),i=this.field;for(let o=0;o<n;o++){const e=t[o];for(let t=0;t<a;t++)s[o+t]=K.addOrSubtract(s[o+t],i.multiply(e,r[t]))}return new $(i,s)}multiplyScalar(e){if(0===e)return this.field.getZero();if(1===e)return this;const t=this.coefficients.length,n=this.field,r=new Int32Array(t),a=this.coefficients;for(let s=0;s<t;s++)r[s]=n.multiply(a[s],e);return new $(n,r)}multiplyByMonomial(e,t){if(e<0)throw new d;if(0===t)return this.field.getZero();const n=this.coefficients,r=n.length,a=new Int32Array(r+e),s=this.field;for(let i=0;i<r;i++)a[i]=s.multiply(n[i],t);return new $(s,a)}divide(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new d("Divide by 0");const t=this.field;let n=t.getZero(),r=this;const a=e.getCoefficient(e.getDegree()),s=t.inverse(a);for(;r.getDegree()>=e.getDegree()&&!r.isZero();){const a=r.getDegree()-e.getDegree(),i=t.multiply(r.getCoefficient(r.getDegree()),s),o=e.multiplyByMonomial(a,i),l=t.buildMonomial(a,i);n=n.addOrSubtract(l),r=r.addOrSubtract(o)}return[n,r]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);if(0!==n){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),0===t||1!==n){const t=this.field.log(n);0===t?e+="1":1===t?e+="a":(e+="a^",e+=t)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e}}class J extends c{}J.kind="ArithmeticException";class ee extends K{constructor(e,t,n){super(),this.primitive=e,this.size=t,this.generatorBase=n;const r=new Int32Array(t);let a=1;for(let i=0;i<t;i++)r[i]=a,a*=2,a>=t&&(a^=e,a&=t-1);this.expTable=r;const s=new Int32Array(t);for(let i=0;i<t-1;i++)s[r[i]]=i;this.logTable=s,this.zero=new $(this,Int32Array.from([0])),this.one=new $(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new d;if(0===t)return this.zero;const n=new Int32Array(e+1);return n[0]=t,new $(this,n)}inverse(e){if(0===e)throw new J;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+b.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ee.AZTEC_DATA_12=new ee(4201,4096,1),ee.AZTEC_DATA_10=new ee(1033,1024,1),ee.AZTEC_DATA_6=new ee(67,64,1),ee.AZTEC_PARAM=new ee(19,16,1),ee.QR_CODE_FIELD_256=new ee(285,256,0),ee.DATA_MATRIX_FIELD_256=new ee(301,256,1),ee.AZTEC_DATA_8=ee.DATA_MATRIX_FIELD_256,ee.MAXICODE_FIELD_64=ee.AZTEC_DATA_6;class te extends c{}te.kind="ReedSolomonException";class ne extends c{}ne.kind="IllegalStateException";class re{constructor(e){this.field=e}decode(e,t){const n=this.field,r=new $(n,e),a=new Int32Array(t);let s=!0;for(let h=0;h<t;h++){const e=r.evaluateAt(n.exp(h+n.getGeneratorBase()));a[a.length-1-h]=e,0!==e&&(s=!1)}if(s)return;const i=new $(n,a),o=this.runEuclideanAlgorithm(n.buildMonomial(t,1),i,t),l=o[0],c=o[1],u=this.findErrorLocations(l),d=this.findErrorMagnitudes(c,u);for(let h=0;h<u.length;h++){const t=e.length-1-n.log(u[h]);if(t<0)throw new te("Bad error location");e[t]=ee.addOrSubtract(e[t],d[h])}}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){const n=e;e=t,t=n}const r=this.field;let a=e,s=t,i=r.getZero(),o=r.getOne();for(;s.getDegree()>=(n/2|0);){let e=a,t=i;if(a=s,i=o,a.isZero())throw new te("r_{i-1} was zero");s=e;let n=r.getZero();const l=a.getCoefficient(a.getDegree()),c=r.inverse(l);for(;s.getDegree()>=a.getDegree()&&!s.isZero();){const e=s.getDegree()-a.getDegree(),t=r.multiply(s.getCoefficient(s.getDegree()),c);n=n.addOrSubtract(r.buildMonomial(e,t)),s=s.addOrSubtract(a.multiplyByMonomial(e,t))}if(o=n.multiply(i).addOrSubtract(t),s.getDegree()>=a.getDegree())throw new ne("Division algorithm failed to reduce polynomial?")}const l=o.getCoefficient(0);if(0===l)throw new te("sigmaTilde(0) was zero");const c=r.inverse(l);return[o.multiplyScalar(c),s.multiplyScalar(c)]}findErrorLocations(e){const t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);const n=new Int32Array(t);let r=0;const a=this.field;for(let s=1;s<a.getSize()&&r<t;s++)0===e.evaluateAt(s)&&(n[r]=a.inverse(s),r++);if(r!==t)throw new te("Error locator degree does not match number of roots");return n}findErrorMagnitudes(e,t){const n=t.length,r=new Int32Array(n),a=this.field;for(let s=0;s<n;s++){const i=a.inverse(t[s]);let o=1;for(let e=0;e<n;e++)if(s!==e){const n=a.multiply(t[e],i),r=0===(1&n)?1|n:-2&n;o=a.multiply(o,r)}r[s]=a.multiply(e.evaluateAt(i),a.inverse(o)),0!==a.getGeneratorBase()&&(r[s]=a.multiply(r[s],i))}return r}}!function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"}(V||(V={}));class ae{decode(e){this.ddata=e;let t=e.getBits(),n=this.extractBits(t),r=this.correctBits(n),a=ae.convertBoolArrayToByteArray(r),s=ae.getEncodedData(r),i=new Z(a,s,null,null);return i.setNumBits(r.length),i}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,n=V.UPPER,r=V.UPPER,a="",s=0;for(;s<t;)if(r===V.BINARY){if(t-s<5)break;let i=ae.readCode(e,s,5);if(s+=5,0===i){if(t-s<11)break;i=ae.readCode(e,s,11)+31,s+=11}for(let n=0;n<i;n++){if(t-s<8){s=t;break}const n=ae.readCode(e,s,8);a+=I.castAsNonUtf8Char(n),s+=8}r=n}else{let i=r===V.DIGIT?4:5;if(t-s<i)break;let o=ae.readCode(e,s,i);s+=i;let l=ae.getCharacter(r,o);l.startsWith("CTRL_")?(n=r,r=ae.getTable(l.charAt(5)),"L"===l.charAt(6)&&(n=r)):(a+=l,r=n)}return a}static getTable(e){switch(e){case"L":return V.LOWER;case"P":return V.PUNCT;case"M":return V.MIXED;case"D":return V.DIGIT;case"B":return V.BINARY;default:return V.UPPER}}static getCharacter(e,t){switch(e){case V.UPPER:return ae.UPPER_TABLE[t];case V.LOWER:return ae.LOWER_TABLE[t];case V.MIXED:return ae.MIXED_TABLE[t];case V.PUNCT:return ae.PUNCT_TABLE[t];case V.DIGIT:return ae.DIGIT_TABLE[t];default:throw new ne("Bad table")}}correctBits(e){let t,n;this.ddata.getNbLayers()<=2?(n=6,t=ee.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=ee.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=ee.AZTEC_DATA_10):(n=12,t=ee.AZTEC_DATA_12);let r=this.ddata.getNbDatablocks(),a=e.length/n;if(a<r)throw new S;let s=e.length%n,i=new Int32Array(a);for(let h=0;h<a;h++,s+=n)i[h]=ae.readCode(e,s,n);try{new re(t).decode(i,a-r)}catch(d){throw new S(d)}let o=(1<<n)-1,l=0;for(let h=0;h<r;h++){let e=i[h];if(0===e||e===o)throw new S;1!==e&&e!==o-1||l++}let c=new Array(r*n-l),u=0;for(let h=0;h<r;h++){let e=i[h];if(1===e||e===o-1)c.fill(e>1,u,u+n-1),u+=n-1;else for(let t=n-1;t>=0;--t)c[u++]=0!==(e&1<<t)}return c}extractBits(e){let t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),r=(t?11:14)+4*n,a=new Int32Array(r),s=new Array(this.totalBitsInLayer(n,t));if(t)for(let i=0;i<a.length;i++)a[i]=i;else{let e=r+1+2*b.truncDivision(b.truncDivision(r,2)-1,15),t=r/2,n=b.truncDivision(e,2);for(let r=0;r<t;r++){let e=r+b.truncDivision(r,15);a[t-r-1]=n-e-1,a[t+r]=n+e+1}}for(let i=0,o=0;i<n;i++){let l=4*(n-i)+(t?9:12),c=2*i,u=r-1-c;for(let t=0;t<l;t++){let n=2*t;for(let r=0;r<2;r++)s[o+n+r]=e.get(a[c+r],a[c+t]),s[o+2*l+n+r]=e.get(a[c+t],a[u-r]),s[o+4*l+n+r]=e.get(a[u-r],a[u-t]),s[o+6*l+n+r]=e.get(a[u-t],a[c+r])}o+=8*l}return s}static readCode(e,t,n){let r=0;for(let a=t;a<t+n;a++)r<<=1,e[a]&&(r|=1);return r}static readByte(e,t){let n=e.length-t;return n>=8?ae.readCode(e,t,8):ae.readCode(e,t,n)<<8-n}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let n=0;n<t.length;n++)t[n]=ae.readByte(e,8*n);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ae.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ae.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ae.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ae.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ae.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class se{constructor(){}static round(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,n,r){const a=e-n,s=t-r;return Math.sqrt(a*a+s*s)}static sum(e){let t=0;for(let n=0,r=e.length;n!==r;n++)t+=e[n];return t}}class ie{static floatToIntBits(e){return e}}ie.MAX_VALUE=Number.MAX_SAFE_INTEGER;class oe{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof oe){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*ie.floatToIntBits(this.x)+ie.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),r=this.distance(e[0],e[2]);let a,s,i;if(n>=t&&n>=r?(s=e[0],a=e[1],i=e[2]):r>=n&&r>=t?(s=e[1],a=e[0],i=e[2]):(s=e[2],a=e[0],i=e[1]),this.crossProductZ(a,s,i)<0){const e=a;a=i,i=e}e[0]=a,e[1]=s,e[2]=i}static distance(e,t){return se.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,n){const r=t.x,a=t.y;return(n.x-r)*(e.y-a)-(n.y-a)*(e.x-r)}}class le{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class ce extends le{constructor(e,t,n,r,a){super(e,t),this.compact=n,this.nbDatablocks=r,this.nbLayers=a}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ue{constructor(e,t,n,r){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),void 0!==t&&null!==t||(t=ue.INIT_SIZE),void 0!==n&&null!==n||(n=e.getWidth()/2|0),void 0!==r&&null!==r||(r=e.getHeight()/2|0);const a=t/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=r-a,this.downInit=r+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new M}detect(){let e=this.leftInit,t=this.rightInit,n=this.upInit,r=this.downInit,a=!1,s=!0,i=!1,o=!1,l=!1,c=!1,u=!1;const d=this.width,h=this.height;for(;s;){s=!1;let f=!0;for(;(f||!o)&&t<d;)f=this.containsBlackPoint(n,r,t,!1),f?(t++,s=!0,o=!0):o||t++;if(t>=d){a=!0;break}let m=!0;for(;(m||!l)&&r<h;)m=this.containsBlackPoint(e,t,r,!0),m?(r++,s=!0,l=!0):l||r++;if(r>=h){a=!0;break}let p=!0;for(;(p||!c)&&e>=0;)p=this.containsBlackPoint(n,r,e,!1),p?(e--,s=!0,c=!0):c||e--;if(e<0){a=!0;break}let g=!0;for(;(g||!u)&&n>=0;)g=this.containsBlackPoint(e,t,n,!0),g?(n--,s=!0,u=!0):u||n--;if(n<0){a=!0;break}s&&(i=!0)}if(!a&&i){const a=t-e;let s=null;for(let t=1;null===s&&t<a;t++)s=this.getBlackPointOnSegment(e,r-t,e+t,r);if(null==s)throw new M;let i=null;for(let t=1;null===i&&t<a;t++)i=this.getBlackPointOnSegment(e,n+t,e+t,n);if(null==i)throw new M;let o=null;for(let e=1;null===o&&e<a;e++)o=this.getBlackPointOnSegment(t,n+e,t-e,n);if(null==o)throw new M;let l=null;for(let e=1;null===l&&e<a;e++)l=this.getBlackPointOnSegment(t,r-e,t-e,r);if(null==l)throw new M;return this.centerEdges(l,s,o,i)}throw new M}getBlackPointOnSegment(e,t,n,r){const a=se.round(se.distance(e,t,n,r)),s=(n-e)/a,i=(r-t)/a,o=this.image;for(let l=0;l<a;l++){const n=se.round(e+l*s),r=se.round(t+l*i);if(o.get(n,r))return new oe(n,r)}return null}centerEdges(e,t,n,r){const a=e.getX(),s=e.getY(),i=t.getX(),o=t.getY(),l=n.getX(),c=n.getY(),u=r.getX(),d=r.getY(),h=ue.CORR;return a<this.width/2?[new oe(u-h,d+h),new oe(i+h,o+h),new oe(l-h,c-h),new oe(a+h,s-h)]:[new oe(u+h,d+h),new oe(i+h,o-h),new oe(l-h,c+h),new oe(a-h,s-h)]}containsBlackPoint(e,t,n,r){const a=this.image;if(r){for(let s=e;s<=t;s++)if(a.get(s,n))return!0}else for(let s=e;s<=t;s++)if(a.get(n,s))return!0;return!1}}ue.INIT_SIZE=10,ue.CORR=1;class de{static checkAndNudgePoints(e,t){const n=e.getWidth(),r=e.getHeight();let a=!0;for(let s=0;s<t.length&&a;s+=2){const e=Math.floor(t[s]),i=Math.floor(t[s+1]);if(e<-1||e>n||i<-1||i>r)throw new M;a=!1,-1===e?(t[s]=0,a=!0):e===n&&(t[s]=n-1,a=!0),-1===i?(t[s+1]=0,a=!0):i===r&&(t[s+1]=r-1,a=!0)}a=!0;for(let s=t.length-2;s>=0&&a;s-=2){const e=Math.floor(t[s]),i=Math.floor(t[s+1]);if(e<-1||e>n||i<-1||i>r)throw new M;a=!1,-1===e?(t[s]=0,a=!0):e===n&&(t[s]=n-1,a=!0),-1===i?(t[s+1]=0,a=!0):i===r&&(t[s+1]=r-1,a=!0)}}}class he{constructor(e,t,n,r,a,s,i,o,l){this.a11=e,this.a21=t,this.a31=n,this.a12=r,this.a22=a,this.a32=s,this.a13=i,this.a23=o,this.a33=l}static quadrilateralToQuadrilateral(e,t,n,r,a,s,i,o,l,c,u,d,h,f,m,p){const g=he.quadrilateralToSquare(e,t,n,r,a,s,i,o);return he.squareToQuadrilateral(l,c,u,d,h,f,m,p).times(g)}transformPoints(e){const t=e.length,n=this.a11,r=this.a12,a=this.a13,s=this.a21,i=this.a22,o=this.a23,l=this.a31,c=this.a32,u=this.a33;for(let d=0;d<t;d+=2){const t=e[d],h=e[d+1],f=a*t+o*h+u;e[d]=(n*t+s*h+l)/f,e[d+1]=(r*t+i*h+c)/f}}transformPointsWithValues(e,t){const n=this.a11,r=this.a12,a=this.a13,s=this.a21,i=this.a22,o=this.a23,l=this.a31,c=this.a32,u=this.a33,d=e.length;for(let h=0;h<d;h++){const d=e[h],f=t[h],m=a*d+o*f+u;e[h]=(n*d+s*f+l)/m,t[h]=(r*d+i*f+c)/m}}static squareToQuadrilateral(e,t,n,r,a,s,i,o){const l=e-n+a-i,c=t-r+s-o;if(0===l&&0===c)return new he(n-e,a-n,e,r-t,s-r,t,0,0,1);{const u=n-a,d=i-a,h=r-s,f=o-s,m=u*f-d*h,p=(l*f-d*c)/m,g=(u*c-l*h)/m;return new he(n-e+p*n,i-e+g*i,e,r-t+p*r,o-t+g*o,t,p,g,1)}}static quadrilateralToSquare(e,t,n,r,a,s,i,o){return he.squareToQuadrilateral(e,t,n,r,a,s,i,o).buildAdjoint()}buildAdjoint(){return new he(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new he(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class fe extends de{sampleGrid(e,t,n,r,a,s,i,o,l,c,u,d,h,f,m,p,g,y,w){const b=he.quadrilateralToQuadrilateral(r,a,s,i,o,l,c,u,d,h,f,m,p,g,y,w);return this.sampleGridWithTransform(e,t,n,b)}sampleGridWithTransform(e,t,n,r){if(t<=0||n<=0)throw new M;const a=new T(t,n),s=new Float32Array(2*t);for(let o=0;o<n;o++){const t=s.length,n=o+.5;for(let e=0;e<t;e+=2)s[e]=e/2+.5,s[e+1]=n;r.transformPoints(s),de.checkAndNudgePoints(e,s);try{for(let n=0;n<t;n+=2)e.get(Math.floor(s[n]),Math.floor(s[n+1]))&&a.set(n/2,o)}catch(i){throw new M}}return a}}class me{static setGridSampler(e){me.gridSampler=e}static getInstance(){return me.gridSampler}}me.gridSampler=new fe;class pe{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ge{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){let e=n[0];n[0]=n[2],n[2]=e}this.extractParameters(n);let r=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),a=this.getMatrixCornerPoints(n);return new ce(r,a,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new M;let t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);let r=0;for(let s=0;s<4;s++){let e=n[(this.shift+s)%4];this.compact?(r<<=7,r+=e>>1&127):(r<<=10,r+=(e>>2&992)+(e>>1&31))}let a=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=1+(a>>6),this.nbDataBlocks=1+(63&a)):(this.nbLayers=1+(a>>11),this.nbDataBlocks=1+(2047&a))}getRotation(e,t){let n=0;e.forEach(((e,r,a)=>{n=(e>>t-2<<1)+(1&e)+(n<<3)})),n=((1&n)<<11)+(n>>1);for(let r=0;r<4;r++)if(b.bitCount(n^this.EXPECTED_CORNER_BITS[r])<=2)return r;throw new M}getCorrectedParameterData(e,t){let n,r;t?(n=7,r=2):(n=10,r=4);let a=n-r,s=new Int32Array(n);for(let l=n-1;l>=0;--l)s[l]=15&e,e>>=4;try{new re(ee.AZTEC_PARAM).decode(s,a)}catch(o){throw new M}let i=0;for(let l=0;l<r;l++)i=(i<<4)+s[l];return i}getBullsEyeCorners(e){let t=e,n=e,r=e,a=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let e=this.getFirstDifferent(t,s,1,-1),i=this.getFirstDifferent(n,s,1,1),o=this.getFirstDifferent(r,s,-1,1),l=this.getFirstDifferent(a,s,-1,-1);if(this.nbCenterLayers>2){let n=this.distancePoint(l,e)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(n<.75||n>1.25||!this.isWhiteOrBlackRectangle(e,i,o,l))break}t=e,n=i,r=o,a=l,s=!s}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new M;this.compact=5===this.nbCenterLayers;let i=new oe(t.getX()+.5,t.getY()-.5),o=new oe(n.getX()+.5,n.getY()+.5),l=new oe(r.getX()-.5,r.getY()+.5),c=new oe(a.getX()-.5,a.getY()-.5);return this.expandSquare([i,o,l,c],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,n,r;try{let a=new ue(this.image).detect();e=a[0],t=a[1],n=a[2],r=a[3]}catch(i){let a=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new pe(a+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new pe(a+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new pe(a-7,s+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new pe(a-7,s-7),!1,-1,-1).toResultPoint()}let a=se.round((e.getX()+r.getX()+t.getX()+n.getX())/4),s=se.round((e.getY()+r.getY()+t.getY()+n.getY())/4);try{let i=new ue(this.image,15,a,s).detect();e=i[0],t=i[1],n=i[2],r=i[3]}catch(i){e=this.getFirstDifferent(new pe(a+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new pe(a+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new pe(a-7,s+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new pe(a-7,s-7),!1,-1,-1).toResultPoint()}return a=se.round((e.getX()+r.getX()+t.getX()+n.getX())/4),s=se.round((e.getY()+r.getY()+t.getY()+n.getY())/4),new pe(a,s)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,n,r,a){let s=me.getInstance(),i=this.getDimension(),o=i/2-this.nbCenterLayers,l=i/2+this.nbCenterLayers;return s.sampleGrid(e,i,i,o,o,l,o,l,l,o,l,t.getX(),t.getY(),n.getX(),n.getY(),r.getX(),r.getY(),a.getX(),a.getY())}sampleLine(e,t,n){let r=0,a=this.distanceResultPoint(e,t),s=a/n,i=e.getX(),o=e.getY(),l=s*(t.getX()-e.getX())/a,c=s*(t.getY()-e.getY())/a;for(let u=0;u<n;u++)this.image.get(se.round(i+u*l),se.round(o+u*c))&&(r|=1<<n-u-1);return r}isWhiteOrBlackRectangle(e,t,n,r){let a=3;e=new pe(e.getX()-a,e.getY()+a),t=new pe(t.getX()-a,t.getY()-a),n=new pe(n.getX()+a,n.getY()-a),r=new pe(r.getX()+a,r.getY()+a);let s=this.getColor(r,e);if(0===s)return!1;let i=this.getColor(e,t);return i===s&&(i=this.getColor(t,n),i===s&&(i=this.getColor(n,r),i===s))}getColor(e,t){let n=this.distancePoint(e,t),r=(t.getX()-e.getX())/n,a=(t.getY()-e.getY())/n,s=0,i=e.getX(),o=e.getY(),l=this.image.get(e.getX(),e.getY()),c=Math.ceil(n);for(let d=0;d<c;d++)i+=r,o+=a,this.image.get(se.round(i),se.round(o))!==l&&s++;let u=s/n;return u>.1&&u<.9?0:u<=.1===l?1:-1}getFirstDifferent(e,t,n,r){let a=e.getX()+n,s=e.getY()+r;for(;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=n,s+=r;for(a-=n,s-=r;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=n;for(a-=n;this.isValid(a,s)&&this.image.get(a,s)===t;)s+=r;return s-=r,new pe(a,s)}expandSquare(e,t,n){let r=n/(2*t),a=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),i=(e[0].getX()+e[2].getX())/2,o=(e[0].getY()+e[2].getY())/2,l=new oe(i+r*a,o+r*s),c=new oe(i-r*a,o-r*s);return a=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),i=(e[1].getX()+e[3].getX())/2,o=(e[1].getY()+e[3].getY())/2,[l,new oe(i+r*a,o+r*s),c,new oe(i-r*a,o-r*s)]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=se.round(e.getX()),n=se.round(e.getY());return this.isValid(t,n)}distancePoint(e,t){return se.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return se.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(b.truncDivision(this.nbLayers-4,8)+1)+15}}class ye{decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null,r=new ge(e.getBlackMatrix()),a=null,s=null;try{let e=r.detectMirror(!1);a=e.getPoints(),this.reportFoundResultPoints(t,a),s=(new ae).decode(e)}catch(c){n=c}if(null==s)try{let e=r.detectMirror(!0);a=e.getPoints(),this.reportFoundResultPoints(t,a),s=(new ae).decode(e)}catch(c){if(null!=n)throw n;throw c}let i=new U(s.getText(),s.getRawBytes(),s.getNumBits(),a,H.AZTEC,p.currentTimeMillis()),o=s.getByteSegments();null!=o&&i.putMetadata(q.BYTE_SEGMENTS,o);let l=s.getECLevel();return null!=l&&i.putMetadata(q.ERROR_CORRECTION_LEVEL,l),i}reportFoundResultPoints(e,t){if(null!=e){let n=e.get(C.NEED_RESULT_POINT_CALLBACK);null!=n&&t.forEach(((e,t,r)=>{n.foundPossibleResultPoint(e)}))}}reset(){}}class we extends F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new ye,e)}}class be{decode(e,t){try{return this.doDecode(e,t)}catch(n){if(t&&!0===t.get(C.TRY_HARDER)&&e.isRotateSupported()){const n=e.rotateCounterClockwise(),r=this.doDecode(n,t),a=r.getResultMetadata();let s=270;null!==a&&!0===a.get(q.ORIENTATION)&&(s+=a.get(q.ORIENTATION)%360),r.putMetadata(q.ORIENTATION,s);const i=r.getResultPoints();if(null!==i){const e=n.getHeight();for(let t=0;t<i.length;t++)i[t]=new oe(e-i[t].getY()-1,i[t].getX())}return r}throw new M}}reset(){}doDecode(e,t){const n=e.getWidth(),r=e.getHeight();let a=new x(n);const s=t&&!0===t.get(C.TRY_HARDER),i=Math.max(1,r>>(s?8:5));let o;o=s?r:15;const l=Math.trunc(r/2);for(let d=0;d<o;d++){const s=Math.trunc((d+1)/2),o=l+i*(0===(1&d)?s:-s);if(o<0||o>=r)break;try{a=e.getBlackRow(o,a)}catch(c){continue}for(let e=0;e<2;e++){if(1===e&&(a.reverse(),t&&!0===t.get(C.NEED_RESULT_POINT_CALLBACK))){const e=new Map;t.forEach(((t,n)=>e.set(n,t))),e.delete(C.NEED_RESULT_POINT_CALLBACK),t=e}try{const r=this.decodeRow(o,a,t);if(1===e){r.putMetadata(q.ORIENTATION,180);const e=r.getResultPoints();null!==e&&(e[0]=new oe(n-e[0].getX()-1,e[0].getY()),e[1]=new oe(n-e[1].getX()-1,e[1].getY()))}return r}catch(u){}}}throw new M}static recordPattern(e,t,n){const r=n.length;for(let l=0;l<r;l++)n[l]=0;const a=e.getSize();if(t>=a)throw new M;let s=!e.get(t),i=0,o=t;for(;o<a;){if(e.get(o)!==s)n[i]++;else{if(++i===r)break;n[i]=1,s=!s}o++}if(i!==r&&(i!==r-1||o!==a))throw new M}static recordPatternInReverse(e,t,n){let r=n.length,a=e.get(t);for(;t>0&&r>=0;)e.get(--t)!==a&&(r--,a=!a);if(r>=0)throw new M;be.recordPattern(e,t+1,n)}static patternMatchVariance(e,t,n){const r=e.length;let a=0,s=0;for(let l=0;l<r;l++)a+=e[l],s+=t[l];if(a<s)return Number.POSITIVE_INFINITY;const i=a/s;n*=i;let o=0;for(let l=0;l<r;l++){const r=e[l],a=t[l]*i,s=r>a?r-a:a-r;if(s>n)return Number.POSITIVE_INFINITY;o+=s}return o/a}}class xe extends be{static findStartPattern(e){const t=e.getSize(),n=e.getNextSet(0);let r=0,a=Int32Array.from([0,0,0,0,0,0]),s=n,i=!1;const o=6;for(let l=n;l<t;l++)if(e.get(l)!==i)a[r]++;else{if(r===o-1){let t=xe.MAX_AVG_VARIANCE,n=-1;for(let e=xe.CODE_START_A;e<=xe.CODE_START_C;e++){const r=be.patternMatchVariance(a,xe.CODE_PATTERNS[e],xe.MAX_INDIVIDUAL_VARIANCE);r<t&&(t=r,n=e)}if(n>=0&&e.isRange(Math.max(0,s-(l-s)/2),s,!1))return Int32Array.from([s,l,n]);s+=a[0]+a[1],a=a.slice(2,a.length-1),a[r-1]=0,a[r]=0,r--}else r++;a[r]=1,i=!i}throw new M}static decodeCode(e,t,n){be.recordPattern(e,n,t);let r=xe.MAX_AVG_VARIANCE,a=-1;for(let s=0;s<xe.CODE_PATTERNS.length;s++){const e=xe.CODE_PATTERNS[s],n=this.patternMatchVariance(t,e,xe.MAX_INDIVIDUAL_VARIANCE);n<r&&(r=n,a=s)}if(a>=0)return a;throw new M}decodeRow(e,t,n){const r=n&&!0===n.get(C.ASSUME_GS1),a=xe.findStartPattern(t),s=a[2];let i=0;const o=new Uint8Array(20);let l;switch(o[i++]=s,s){case xe.CODE_START_A:l=xe.CODE_CODE_A;break;case xe.CODE_START_B:l=xe.CODE_CODE_B;break;case xe.CODE_START_C:l=xe.CODE_CODE_C;break;default:throw new S}let c=!1,u=!1,d="",h=a[0],m=a[1];const p=Int32Array.from([0,0,0,0,0,0]);let g=0,y=0,w=s,b=0,x=!0,v=!1,E=!1;for(;!c;){const e=u;switch(u=!1,g=y,y=xe.decodeCode(t,p,m),o[i++]=y,y!==xe.CODE_STOP&&(x=!0),y!==xe.CODE_STOP&&(b++,w+=b*y),h=m,m+=p.reduce(((e,t)=>e+t),0),y){case xe.CODE_START_A:case xe.CODE_START_B:case xe.CODE_START_C:throw new S}switch(l){case xe.CODE_CODE_A:if(y<64)d+=E===v?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),E=!1;else if(y<96)d+=E===v?String.fromCharCode(y-64):String.fromCharCode(y+64),E=!1;else switch(y!==xe.CODE_STOP&&(x=!1),y){case xe.CODE_FNC_1:r&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_A:!v&&E?(v=!0,E=!1):v&&E?(v=!1,E=!1):E=!0;break;case xe.CODE_SHIFT:u=!0,l=xe.CODE_CODE_B;break;case xe.CODE_CODE_B:l=xe.CODE_CODE_B;break;case xe.CODE_CODE_C:l=xe.CODE_CODE_C;break;case xe.CODE_STOP:c=!0}break;case xe.CODE_CODE_B:if(y<96)d+=E===v?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),E=!1;else switch(y!==xe.CODE_STOP&&(x=!1),y){case xe.CODE_FNC_1:r&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_B:!v&&E?(v=!0,E=!1):v&&E?(v=!1,E=!1):E=!0;break;case xe.CODE_SHIFT:u=!0,l=xe.CODE_CODE_A;break;case xe.CODE_CODE_A:l=xe.CODE_CODE_A;break;case xe.CODE_CODE_C:l=xe.CODE_CODE_C;break;case xe.CODE_STOP:c=!0}break;case xe.CODE_CODE_C:if(y<100)y<10&&(d+="0"),d+=y;else switch(y!==xe.CODE_STOP&&(x=!1),y){case xe.CODE_FNC_1:r&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case xe.CODE_CODE_A:l=xe.CODE_CODE_A;break;case xe.CODE_CODE_B:l=xe.CODE_CODE_B;break;case xe.CODE_STOP:c=!0}}e&&(l=l===xe.CODE_CODE_A?xe.CODE_CODE_B:xe.CODE_CODE_A)}const N=m-h;if(m=t.getNextUnset(m),!t.isRange(m,Math.min(t.getSize(),m+(m-h)/2),!1))throw new M;if(w-=b*g,w%103!==g)throw new f;const A=d.length;if(0===A)throw new M;A>0&&x&&(d=l===xe.CODE_CODE_C?d.substring(0,A-2):d.substring(0,A-1));const I=(a[1]+a[0])/2,_=h+N/2,T=o.length,D=new Uint8Array(T);for(let f=0;f<T;f++)D[f]=o[f];const R=[new oe(I,e),new oe(_,e)];return new U(d,D,0,R,H.CODE_128,(new Date).getTime())}}xe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],xe.MAX_AVG_VARIANCE=.25,xe.MAX_INDIVIDUAL_VARIANCE=.7,xe.CODE_SHIFT=98,xe.CODE_CODE_C=99,xe.CODE_CODE_B=100,xe.CODE_CODE_A=101,xe.CODE_FNC_1=102,xe.CODE_FNC_2=97,xe.CODE_FNC_3=96,xe.CODE_FNC_4_A=101,xe.CODE_FNC_4_B=100,xe.CODE_START_A=103,xe.CODE_START_B=104,xe.CODE_START_C=105,xe.CODE_STOP=106;class ve extends be{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,n){let r=this.counters;r.fill(0),this.decodeRowResult="";let a,s,i=ve.findAsteriskPattern(t,r),o=t.getNextSet(i[1]),l=t.getSize();do{ve.recordPattern(t,o,r);let e=ve.toNarrowWidePattern(r);if(e<0)throw new M;a=ve.patternToChar(e),this.decodeRowResult+=a,s=o;for(let t of r)o+=t;o=t.getNextSet(o)}while("*"!==a);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let c,u=0;for(let f of r)u+=f;if(o!==l&&2*(o-s-u)<u)throw new M;if(this.usingCheckDigit){let e=this.decodeRowResult.length-1,t=0;for(let n=0;n<e;n++)t+=ve.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(n));if(this.decodeRowResult.charAt(e)!==ve.ALPHABET_STRING.charAt(t%43))throw new f;this.decodeRowResult=this.decodeRowResult.substring(0,e)}if(0===this.decodeRowResult.length)throw new M;c=this.extendedMode?ve.decodeExtended(this.decodeRowResult):this.decodeRowResult;let d=(i[1]+i[0])/2,h=s+u/2;return new U(c,null,0,[new oe(d,e),new oe(h,e)],H.CODE_39,(new Date).getTime())}static findAsteriskPattern(e,t){let n=e.getSize(),r=e.getNextSet(0),a=0,s=r,i=!1,o=t.length;for(let l=r;l<n;l++)if(e.get(l)!==i)t[a]++;else{if(a===o-1){if(this.toNarrowWidePattern(t)===ve.ASTERISK_ENCODING&&e.isRange(Math.max(0,s-Math.floor((l-s)/2)),s,!1))return[s,l];s+=t[0]+t[1],t.copyWithin(0,2,2+a-1),t[a-1]=0,t[a]=0,a--}else a++;t[a]=1,i=!i}throw new M}static toNarrowWidePattern(e){let t,n=e.length,r=0;do{let a=2147483647;for(let t of e)t<a&&t>r&&(a=t);r=a,t=0;let s=0,i=0;for(let o=0;o<n;o++){let a=e[o];a>r&&(i|=1<<n-1-o,t++,s+=a)}if(3===t){for(let a=0;a<n&&t>0;a++){let n=e[a];if(n>r&&(t--,2*n>=s))return-1}return i}}while(t>3);return-1}static patternToChar(e){for(let t=0;t<ve.CHARACTER_ENCODINGS.length;t++)if(ve.CHARACTER_ENCODINGS[t]===e)return ve.ALPHABET_STRING.charAt(t);if(e===ve.ASTERISK_ENCODING)return"*";throw new M}static decodeExtended(e){let t=e.length,n="";for(let r=0;r<t;r++){let t=e.charAt(r);if("+"===t||"$"===t||"%"===t||"/"===t){let a=e.charAt(r+1),s="\0";switch(t){case"+":if(!(a>="A"&&a<="Z"))throw new S;s=String.fromCharCode(a.charCodeAt(0)+32);break;case"$":if(!(a>="A"&&a<="Z"))throw new S;s=String.fromCharCode(a.charCodeAt(0)-64);break;case"%":if(a>="A"&&a<="E")s=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")s=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")s=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")s=String.fromCharCode(a.charCodeAt(0)+43);else if("U"===a)s="\0";else if("V"===a)s="@";else if("W"===a)s="`";else{if("X"!==a&&"Y"!==a&&"Z"!==a)throw new S;s="\x7f"}break;case"/":if(a>="A"&&a<="O")s=String.fromCharCode(a.charCodeAt(0)-32);else{if("Z"!==a)throw new S;s=":"}}n+=s,r++}else n+=t}return n}}ve.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ve.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ve.ASTERISK_ENCODING=148;class Ce extends be{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,n){let r=this.decodeStart(t),a=this.decodeEnd(t),s=new _;Ce.decodeMiddle(t,r[1],a[0],s);let i=s.toString(),o=null;null!=n&&(o=n.get(C.ALLOWED_LENGTHS)),null==o&&(o=Ce.DEFAULT_ALLOWED_LENGTHS);let l=i.length,c=!1,u=0;for(let h of o){if(l===h){c=!0;break}h>u&&(u=h)}if(!c&&l>u&&(c=!0),!c)throw new S;const d=[new oe(r[1],e),new oe(a[0],e)];return new U(i,null,0,d,H.ITF,(new Date).getTime())}static decodeMiddle(e,t,n,r){let a=new Int32Array(10),s=new Int32Array(5),i=new Int32Array(5);for(a.fill(0),s.fill(0),i.fill(0);t<n;){be.recordPattern(e,t,a);for(let e=0;e<5;e++){let t=2*e;s[e]=a[t],i[e]=a[t+1]}let n=Ce.decodeDigit(s);r.append(n.toString()),n=this.decodeDigit(i),r.append(n.toString()),a.forEach((function(e){t+=e}))}}decodeStart(e){let t=Ce.skipWhiteSpace(e),n=Ce.findGuardPattern(e,t,Ce.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(e,n[0]),n}validateQuietZone(e,t){let n=10*this.narrowLineWidth;n=n<t?n:t;for(let r=t-1;n>0&&r>=0&&!e.get(r);r--)n--;if(0!==n)throw new M}static skipWhiteSpace(e){const t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new M;return n}decodeEnd(e){e.reverse();try{let n,r=Ce.skipWhiteSpace(e);try{n=Ce.findGuardPattern(e,r,Ce.END_PATTERN_REVERSED[0])}catch(t){t instanceof M&&(n=Ce.findGuardPattern(e,r,Ce.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,n[0]);let a=n[0];return n[0]=e.getSize()-n[1],n[1]=e.getSize()-a,n}finally{e.reverse()}}static findGuardPattern(e,t,n){let r=n.length,a=new Int32Array(r),s=e.getSize(),i=!1,o=0,l=t;a.fill(0);for(let c=t;c<s;c++)if(e.get(c)!==i)a[o]++;else{if(o===r-1){if(be.patternMatchVariance(a,n,Ce.MAX_INDIVIDUAL_VARIANCE)<Ce.MAX_AVG_VARIANCE)return[l,c];l+=a[0]+a[1],p.arraycopy(a,2,a,0,o-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,i=!i}throw new M}static decodeDigit(e){let t=Ce.MAX_AVG_VARIANCE,n=-1,r=Ce.PATTERNS.length;for(let a=0;a<r;a++){let r=Ce.PATTERNS[a],s=be.patternMatchVariance(e,r,Ce.MAX_INDIVIDUAL_VARIANCE);s<t?(t=s,n=a):s===t&&(n=-1)}if(n>=0)return n%10;throw new M}}Ce.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ce.MAX_AVG_VARIANCE=.38,Ce.MAX_INDIVIDUAL_VARIANCE=.5,Ce.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ce.START_PATTERN=Int32Array.from([1,1,1,1]),Ce.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Se extends be{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t,n=!1,r=0,a=Int32Array.from([0,0,0]);for(;!n;){a=Int32Array.from([0,0,0]),t=Se.findGuardPattern(e,r,!1,this.START_END_PATTERN,a);let s=t[0];r=t[1];let i=s-(r-s);i>=0&&(n=e.isRange(i,s,!1))}return t}static checkChecksum(e){return Se.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let n=parseInt(e.charAt(t-1),10);return Se.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new S;n+=t}n*=3;for(let r=t-2;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new S;n+=t}return(1e3-n)%10}static decodeEnd(e,t){return Se.findGuardPattern(e,t,!1,Se.START_END_PATTERN,new Int32Array(Se.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,n,r){return this.findGuardPattern(e,t,n,r,new Int32Array(r.length))}static findGuardPattern(e,t,n,r,a){let s=e.getSize(),i=0,o=t=n?e.getNextUnset(t):e.getNextSet(t),l=r.length,c=n;for(let u=t;u<s;u++)if(e.get(u)!==c)a[i]++;else{if(i===l-1){if(be.patternMatchVariance(a,r,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE)return Int32Array.from([o,u]);o+=a[0]+a[1];let e=a.slice(2,a.length-1);for(let t=0;t<i-1;t++)a[t]=e[t];a[i-1]=0,a[i]=0,i--}else i++;a[i]=1,c=!c}throw new M}static decodeDigit(e,t,n,r){this.recordPattern(e,n,t);let a=this.MAX_AVG_VARIANCE,s=-1,i=r.length;for(let o=0;o<i;o++){let e=r[o],n=be.patternMatchVariance(t,e,Se.MAX_INDIVIDUAL_VARIANCE);n<a&&(a=n,s=o)}if(s>=0)return s;throw new M}}Se.MAX_AVG_VARIANCE=.48,Se.MAX_INDIVIDUAL_VARIANCE=.7,Se.START_END_PATTERN=Int32Array.from([1,1,1]),Se.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Se.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Se.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ee{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,r),s=r.toString(),i=Ee.parseExtensionString(s),o=[new oe((n[0]+n[1])/2,e),new oe(a,e)],l=new U(s,null,0,o,H.UPC_EAN_EXTENSION,(new Date).getTime());return null!=i&&l.putAllMetadata(i),l}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let a=e.getSize(),s=t[1],i=0;for(let l=0;l<5&&s<a;l++){let t=Se.decodeDigit(e,r,s,Se.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)s+=e;t>=10&&(i|=1<<4-l),4!==l&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(5!==n.length)throw new M;let o=this.determineCheckDigit(i);if(Ee.extensionChecksum(n.toString())!==o)throw new M;return s}static extensionChecksum(e){let t=e.length,n=0;for(let r=t-2;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(let r=t-1;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new M}static parseExtensionString(e){if(5!==e.length)return null;let t=Ee.parseExtension5String(e);return null==t?null:new Map([[q.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="\xa3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}let n=parseInt(e.substring(1)),r=n%100;return t+(n/100).toString()+"."+(r<10?"0"+r:r.toString())}}class Ne{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,r),s=r.toString(),i=Ne.parseExtensionString(s),o=[new oe((n[0]+n[1])/2,e),new oe(a,e)],l=new U(s,null,0,o,H.UPC_EAN_EXTENSION,(new Date).getTime());return null!=i&&l.putAllMetadata(i),l}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let a=e.getSize(),s=t[1],i=0;for(let o=0;o<2&&s<a;o++){let t=Se.decodeDigit(e,r,s,Se.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)s+=e;t>=10&&(i|=1<<1-o),1!==o&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(2!==n.length)throw new M;if(parseInt(n.toString())%4!==i)throw new M;return s}static parseExtensionString(e){return 2!==e.length?null:new Map([[q.ISSUE_NUMBER,parseInt(e)]])}}class Ae{static decodeRow(e,t,n){let r=Se.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Ee).decodeRow(e,t,r)}catch(a){return(new Ne).decodeRow(e,t,r)}}}Ae.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ie extends Se{constructor(){super(),this.decodeRowStringBuffer="",Ie.L_AND_G_PATTERNS=Ie.L_PATTERNS.map((e=>Int32Array.from(e)));for(let e=10;e<20;e++){let t=Ie.L_PATTERNS[e-10],n=new Int32Array(t.length);for(let e=0;e<t.length;e++)n[e]=t[t.length-e-1];Ie.L_AND_G_PATTERNS[e]=n}}decodeRow(e,t,n){let r=Ie.findStartGuardPattern(t),a=null==n?null:n.get(C.NEED_RESULT_POINT_CALLBACK);if(null!=a){const t=new oe((r[0]+r[1])/2,e);a.foundPossibleResultPoint(t)}let s=this.decodeMiddle(t,r,this.decodeRowStringBuffer),i=s.rowOffset,o=s.resultString;if(null!=a){const t=new oe(i,e);a.foundPossibleResultPoint(t)}let l=this.decodeEnd(t,i);if(null!=a){const t=new oe((l[0]+l[1])/2,e);a.foundPossibleResultPoint(t)}let c=l[1],u=c+(c-l[0]);if(u>=t.getSize()||!t.isRange(c,u,!1))throw new M;let d=o.toString();if(d.length<8)throw new S;if(!Ie.checkChecksum(d))throw new f;let h=(r[1]+r[0])/2,m=(l[1]+l[0])/2,p=this.getBarcodeFormat(),g=[new oe(h,e),new oe(m,e)],y=new U(d,null,0,g,p,(new Date).getTime()),w=0;try{let n=Ae.decodeRow(e,t,l[1]);y.putMetadata(q.UPC_EAN_EXTENSION,n.getText()),y.putAllMetadata(n.getResultMetadata()),y.addResultPoints(n.getResultPoints()),w=n.getText().length}catch(x){}let b=null==n?null:n.get(C.ALLOWED_EAN_EXTENSIONS);if(null!=b){let e=!1;for(let t in b)if(w.toString()===t){e=!0;break}if(!e)throw new M}return y}decodeEnd(e,t){return Ie.findGuardPattern(e,t,!1,Ie.START_END_PATTERN,new Int32Array(Ie.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Ie.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let n=parseInt(e.charAt(t-1),10);return Ie.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new S;n+=t}n*=3;for(let r=t-2;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new S;n+=t}return(1e3-n)%10}}class _e extends Ie{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let a=e.getSize(),s=t[1],i=0;for(let o=0;o<6&&s<a;o++){let t=Ie.decodeDigit(e,r,s,Ie.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)s+=e;t>=10&&(i|=1<<5-o)}n=_e.determineFirstDigit(n,i),s=Ie.findGuardPattern(e,s,!0,Ie.MIDDLE_PATTERN,new Int32Array(Ie.MIDDLE_PATTERN.length).fill(0))[1];for(let o=0;o<6&&s<a;o++){let t=Ie.decodeDigit(e,r,s,Ie.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of r)s+=e}return{rowOffset:s,resultString:n}}getBarcodeFormat(){return H.EAN_13}static determineFirstDigit(e,t){for(let n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode("0".charCodeAt(0)+n)+e;throw new M}}_e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Te extends Ie{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){const r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let a=e.getSize(),s=t[1];for(let i=0;i<4&&s<a;i++){let t=Ie.decodeDigit(e,r,s,Ie.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of r)s+=e}s=Ie.findGuardPattern(e,s,!0,Ie.MIDDLE_PATTERN,new Int32Array(Ie.MIDDLE_PATTERN.length).fill(0))[1];for(let i=0;i<4&&s<a;i++){let t=Ie.decodeDigit(e,r,s,Ie.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of r)s+=e}return{rowOffset:s,resultString:n}}getBarcodeFormat(){return H.EAN_8}}class Me extends Ie{constructor(){super(...arguments),this.ean13Reader=new _e}getBarcodeFormat(){return H.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))}decodeMiddle(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)}maybeReturnResult(e){let t=e.getText();if("0"===t.charAt(0)){let n=new U(t.substring(1),null,null,e.getResultPoints(),H.UPC_A);return null!=e.getResultMetadata()&&n.putAllMetadata(e.getResultMetadata()),n}throw new M}reset(){this.ean13Reader.reset()}}class De extends Ie{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,n){const r=this.decodeMiddleCounters.map((e=>e));r[0]=0,r[1]=0,r[2]=0,r[3]=0;const a=e.getSize();let s=t[1],i=0;for(let o=0;o<6&&s<a;o++){const t=De.decodeDigit(e,r,s,De.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)s+=e;t>=10&&(i|=1<<5-o)}return{rowOffset:s,resultString:De.determineNumSysAndCheckDigit(n,i)}}decodeEnd(e,t){return De.findGuardPatternWithoutCounters(e,t,!0,De.MIDDLE_END_PATTERN)}checkChecksum(e){return Ie.checkChecksum(De.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let n=0;n<=1;n++)for(let r=0;r<10;r++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][r])return String.fromCharCode("0".charCodeAt(0)+n)+e+String.fromCharCode("0".charCodeAt(0)+r);throw M.getNotFoundInstance()}getBarcodeFormat(){return H.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map((e=>e.charCodeAt(0))),n=new _;n.append(e.charAt(0));let r=t[5];switch(r){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(r),n.append("0000"),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append("00000"),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append("00000"),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append("0000"),n.append(r)}return e.length>=8&&n.append(e.charAt(7)),n.toString()}}De.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),De.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Re extends be{constructor(e){super();let n=null==e?null:e.get(C.POSSIBLE_FORMATS),r=[];t(n)?(r.push(new _e),r.push(new Me),r.push(new Te),r.push(new De)):(n.indexOf(H.EAN_13)>-1&&r.push(new _e),n.indexOf(H.UPC_A)>-1&&r.push(new Me),n.indexOf(H.EAN_8)>-1&&r.push(new Te),n.indexOf(H.UPC_E)>-1&&r.push(new De)),this.readers=r}decodeRow(e,t,n){for(let a of this.readers)try{const r=a.decodeRow(e,t,n),s=r.getBarcodeFormat()===H.EAN_13&&"0"===r.getText().charAt(0),i=null==n?null:n.get(C.POSSIBLE_FORMATS),o=null==i||i.includes(H.UPC_A);if(s&&o){const e=r.getRawBytes(),t=new U(r.getText().substring(1),e,e?e.length:null,r.getResultPoints(),H.UPC_A);return t.putAllMetadata(r.getResultMetadata()),t}return r}catch(r){}throw new M}reset(){for(let e of this.readers)e.reset()}}class je extends be{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let n=0;n<t.length;n++)if(be.patternMatchVariance(e,t[n],je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE)return n;throw new M}static count(e){return se.sum(new Int32Array(e))}static increment(e,t){let n=0,r=t[0];for(let a=1;a<e.length;a++)t[a]>r&&(r=t[a],n=a);e[n]++}static decrement(e,t){let n=0,r=t[0];for(let a=1;a<e.length;a++)t[a]<r&&(r=t[a],n=a);e[n]--}static isFinderPattern(e){let t=e[0]+e[1],n=t/(t+e[2]+e[3]);if(n>=je.MIN_FINDER_PATTERN_RATIO&&n<=je.MAX_FINDER_PATTERN_RATIO){let t=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER;for(let r of e)r>n&&(n=r),r<t&&(t=r);return n<10*t}return!1}}je.MAX_AVG_VARIANCE=.2,je.MAX_INDIVIDUAL_VARIANCE=.45,je.MIN_FINDER_PATTERN_RATIO=9.5/12,je.MAX_FINDER_PATTERN_RATIO=12.5/14;class Oe{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Oe))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ke{constructor(e,t,n,r,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new oe(n,a)),this.resultPoints.push(new oe(r,a))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof ke))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class Pe{constructor(){}static getRSSvalue(e,t,n){let r=0;for(let o of e)r+=o;let a=0,s=0,i=e.length;for(let o=0;o<i-1;o++){let l;for(l=1,s|=1<<o;l<e[o];l++,s&=~(1<<o)){let e=Pe.combins(r-l-1,i-o-2);if(n&&0===s&&r-l-(i-o-1)>=i-o-1&&(e-=Pe.combins(r-l-(i-o),i-o-2)),i-o-1>1){let n=0;for(let e=r-l-(i-o-2);e>t;e--)n+=Pe.combins(r-l-e-1,i-o-3);e-=n*(i-1-o)}else r-l>t&&e--;a+=e}r-=l}return a}static combins(e,t){let n,r;e-t>t?(r=t,n=e-t):(r=e-t,n=t);let a=1,s=1;for(let i=e;i>n;i--)a*=i,s<=r&&(a/=s,s++);for(;s<=r;)a/=s,s++;return a}}class Le{static buildBitArray(e){let t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);let n=new x(12*t),r=0,a=e[0].getRightChar().getValue();for(let s=11;s>=0;--s)0!=(a&1<<s)&&n.set(r),r++;for(let s=1;s<e.length;++s){let t=e[s],a=t.getLeftChar().getValue();for(let e=11;e>=0;--e)0!=(a&1<<e)&&n.set(r),r++;if(null!=t.getRightChar()){let e=t.getRightChar().getValue();for(let t=11;t>=0;--t)0!=(e&1<<t)&&n.set(r),r++}}return n}}class Be{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Fe{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Ue extends Fe{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Ue.FNC1}}Ue.FNC1="$";class ze extends Fe{constructor(e,t,n){super(e),n?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class He extends Fe{constructor(e,t,n){if(super(e),t<0||t>10||n<0||n>10)throw new S;this.firstDigit=t,this.secondDigit=n}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===He.FNC1}isSecondDigitFNC1(){return this.secondDigit===He.FNC1}isAnyFNC1(){return this.firstDigit===He.FNC1||this.secondDigit===He.FNC1}}He.FNC1=10;class Ve{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new M;let t=e.substring(0,2);for(let a of Ve.TWO_DIGIT_DATA_LENGTH)if(a[0]===t)return a[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(2,a[2],e):Ve.processFixedAI(2,a[1],e);if(e.length<3)throw new M;let n=e.substring(0,3);for(let a of Ve.THREE_DIGIT_DATA_LENGTH)if(a[0]===n)return a[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(3,a[2],e):Ve.processFixedAI(3,a[1],e);for(let a of Ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(a[0]===n)return a[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(4,a[2],e):Ve.processFixedAI(4,a[1],e);if(e.length<4)throw new M;let r=e.substring(0,4);for(let a of Ve.FOUR_DIGIT_DATA_LENGTH)if(a[0]===r)return a[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(4,a[2],e):Ve.processFixedAI(4,a[1],e);throw new M}static processFixedAI(e,t,n){if(n.length<e)throw new M;let r=n.substring(0,e);if(n.length<e+t)throw new M;let a=n.substring(e,e+t),s=n.substring(e+t),i="("+r+")"+a,o=Ve.parseFieldsInGeneralPurpose(s);return null==o?i:i+o}static processVariableAI(e,t,n){let r,a=n.substring(0,e);r=n.length<e+t?n.length:e+t;let s=n.substring(e,r),i=n.substring(r),o="("+a+")"+s,l=Ve.parseFieldsInGeneralPurpose(i);return null==l?o:o+l}}Ve.VARIABLE_LENGTH=[],Ve.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ve.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ve.VARIABLE_LENGTH,20],["22",Ve.VARIABLE_LENGTH,29],["30",Ve.VARIABLE_LENGTH,8],["37",Ve.VARIABLE_LENGTH,8],["90",Ve.VARIABLE_LENGTH,30],["91",Ve.VARIABLE_LENGTH,30],["92",Ve.VARIABLE_LENGTH,30],["93",Ve.VARIABLE_LENGTH,30],["94",Ve.VARIABLE_LENGTH,30],["95",Ve.VARIABLE_LENGTH,30],["96",Ve.VARIABLE_LENGTH,30],["97",Ve.VARIABLE_LENGTH,3],["98",Ve.VARIABLE_LENGTH,30],["99",Ve.VARIABLE_LENGTH,30]],Ve.THREE_DIGIT_DATA_LENGTH=[["240",Ve.VARIABLE_LENGTH,30],["241",Ve.VARIABLE_LENGTH,30],["242",Ve.VARIABLE_LENGTH,6],["250",Ve.VARIABLE_LENGTH,30],["251",Ve.VARIABLE_LENGTH,30],["253",Ve.VARIABLE_LENGTH,17],["254",Ve.VARIABLE_LENGTH,20],["400",Ve.VARIABLE_LENGTH,30],["401",Ve.VARIABLE_LENGTH,30],["402",17],["403",Ve.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ve.VARIABLE_LENGTH,20],["421",Ve.VARIABLE_LENGTH,15],["422",3],["423",Ve.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ve.VARIABLE_LENGTH,15],["391",Ve.VARIABLE_LENGTH,18],["392",Ve.VARIABLE_LENGTH,15],["393",Ve.VARIABLE_LENGTH,18],["703",Ve.VARIABLE_LENGTH,30]],Ve.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ve.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ve.VARIABLE_LENGTH,20],["8003",Ve.VARIABLE_LENGTH,30],["8004",Ve.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ve.VARIABLE_LENGTH,30],["8008",Ve.VARIABLE_LENGTH,12],["8018",18],["8020",Ve.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ve.VARIABLE_LENGTH,70],["8200",Ve.VARIABLE_LENGTH,70]];class We{constructor(e){this.buffer=new _,this.information=e}decodeAllCodes(e,t){let n=t,r=null;for(;;){let t=this.decodeGeneralPurposeField(n,r),a=Ve.parseFieldsInGeneralPurpose(t.getNewString());if(null!=a&&e.append(a),r=t.isRemaining()?""+t.getRemainingValue():null,n===t.getNewPosition())break;n=t.getNewPosition()}return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let t=this.extractNumericValueFromBitArray(e,4);return new He(this.information.getSize(),0===t?He.FNC1:t-1,He.FNC1)}let t=this.extractNumericValueFromBitArray(e,7);return new He(e+7,(t-8)/11,(t-8)%11)}extractNumericValueFromBitArray(e,t){return We.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,n){let r=0;for(let a=0;a<n;++a)e.get(t+a)&&(r|=1<<n-a-1);return r}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);let n=this.parseBlocks();return null!=n&&n.isRemaining()?new ze(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new ze(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let n=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),n===this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return t=e.isSecondDigitFNC1()?new ze(this.current.getPosition(),this.buffer.toString()):new ze(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Be(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let e=new ze(this.current.getPosition(),this.buffer.toString());return new Be(!0,e)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Be(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new ze(this.current.getPosition(),this.buffer.toString());return new Be(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Be(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new ze(this.current.getPosition(),this.buffer.toString());return new Be(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Be(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,8);return r>=232&&r<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Ue(e+5,Ue.FNC1);if(t>=5&&t<15)return new Ue(e+5,"0"+(t-5));let n,r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Ue(e+7,""+(r+1));if(r>=90&&r<116)return new Ue(e+7,""+(r+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:n="!";break;case 233:n='"';break;case 234:n="%";break;case 235:n="&";break;case 236:n="'";break;case 237:n="(";break;case 238:n=")";break;case 239:n="*";break;case 240:n="+";break;case 241:n=",";break;case 242:n="-";break;case 243:n=".";break;case 244:n="/";break;case 245:n=":";break;case 246:n=";";break;case 247:n="<";break;case 248:n="=";break;case 249:n=">";break;case 250:n="?";break;case 251:n="_";break;case 252:n=" ";break;default:throw new S}return new Ue(e+8,n)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Ue(e+5,Ue.FNC1);if(t>=5&&t<15)return new Ue(e+5,"0"+(t-5));let n,r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Ue(e+6,""+(r+33));switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new ne("Decoding invalid alphanumeric value: "+r)}return new Ue(e+6,n)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Ge{constructor(e){this.information=e,this.generalDecoder=new We(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ye extends Ge{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)}encodeCompressedGtinWithoutAI(e,t,n){for(let r=0;r<4;++r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*r,10);n/100===0&&e.append("0"),n/10===0&&e.append("0"),e.append(n)}Ye.appendCheckDigit(e,n)}static appendCheckDigit(e,t){let n=0;for(let r=0;r<13;r++){let a=e.charAt(r+t).charCodeAt(0)-"0".charCodeAt(0);n+=0===(1&r)?3*a:a}n=10-n%10,10===n&&(n=0),e.append(n)}}Ye.GTIN_SIZE=40;class Xe extends Ye{constructor(e){super(e)}parseInformation(){let e=new _;e.append("(01)");let t=e.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(Xe.HEADER_SIZE,4);return e.append(n),this.encodeCompressedGtinWithoutAI(e,Xe.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,Xe.HEADER_SIZE+44)}}Xe.HEADER_SIZE=4;class Qe extends Ge{constructor(e){super(e)}parseInformation(){let e=new _;return this.getGeneralDecoder().decodeAllCodes(e,Qe.HEADER_SIZE)}}Qe.HEADER_SIZE=5;class qe extends Ye{constructor(e){super(e)}encodeCompressedWeight(e,t,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,r);let a=this.checkWeight(r),s=1e5;for(let i=0;i<5;++i)a/s===0&&e.append("0"),s/=10;e.append(a)}}class Ze extends qe{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Ze.HEADER_SIZE+qe.GTIN_SIZE+Ze.WEIGHT_SIZE)throw new M;let e=new _;return this.encodeCompressedGtin(e,Ze.HEADER_SIZE),this.encodeCompressedWeight(e,Ze.HEADER_SIZE+qe.GTIN_SIZE,Ze.WEIGHT_SIZE),e.toString()}}Ze.HEADER_SIZE=5,Ze.WEIGHT_SIZE=15;class Ke extends Ze{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class $e extends Ze{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Je extends Ye{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Je.HEADER_SIZE+Ye.GTIN_SIZE)throw new M;let e=new _;this.encodeCompressedGtin(e,Je.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Je.HEADER_SIZE+Ye.GTIN_SIZE,Je.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let n=this.getGeneralDecoder().decodeGeneralPurposeField(Je.HEADER_SIZE+Ye.GTIN_SIZE+Je.LAST_DIGIT_SIZE,null);return e.append(n.getNewString()),e.toString()}}Je.HEADER_SIZE=8,Je.LAST_DIGIT_SIZE=2;class et extends Ye{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<et.HEADER_SIZE+Ye.GTIN_SIZE)throw new M;let e=new _;this.encodeCompressedGtin(e,et.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+Ye.GTIN_SIZE,et.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let n=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+Ye.GTIN_SIZE+et.LAST_DIGIT_SIZE,et.FIRST_THREE_DIGITS_SIZE);n/100==0&&e.append("0"),n/10==0&&e.append("0"),e.append(n);let r=this.getGeneralDecoder().decodeGeneralPurposeField(et.HEADER_SIZE+Ye.GTIN_SIZE+et.LAST_DIGIT_SIZE+et.FIRST_THREE_DIGITS_SIZE,null);return e.append(r.getNewString()),e.toString()}}et.HEADER_SIZE=8,et.LAST_DIGIT_SIZE=2,et.FIRST_THREE_DIGITS_SIZE=10;class tt extends qe{constructor(e,t,n){super(e),this.dateCode=n,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE+tt.DATE_SIZE)throw new M;let e=new _;return this.encodeCompressedGtin(e,tt.HEADER_SIZE),this.encodeCompressedWeight(e,tt.HEADER_SIZE+tt.GTIN_SIZE,tt.WEIGHT_SIZE),this.encodeCompressedDate(e,tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,tt.DATE_SIZE);if(38400==n)return;e.append("("),e.append(this.dateCode),e.append(")");let r=n%32;n/=32;let a=n%12+1;n/=12;let s=n;s/10==0&&e.append("0"),e.append(s),a/10==0&&e.append("0"),e.append(a),r/10==0&&e.append("0"),e.append(r)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}function nt(e){try{if(e.get(1))return new Xe(e);if(!e.get(2))return new Qe(e);switch(We.extractNumericValueFromBitArray(e,1,4)){case 4:return new Ke(e);case 5:return new $e(e)}switch(We.extractNumericValueFromBitArray(e,1,5)){case 12:return new Je(e);case 13:return new et(e)}switch(We.extractNumericValueFromBitArray(e,1,7)){case 56:return new tt(e,"310","11");case 57:return new tt(e,"320","11");case 58:return new tt(e,"310","13");case 59:return new tt(e,"320","13");case 60:return new tt(e,"310","15");case 61:return new tt(e,"320","15");case 62:return new tt(e,"310","17");case 63:return new tt(e,"320","17")}}catch(t){throw console.log(t),new ne("unknown decoder: "+e)}}tt.HEADER_SIZE=8,tt.WEIGHT_SIZE=20,tt.DATE_SIZE=16;class rt{constructor(e,t,n,r){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=r}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof rt&&rt.equalsOrNull(e.leftchar,t.leftchar)&&rt.equalsOrNull(e.rightchar,t.rightchar)&&rt.equalsOrNull(e.finderpattern,t.finderpattern)}static equalsOrNull(e,t){return null===e?null===t:rt.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class at{constructor(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof at&&this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed}checkEqualitity(e,t){if(!e||!t)return;let n;return e.forEach(((e,r)=>{t.forEach((t=>{e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(n=!0)}))})),n}}class st extends je{constructor(e){super(...arguments),this.pairs=new Array(st.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===e}decodeRow(e,t,n){this.pairs.length=0,this.startFromEven=!1;try{return st.constructResult(this.decodeRow2pairs(e,t))}catch(r){this.verbose&&console.log(r)}return this.pairs.length=0,this.startFromEven=!0,st.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let n,r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(a){if(a instanceof M){if(!this.pairs.length)throw new M;r=!0}}if(this.checkChecksum())return this.pairs;if(n=!!this.rows.length,this.storeRow(e,!1),n){let e=this.checkRowsBoolean(!1);if(null!=e)return e;if(e=this.checkRowsBoolean(!0),null!=e)return e}throw new M}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(n){this.verbose&&console.log(n)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let t=this.rows[r];this.pairs.length=0;for(let n of e)this.pairs.push(n.getPairs());if(this.pairs.push(t.getPairs()),!st.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let a=new Array(e);a.push(t);try{return this.checkRows(a,r+1)}catch(n){this.verbose&&console.log(n)}}throw new M}static isValidSequence(e){for(let t of st.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let n=!0;for(let r=0;r<e.length;r++)if(e[r].getFinderPattern().getValue()!=t[r]){n=!1;break}if(n)return!0}return!1}storeRow(e,t){let n=0,r=!1,a=!1;for(;n<this.rows.length;){let t=this.rows[n];if(t.getRowNumber()>e){a=t.isEquivalent(this.pairs);break}r=t.isEquivalent(this.pairs),n++}a||r||st.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new at(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let n of t)if(n.getPairs().length!==e.length)for(let t of n.getPairs())for(let n of e)if(rt.equals(t,n))break}static isPartialRow(e,t){for(let n of t){let t=!0;for(let r of e){let e=!1;for(let t of n.getPairs())if(r.equals(t)){e=!0;break}if(!e){t=!1;break}}if(t)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=nt(Le.buildBitArray(e)).parseInformation(),n=e[0].getFinderPattern().getResultPoints(),r=e[e.length-1].getFinderPattern().getResultPoints(),a=[n[0],n[1],r[0],r[1]];return new U(t,null,null,a,H.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(null==n)return!1;let r=n.getChecksumPortion(),a=2;for(let s=1;s<this.pairs.size();++s){let e=this.pairs.get(s);r+=e.getLeftChar().getChecksumPortion(),a++;let t=e.getRightChar();null!=t&&(r+=t.getChecksumPortion(),a++)}return r%=211,211*(a-4)+r==t.getValue()}static getNextSecondBar(e,t){let n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n}retrieveNextPair(e,t,n){let r,a=t.length%2==0;this.startFromEven&&(a=!a);let s=!0,i=-1;do{this.findNextPair(e,t,i),r=this.parseFoundFinderPattern(e,n,a),null==r?i=st.getNextSecondBar(e,this.startEnd[0]):s=!1}while(s);let o,l=this.decodeDataCharacter(e,r,a,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new M;try{o=this.decodeDataCharacter(e,r,a,!1)}catch(c){o=null,this.verbose&&console.log(c)}return new rt(l,o,r,!0)}isEmptyPair(e){return 0===e.length}findNextPair(e,t,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let a,s=e.getSize();a=n>=0?n:this.isEmptyPair(t)?0:t[t.length-1].getFinderPattern().getStartEnd()[1];let i=t.length%2!=0;this.startFromEven&&(i=!i);let o=!1;for(;a<s&&(o=!e.get(a),o);)a++;let l=0,c=a;for(let u=a;u<s;u++)if(e.get(u)!=o)r[l]++;else{if(3==l){if(i&&st.reverseCounters(r),st.isFinderPattern(r))return this.startEnd[0]=c,void(this.startEnd[1]=u);i&&st.reverseCounters(r),c+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,l--}else l++;r[l]=1,o=!o}throw new M}static reverseCounters(e){let t=e.length;for(let n=0;n<t/2;++n){let r=e[n];e[n]=e[t-n-1],e[t-n-1]=r}}parseFoundFinderPattern(e,t,n){let r,a,s;if(n){let t=this.startEnd[0]-1;for(;t>=0&&!e.get(t);)t--;t++,r=this.startEnd[0]-t,a=t,s=this.startEnd[1]}else a=this.startEnd[0],s=e.getNextUnset(this.startEnd[1]+1),r=s-this.startEnd[1];let i,o=this.getDecodeFinderCounters();p.arraycopy(o,0,o,1,o.length-1),o[0]=r;try{i=this.parseFinderValue(o,st.FINDER_PATTERNS)}catch(l){return null}return new ke(i,[a,s],a,s,t)}decodeDataCharacter(e,t,n,r){let a=this.getDataCharacterCounters();for(let E=0;E<a.length;E++)a[E]=0;if(r)st.recordPatternInReverse(e,t.getStartEnd()[0],a);else{st.recordPattern(e,t.getStartEnd()[1],a);for(let e=0,t=a.length-1;e<t;e++,t--){let n=a[e];a[e]=a[t],a[t]=n}}let s=17,i=se.sum(new Int32Array(a))/s,o=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(i-o)/o>.3)throw new M;let l=this.getOddCounts(),c=this.getEvenCounts(),u=this.getOddRoundingErrors(),d=this.getEvenRoundingErrors();for(let E=0;E<a.length;E++){let e=1*a[E]/i,t=e+.5;if(t<1){if(e<.3)throw new M;t=1}else if(t>8){if(e>8.7)throw new M;t=8}let n=E/2;0==(1&E)?(l[n]=t,u[n]=e-t):(c[n]=t,d[n]=e-t)}this.adjustOddEvenCounts(s);let h=4*t.getValue()+(n?0:2)+(r?0:1)-1,f=0,m=0;for(let E=l.length-1;E>=0;E--){if(st.isNotA1left(t,n,r)){let e=st.WEIGHTS[h][2*E];m+=l[E]*e}f+=l[E]}let p=0;for(let E=c.length-1;E>=0;E--)if(st.isNotA1left(t,n,r)){let e=st.WEIGHTS[h][2*E+1];p+=c[E]*e}let g=m+p;if(0!=(1&f)||f>13||f<4)throw new M;let y=(13-f)/2,w=st.SYMBOL_WIDEST[y],b=9-w,x=Pe.getRSSvalue(l,w,!0),v=Pe.getRSSvalue(c,b,!1),C=st.EVEN_TOTAL_SUBSET[y],S=st.GSUM[y];return new Oe(x*C+v+S,g)}static isNotA1left(e,t,n){return!(0==e.getValue()&&t&&n)}adjustOddEvenCounts(e){let t=se.sum(new Int32Array(this.getOddCounts())),n=se.sum(new Int32Array(this.getEvenCounts())),r=!1,a=!1;t>13?a=!0:t<4&&(r=!0);let s=!1,i=!1;n>13?i=!0:n<4&&(s=!0);let o=t+n-e,l=1==(1&t),c=0==(1&n);if(1==o)if(l){if(c)throw new M;a=!0}else{if(!c)throw new M;i=!0}else if(-1==o)if(l){if(c)throw new M;r=!0}else{if(!c)throw new M;s=!0}else{if(0!=o)throw new M;if(l){if(!c)throw new M;t<n?(r=!0,i=!0):(a=!0,s=!0)}else if(c)throw new M}if(r){if(a)throw new M;st.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&st.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(i)throw new M;st.increment(this.getEvenCounts(),this.getOddRoundingErrors())}i&&st.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}st.SYMBOL_WIDEST=[7,5,4,3,1],st.EVEN_TOTAL_SUBSET=[4,20,52,104,204],st.GSUM=[0,348,1388,2948,3988],st.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],st.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],st.FINDER_PAT_A=0,st.FINDER_PAT_B=1,st.FINDER_PAT_C=2,st.FINDER_PAT_D=3,st.FINDER_PAT_E=4,st.FINDER_PAT_F=5,st.FINDER_PATTERN_SEQUENCES=[[st.FINDER_PAT_A,st.FINDER_PAT_A],[st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B],[st.FINDER_PAT_A,st.FINDER_PAT_C,st.FINDER_PAT_B,st.FINDER_PAT_D],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_C],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_D,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_D],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_E],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F]],st.MAX_PAIRS=11;class it extends Oe{constructor(e,t,n){super(e,t),this.count=0,this.finderPattern=n}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ot extends je{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,n){const r=this.decodePair(t,!1,e,n);ot.addOrTally(this.possibleLeftPairs,r),t.reverse();let a=this.decodePair(t,!0,e,n);ot.addOrTally(this.possibleRightPairs,a),t.reverse();for(let s of this.possibleLeftPairs)if(s.getCount()>1)for(let e of this.possibleRightPairs)if(e.getCount()>1&&ot.checkChecksum(s,e))return ot.constructResult(s,e);throw new M}static addOrTally(e,t){if(null==t)return;let n=!1;for(let r of e)if(r.getValue()===t.getValue()){r.incrementCount(),n=!0;break}n||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let n=4537077*e.getValue()+t.getValue(),r=new String(n).toString(),a=new _;for(let l=13-r.length;l>0;l--)a.append("0");a.append(r);let s=0;for(let l=0;l<13;l++){let e=a.charAt(l).charCodeAt(0)-"0".charCodeAt(0);s+=0===(1&l)?3*e:e}s=10-s%10,10===s&&(s=0),a.append(s.toString());let i=e.getFinderPattern().getResultPoints(),o=t.getFinderPattern().getResultPoints();return new U(a.toString(),null,0,[i[0],i[1],o[0],o[1]],H.RSS_14,(new Date).getTime())}static checkChecksum(e,t){let n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,r=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,n===r}decodePair(e,t,n,r){try{let a=this.findFinderPattern(e,t),s=this.parseFoundFinderPattern(e,n,t,a),i=null==r?null:r.get(C.NEED_RESULT_POINT_CALLBACK);if(null!=i){let r=(a[0]+a[1])/2;t&&(r=e.getSize()-1-r),i.foundPossibleResultPoint(new oe(r,n))}let o=this.decodeDataCharacter(e,s,!0),l=this.decodeDataCharacter(e,s,!1);return new it(1597*o.getValue()+l.getValue(),o.getChecksumPortion()+4*l.getChecksumPortion(),s)}catch(a){return null}}decodeDataCharacter(e,t,n){let r=this.getDataCharacterCounters();for(let p=0;p<r.length;p++)r[p]=0;if(n)be.recordPatternInReverse(e,t.getStartEnd()[0],r);else{be.recordPattern(e,t.getStartEnd()[1]+1,r);for(let e=0,t=r.length-1;e<t;e++,t--){let n=r[e];r[e]=r[t],r[t]=n}}let a=n?16:15,s=se.sum(new Int32Array(r))/a,i=this.getOddCounts(),o=this.getEvenCounts(),l=this.getOddRoundingErrors(),c=this.getEvenRoundingErrors();for(let p=0;p<r.length;p++){let e=r[p]/s,t=Math.floor(e+.5);t<1?t=1:t>8&&(t=8);let n=Math.floor(p/2);0===(1&p)?(i[n]=t,l[n]=e-t):(o[n]=t,c[n]=e-t)}this.adjustOddEvenCounts(n,a);let u=0,d=0;for(let p=i.length-1;p>=0;p--)d*=9,d+=i[p],u+=i[p];let h=0,f=0;for(let p=o.length-1;p>=0;p--)h*=9,h+=o[p],f+=o[p];let m=d+3*h;if(n){if(0!==(1&u)||u>12||u<4)throw new M;let e=(12-u)/2,t=ot.OUTSIDE_ODD_WIDEST[e],n=9-t,r=Pe.getRSSvalue(i,t,!1),a=Pe.getRSSvalue(o,n,!0),s=ot.OUTSIDE_EVEN_TOTAL_SUBSET[e],l=ot.OUTSIDE_GSUM[e];return new Oe(r*s+a+l,m)}{if(0!==(1&f)||f>10||f<4)throw new M;let e=(10-f)/2,t=ot.INSIDE_ODD_WIDEST[e],n=9-t,r=Pe.getRSSvalue(i,t,!0),a=Pe.getRSSvalue(o,n,!1),s=ot.INSIDE_ODD_TOTAL_SUBSET[e],l=ot.INSIDE_GSUM[e];return new Oe(a*s+r+l,m)}}findFinderPattern(e,t){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let r=e.getSize(),a=!1,s=0;for(;s<r&&(a=!e.get(s),t!==a);)s++;let i=0,o=s;for(let l=s;l<r;l++)if(e.get(l)!==a)n[i]++;else{if(3===i){if(je.isFinderPattern(n))return[o,l];o+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,i--}else i++;n[i]=1,a=!a}throw new M}parseFoundFinderPattern(e,t,n,r){let a=e.get(r[0]),s=r[0]-1;for(;s>=0&&a!==e.get(s);)s--;s++;const i=r[0]-s,o=this.getDecodeFinderCounters(),l=new Int32Array(o.length);p.arraycopy(o,0,l,1,o.length-1),l[0]=i;const c=this.parseFinderValue(l,ot.FINDER_PATTERNS);let u=s,d=r[1];return n&&(u=e.getSize()-1-u,d=e.getSize()-1-d),new ke(c,[s,r[1]],u,d,t)}adjustOddEvenCounts(e,t){let n=se.sum(new Int32Array(this.getOddCounts())),r=se.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1,i=!1,o=!1;e?(n>12?s=!0:n<4&&(a=!0),r>12?o=!0:r<4&&(i=!0)):(n>11?s=!0:n<5&&(a=!0),r>10?o=!0:r<4&&(i=!0));let l=n+r-t,c=(1&n)===(e?1:0),u=1===(1&r);if(1===l)if(c){if(u)throw new M;s=!0}else{if(!u)throw new M;o=!0}else if(-1===l)if(c){if(u)throw new M;a=!0}else{if(!u)throw new M;i=!0}else{if(0!==l)throw new M;if(c){if(!u)throw new M;n<r?(a=!0,o=!0):(s=!0,i=!0)}else if(u)throw new M}if(a){if(s)throw new M;je.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&je.decrement(this.getOddCounts(),this.getOddRoundingErrors()),i){if(o)throw new M;je.increment(this.getEvenCounts(),this.getOddRoundingErrors())}o&&je.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ot.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ot.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ot.OUTSIDE_GSUM=[0,161,961,2015,2715],ot.INSIDE_GSUM=[0,336,1036,1516],ot.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ot.INSIDE_ODD_WIDEST=[2,4,6,8],ot.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class lt extends be{constructor(e,t){super(),this.readers=[],this.verbose=!0===t;const n=e?e.get(C.POSSIBLE_FORMATS):null,r=e&&void 0!==e.get(C.ASSUME_CODE_39_CHECK_DIGIT);n?((n.includes(H.EAN_13)||n.includes(H.UPC_A)||n.includes(H.EAN_8)||n.includes(H.UPC_E))&&this.readers.push(new Re(e)),n.includes(H.CODE_39)&&this.readers.push(new ve(r)),n.includes(H.CODE_128)&&this.readers.push(new xe),n.includes(H.ITF)&&this.readers.push(new Ce),n.includes(H.RSS_14)&&this.readers.push(new ot),n.includes(H.RSS_EXPANDED)&&this.readers.push(new st(this.verbose))):(this.readers.push(new Re(e)),this.readers.push(new ve),this.readers.push(new Re(e)),this.readers.push(new xe),this.readers.push(new Ce),this.readers.push(new ot),this.readers.push(new st(this.verbose)))}decodeRow(e,t,n){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(e,t,n)}catch(r){}throw new M}reset(){this.readers.forEach((e=>e.reset()))}}class ct extends F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1?arguments[1]:void 0;super(new lt(t),e,t)}}class ut{constructor(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class dt{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ht{constructor(e,t,n,r,a,s){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=r,this.dataRegionSizeColumns=a,this.ecBlocks=s;let i=0;const o=s.getECCodewords(),l=s.getECBlocks();for(let c of l)i+=c.getCount()*(c.getDataCodewords()+o);this.totalCodewords=i}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(0!==(1&e)||0!==(1&t))throw new S;for(let n of ht.VERSIONS)if(n.symbolSizeRows===e&&n.symbolSizeColumns===t)return n;throw new S}toString(){return""+this.versionNumber}static buildVersions(){return[new ht(1,10,10,8,8,new ut(5,new dt(1,3))),new ht(2,12,12,10,10,new ut(7,new dt(1,5))),new ht(3,14,14,12,12,new ut(10,new dt(1,8))),new ht(4,16,16,14,14,new ut(12,new dt(1,12))),new ht(5,18,18,16,16,new ut(14,new dt(1,18))),new ht(6,20,20,18,18,new ut(18,new dt(1,22))),new ht(7,22,22,20,20,new ut(20,new dt(1,30))),new ht(8,24,24,22,22,new ut(24,new dt(1,36))),new ht(9,26,26,24,24,new ut(28,new dt(1,44))),new ht(10,32,32,14,14,new ut(36,new dt(1,62))),new ht(11,36,36,16,16,new ut(42,new dt(1,86))),new ht(12,40,40,18,18,new ut(48,new dt(1,114))),new ht(13,44,44,20,20,new ut(56,new dt(1,144))),new ht(14,48,48,22,22,new ut(68,new dt(1,174))),new ht(15,52,52,24,24,new ut(42,new dt(2,102))),new ht(16,64,64,14,14,new ut(56,new dt(2,140))),new ht(17,72,72,16,16,new ut(36,new dt(4,92))),new ht(18,80,80,18,18,new ut(48,new dt(4,114))),new ht(19,88,88,20,20,new ut(56,new dt(4,144))),new ht(20,96,96,22,22,new ut(68,new dt(4,174))),new ht(21,104,104,24,24,new ut(56,new dt(6,136))),new ht(22,120,120,18,18,new ut(68,new dt(6,175))),new ht(23,132,132,20,20,new ut(62,new dt(8,163))),new ht(24,144,144,22,22,new ut(62,new dt(8,156),new dt(2,155))),new ht(25,8,18,6,16,new ut(7,new dt(1,5))),new ht(26,8,32,6,14,new ut(11,new dt(1,10))),new ht(27,12,26,10,24,new ut(14,new dt(1,16))),new ht(28,12,36,10,16,new ut(18,new dt(1,22))),new ht(29,16,36,14,16,new ut(24,new dt(1,32))),new ht(30,16,48,14,22,new ut(28,new dt(1,49)))]}}ht.VERSIONS=ht.buildVersions();class ft{constructor(e){const t=e.getHeight();if(t<8||t>144||0!==(1&t))throw new S;this.version=ft.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new T(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),n=e.getWidth();return ht.getVersionForDimensions(t,n)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,n=4,r=0;const a=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth();let i=!1,o=!1,l=!1,c=!1;do{if(n!==a||0!==r||i)if(n!==a-2||0!==r||0===(3&s)||o)if(n!==a+4||2!==r||0!==(7&s)||l)if(n!==a-2||0!==r||4!==(7&s)||c){do{n<a&&r>=0&&!this.readMappingMatrix.get(r,n)&&(e[t++]=255&this.readUtah(n,r,a,s)),n-=2,r+=2}while(n>=0&&r<s);n+=1,r+=3;do{n>=0&&r<s&&!this.readMappingMatrix.get(r,n)&&(e[t++]=255&this.readUtah(n,r,a,s)),n+=2,r-=2}while(n<a&&r>=0);n+=3,r+=1}else e[t++]=255&this.readCorner4(a,s),n-=2,r+=2,c=!0;else e[t++]=255&this.readCorner3(a,s),n-=2,r+=2,l=!0;else e[t++]=255&this.readCorner2(a,s),n-=2,r+=2,o=!0;else e[t++]=255&this.readCorner1(a,s),n-=2,r+=2,i=!0}while(n<a||r<s);if(t!==this.version.getTotalCodewords())throw new S;return e}readModule(e,t,n,r){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=r,e+=4-(r+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,n,r){let a=0;return this.readModule(e-2,t-2,n,r)&&(a|=1),a<<=1,this.readModule(e-2,t-1,n,r)&&(a|=1),a<<=1,this.readModule(e-1,t-2,n,r)&&(a|=1),a<<=1,this.readModule(e-1,t-1,n,r)&&(a|=1),a<<=1,this.readModule(e-1,t,n,r)&&(a|=1),a<<=1,this.readModule(e,t-2,n,r)&&(a|=1),a<<=1,this.readModule(e,t-1,n,r)&&(a|=1),a<<=1,this.readModule(e,t,n,r)&&(a|=1),a}readCorner1(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}readCorner2(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner3(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner4(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new d("Dimension of bitMatrix must match the version size");const r=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),s=t/r|0,i=n/a|0,o=new T(i*a,s*r);for(let l=0;l<s;++l){const t=l*r;for(let n=0;n<i;++n){const s=n*a;for(let i=0;i<r;++i){const c=l*(r+2)+1+i,u=t+i;for(let t=0;t<a;++t){const r=n*(a+2)+1+t;if(e.get(r,c)){const e=s+t;o.set(e,u)}}}}}return o}}class mt{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const n=t.getECBlocks();let r=0;const a=n.getECBlocks();for(let d of a)r+=d.getCount();const s=new Array(r);let i=0;for(let d of a)for(let e=0;e<d.getCount();e++){const e=d.getDataCodewords(),t=n.getECCodewords()+e;s[i++]=new mt(e,new Uint8Array(t))}const o=s[0].codewords.length-n.getECCodewords(),l=o-1;let c=0;for(let d=0;d<l;d++)for(let t=0;t<i;t++)s[t].codewords[d]=e[c++];const u=24===t.getVersionNumber(),h=u?8:i;for(let d=0;d<h;d++)s[d].codewords[o-1]=e[c++];const f=s[0].codewords.length;for(let d=o;d<f;d++)for(let t=0;t<i;t++){const n=u?(t+8)%i:t,r=u&&n>7?d-1:d;s[n].codewords[r]=e[c++]}if(c!==e.length)throw new d;return s}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class pt{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new d(""+e);let t=0,n=this.bitOffset,r=this.byteOffset;const a=this.bytes;if(n>0){const s=8-n,i=e<s?e:s,o=s-i,l=255>>8-i<<o;t=(a[r]&l)>>o,e-=i,n+=i,8===n&&(n=0,r++)}if(e>0){for(;e>=8;)t=t<<8|255&a[r],r++,e-=8;if(e>0){const s=8-e,i=255>>s<<s;t=t<<e|(a[r]&i)>>s,n+=e}}return this.bitOffset=n,this.byteOffset=r,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}!function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"}(W||(W={}));class gt{static decode(e){const t=new pt(e),n=new _,r=new _,a=new Array;let s=W.ASCII_ENCODE;do{if(s===W.ASCII_ENCODE)s=this.decodeAsciiSegment(t,n,r);else{switch(s){case W.C40_ENCODE:this.decodeC40Segment(t,n);break;case W.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case W.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case W.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case W.BASE256_ENCODE:this.decodeBase256Segment(t,n,a);break;default:throw new S}s=W.ASCII_ENCODE}}while(s!==W.PAD_ENCODE&&t.available()>0);return r.length()>0&&n.append(r.toString()),new Z(e,n.toString(),0===a.length?null:a,null)}static decodeAsciiSegment(e,t,n){let r=!1;do{let a=e.readBits(8);if(0===a)throw new S;if(a<=128)return r&&(a+=128),t.append(String.fromCharCode(a-1)),W.ASCII_ENCODE;if(129===a)return W.PAD_ENCODE;if(a<=229){const e=a-130;e<10&&t.append("0"),t.append(""+e)}else switch(a){case 230:return W.C40_ENCODE;case 231:return W.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:r=!0;break;case 236:t.append("[)>\x1e05\x1d"),n.insert(0,"\x1e\x04");break;case 237:t.append("[)>\x1e06\x1d"),n.insert(0,"\x1e\x04");break;case 238:return W.ANSIX12_ENCODE;case 239:return W.TEXT_ENCODE;case 240:return W.EDIFACT_ENCODE;default:if(254!==a||0!==e.available())throw new S}}while(e.available()>0);return W.ASCII_ENCODE}static decodeC40Segment(e,t){let n=!1;const r=[];let a=0;do{if(8===e.available())return;const s=e.readBits(8);if(254===s)return;this.parseTwoBytes(s,e.readBits(8),r);for(let e=0;e<3;e++){const s=r[e];switch(a){case 0:if(s<3)a=s+1;else{if(!(s<this.C40_BASIC_SET_CHARS.length))throw new S;{const e=this.C40_BASIC_SET_CHARS[s];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}}break;case 1:n?(t.append(String.fromCharCode(s+128)),n=!1):t.append(String.fromCharCode(s)),a=0;break;case 2:if(s<this.C40_SHIFT2_SET_CHARS.length){const e=this.C40_SHIFT2_SET_CHARS[s];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}else switch(s){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new S}a=0;break;case 3:n?(t.append(String.fromCharCode(s+224)),n=!1):t.append(String.fromCharCode(s+96)),a=0;break;default:throw new S}}}while(e.available()>0)}static decodeTextSegment(e,t){let n=!1,r=[],a=0;do{if(8===e.available())return;const s=e.readBits(8);if(254===s)return;this.parseTwoBytes(s,e.readBits(8),r);for(let e=0;e<3;e++){const s=r[e];switch(a){case 0:if(s<3)a=s+1;else{if(!(s<this.TEXT_BASIC_SET_CHARS.length))throw new S;{const e=this.TEXT_BASIC_SET_CHARS[s];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}}break;case 1:n?(t.append(String.fromCharCode(s+128)),n=!1):t.append(String.fromCharCode(s)),a=0;break;case 2:if(s<this.TEXT_SHIFT2_SET_CHARS.length){const e=this.TEXT_SHIFT2_SET_CHARS[s];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}else switch(s){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new S}a=0;break;case 3:if(!(s<this.TEXT_SHIFT3_SET_CHARS.length))throw new S;{const e=this.TEXT_SHIFT3_SET_CHARS[s];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e),a=0}break;default:throw new S}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const n=[];do{if(8===e.available())return;const r=e.readBits(8);if(254===r)return;this.parseTwoBytes(r,e.readBits(8),n);for(let e=0;e<3;e++){const r=n[e];switch(r){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(r<14)t.append(String.fromCharCode(r+44));else{if(!(r<40))throw new S;t.append(String.fromCharCode(r+51))}}}}while(e.available()>0)}static parseTwoBytes(e,t,n){let r=(e<<8)+t-1,a=Math.floor(r/1600);n[0]=a,r-=1600*a,a=Math.floor(r/40),n[1]=a,n[2]=r-40*a}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let n=0;n<4;n++){let n=e.readBits(6);if(31===n){const t=8-e.getBitOffset();return void(8!==t&&e.readBits(t))}0===(32&n)&&(n|=64),t.append(String.fromCharCode(n))}}while(e.available()>0)}static decodeBase256Segment(e,t,n){let r=1+e.getByteOffset();const a=this.unrandomize255State(e.readBits(8),r++);let s;if(s=0===a?e.available()/8|0:a<250?a:250*(a-249)+this.unrandomize255State(e.readBits(8),r++),s<0)throw new S;const i=new Uint8Array(s);for(let l=0;l<s;l++){if(e.available()<8)throw new S;i[l]=this.unrandomize255State(e.readBits(8),r++)}n.push(i);try{t.append(A.decode(i,I.ISO88591))}catch(o){throw new ne("Platform does not support required encoding: "+o.message)}}static unrandomize255State(e,t){const n=e-(149*t%255+1);return n>=0?n:n+256}}gt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],gt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],gt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],gt.TEXT_SHIFT2_SET_CHARS=gt.C40_SHIFT2_SET_CHARS,gt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class yt{constructor(){this.rsDecoder=new re(ee.DATA_MATRIX_FIELD_256)}decode(e){const t=new ft(e),n=t.getVersion(),r=t.readCodewords(),a=mt.getDataBlocks(r,n);let s=0;for(let l of a)s+=l.getNumDataCodewords();const i=new Uint8Array(s),o=a.length;for(let l=0;l<o;l++){const e=a[l],t=e.getCodewords(),n=e.getNumDataCodewords();this.correctErrors(t,n);for(let r=0;r<n;r++)i[r*o+l]=t[r]}return gt.decode(i)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(r){throw new f}for(let a=0;a<t;a++)e[a]=n[a]}}class wt{constructor(e){this.image=e,this.rectangleDetector=new ue(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new M;t=this.shiftToModuleCenter(t);const n=t[0],r=t[1],a=t[2],s=t[3];let i=this.transitionsBetween(n,s)+1,o=this.transitionsBetween(a,s)+1;1===(1&i)&&(i+=1),1===(1&o)&&(o+=1),4*i<7*o&&4*o<7*i&&(i=o=Math.max(i,o));let l=wt.sampleGrid(this.image,n,r,a,s,i,o);return new le(l,[n,r,a,s])}static shiftPoint(e,t,n){let r=(t.getX()-e.getX())/(n+1),a=(t.getY()-e.getY())/(n+1);return new oe(e.getX()+r,e.getY()+a)}static moveAway(e,t,n){let r=e.getX(),a=e.getY();return r<t?r-=1:r+=1,a<n?a-=1:a+=1,new oe(r,a)}detectSolid1(e){let t=e[0],n=e[1],r=e[3],a=e[2],s=this.transitionsBetween(t,n),i=this.transitionsBetween(n,r),o=this.transitionsBetween(r,a),l=this.transitionsBetween(a,t),c=s,u=[a,t,n,r];return c>i&&(c=i,u[0]=t,u[1]=n,u[2]=r,u[3]=a),c>o&&(c=o,u[0]=n,u[1]=r,u[2]=a,u[3]=t),c>l&&(u[0]=r,u[1]=a,u[2]=t,u[3]=n),u}detectSolid2(e){let t=e[0],n=e[1],r=e[2],a=e[3],s=this.transitionsBetween(t,a),i=wt.shiftPoint(n,r,4*(s+1)),o=wt.shiftPoint(r,n,4*(s+1));return this.transitionsBetween(i,t)<this.transitionsBetween(o,a)?(e[0]=t,e[1]=n,e[2]=r,e[3]=a):(e[0]=n,e[1]=r,e[2]=a,e[3]=t),e}correctTopRight(e){let t=e[0],n=e[1],r=e[2],a=e[3],s=this.transitionsBetween(t,a),i=this.transitionsBetween(n,a),o=wt.shiftPoint(t,n,4*(i+1)),l=wt.shiftPoint(r,n,4*(s+1));s=this.transitionsBetween(o,a),i=this.transitionsBetween(l,a);let c=new oe(a.getX()+(r.getX()-n.getX())/(s+1),a.getY()+(r.getY()-n.getY())/(s+1)),u=new oe(a.getX()+(t.getX()-n.getX())/(i+1),a.getY()+(t.getY()-n.getY())/(i+1));return this.isValid(c)?this.isValid(u)?this.transitionsBetween(o,c)+this.transitionsBetween(l,c)>this.transitionsBetween(o,u)+this.transitionsBetween(l,u)?c:u:c:this.isValid(u)?u:null}shiftToModuleCenter(e){let t=e[0],n=e[1],r=e[2],a=e[3],s=this.transitionsBetween(t,a)+1,i=this.transitionsBetween(r,a)+1,o=wt.shiftPoint(t,n,4*i),l=wt.shiftPoint(r,n,4*s);s=this.transitionsBetween(o,a)+1,i=this.transitionsBetween(l,a)+1,1===(1&s)&&(s+=1),1===(1&i)&&(i+=1);let c,u,d=(t.getX()+n.getX()+r.getX()+a.getX())/4,h=(t.getY()+n.getY()+r.getY()+a.getY())/4;return t=wt.moveAway(t,d,h),n=wt.moveAway(n,d,h),r=wt.moveAway(r,d,h),a=wt.moveAway(a,d,h),o=wt.shiftPoint(t,n,4*i),o=wt.shiftPoint(o,a,4*s),c=wt.shiftPoint(n,t,4*i),c=wt.shiftPoint(c,r,4*s),l=wt.shiftPoint(r,a,4*i),l=wt.shiftPoint(l,n,4*s),u=wt.shiftPoint(a,r,4*i),u=wt.shiftPoint(u,t,4*s),[o,c,l,u]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,n,r,a,s,i){return me.getInstance().sampleGrid(e,s,i,.5,.5,s-.5,.5,s-.5,i-.5,.5,i-.5,t.getX(),t.getY(),a.getX(),a.getY(),r.getX(),r.getY(),n.getX(),n.getY())}transitionsBetween(e,t){let n=Math.trunc(e.getX()),r=Math.trunc(e.getY()),a=Math.trunc(t.getX()),s=Math.trunc(t.getY()),i=Math.abs(s-r)>Math.abs(a-n);if(i){let e=n;n=r,r=e,e=a,a=s,s=e}let o=Math.abs(a-n),l=Math.abs(s-r),c=-o/2,u=r<s?1:-1,d=n<a?1:-1,h=0,f=this.image.get(i?r:n,i?n:r);for(let m=n,p=r;m!==a;m+=d){let e=this.image.get(i?p:m,i?m:p);if(e!==f&&(h++,f=e),c+=l,c>0){if(p===s)break;p+=u,c-=o}}return h}}class bt{constructor(){this.decoder=new yt}decode(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=r&&r.has(C.PURE_BARCODE)){const r=bt.extractPureBits(e.getBlackMatrix());t=this.decoder.decode(r),n=bt.NO_POINTS}else{const r=new wt(e.getBlackMatrix()).detect();t=this.decoder.decode(r.getBits()),n=r.getPoints()}const a=t.getRawBytes(),s=new U(t.getText(),a,8*a.length,n,H.DATA_MATRIX,p.currentTimeMillis()),i=t.getByteSegments();null!=i&&s.putMetadata(q.BYTE_SEGMENTS,i);const o=t.getECLevel();return null!=o&&s.putMetadata(q.ERROR_CORRECTION_LEVEL,o),s}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null==t||null==n)throw new M;const r=this.moduleSize(t,e);let a=t[1];const s=n[1];let i=t[0];const o=(n[0]-i+1)/r,l=(s-a+1)/r;if(o<=0||l<=0)throw new M;const c=r/2;a+=c,i+=c;const u=new T(o,l);for(let d=0;d<l;d++){const t=a+d*r;for(let n=0;n<o;n++)e.get(i+n*r,t)&&u.set(n,d)}return u}static moduleSize(e,t){const n=t.getWidth();let r=e[0];const a=e[1];for(;r<n&&t.get(r,a);)r++;if(r===n)throw new M;const s=r-e[0];if(0===s)throw new M;return s}}bt.NO_POINTS=[];class xt extends F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new bt,e)}}!function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"}(G||(G={}));class vt{constructor(e,t,n){this.value=e,this.stringValue=t,this.bits=n,vt.FOR_BITS.set(n,this),vt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return vt.L;case"M":return vt.M;case"Q":return vt.Q;case"H":return vt.H;default:throw new u(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof vt))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=vt.FOR_BITS.size)throw new d;return vt.FOR_BITS.get(e)}}vt.FOR_BITS=new Map,vt.FOR_VALUE=new Map,vt.L=new vt(G.L,"L",1),vt.M=new vt(G.M,"M",0),vt.Q=new vt(G.Q,"Q",3),vt.H=new vt(G.H,"H",2);class Ct{constructor(e){this.errorCorrectionLevel=vt.forBits(e>>3&3),this.dataMask=7&e}static numBitsDiffering(e,t){return b.bitCount(e^t)}static decodeFormatInformation(e,t){const n=Ct.doDecodeFormatInformation(e,t);return null!==n?n:Ct.doDecodeFormatInformation(e^Ct.FORMAT_INFO_MASK_QR,t^Ct.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let n=Number.MAX_SAFE_INTEGER,r=0;for(const a of Ct.FORMAT_INFO_DECODE_LOOKUP){const s=a[0];if(s===e||s===t)return new Ct(a[1]);let i=Ct.numBitsDiffering(e,s);i<n&&(r=a[1],n=i),e!==t&&(i=Ct.numBitsDiffering(t,s),i<n&&(r=a[1],n=i))}return n<=3?new Ct(r):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Ct))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}Ct.FORMAT_INFO_MASK_QR=21522,Ct.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class St{constructor(e){this.ecCodewordsPerBlock=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const n of t)e+=n.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Et{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Nt{constructor(e,t){this.versionNumber=e,this.alignmentPatternCenters=t;for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];this.ecBlocks=r;let s=0;const i=r[0].getECCodewordsPerBlock(),o=r[0].getECBlocks();for(const l of o)s+=l.getCount()*(l.getDataCodewords()+i);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new S;try{return this.getVersionForNumber((e-17)/4)}catch(t){throw new S}}static getVersionForNumber(e){if(e<1||e>40)throw new d;return Nt.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,n=0;for(let r=0;r<Nt.VERSION_DECODE_INFO.length;r++){const a=Nt.VERSION_DECODE_INFO[r];if(a===e)return Nt.getVersionForNumber(r+7);const s=Ct.numBitsDiffering(e,a);s<t&&(n=r+7,t=s)}return t<=3?Nt.getVersionForNumber(n):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new T(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const n=this.alignmentPatternCenters.length;for(let r=0;r<n;r++){const e=this.alignmentPatternCenters[r]-2;for(let a=0;a<n;a++)0===r&&(0===a||a===n-1)||r===n-1&&0===a||t.setRegion(this.alignmentPatternCenters[a]-2,e,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}Nt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Nt.VERSIONS=[new Nt(1,new Int32Array(0),new St(7,new Et(1,19)),new St(10,new Et(1,16)),new St(13,new Et(1,13)),new St(17,new Et(1,9))),new Nt(2,Int32Array.from([6,18]),new St(10,new Et(1,34)),new St(16,new Et(1,28)),new St(22,new Et(1,22)),new St(28,new Et(1,16))),new Nt(3,Int32Array.from([6,22]),new St(15,new Et(1,55)),new St(26,new Et(1,44)),new St(18,new Et(2,17)),new St(22,new Et(2,13))),new Nt(4,Int32Array.from([6,26]),new St(20,new Et(1,80)),new St(18,new Et(2,32)),new St(26,new Et(2,24)),new St(16,new Et(4,9))),new Nt(5,Int32Array.from([6,30]),new St(26,new Et(1,108)),new St(24,new Et(2,43)),new St(18,new Et(2,15),new Et(2,16)),new St(22,new Et(2,11),new Et(2,12))),new Nt(6,Int32Array.from([6,34]),new St(18,new Et(2,68)),new St(16,new Et(4,27)),new St(24,new Et(4,19)),new St(28,new Et(4,15))),new Nt(7,Int32Array.from([6,22,38]),new St(20,new Et(2,78)),new St(18,new Et(4,31)),new St(18,new Et(2,14),new Et(4,15)),new St(26,new Et(4,13),new Et(1,14))),new Nt(8,Int32Array.from([6,24,42]),new St(24,new Et(2,97)),new St(22,new Et(2,38),new Et(2,39)),new St(22,new Et(4,18),new Et(2,19)),new St(26,new Et(4,14),new Et(2,15))),new Nt(9,Int32Array.from([6,26,46]),new St(30,new Et(2,116)),new St(22,new Et(3,36),new Et(2,37)),new St(20,new Et(4,16),new Et(4,17)),new St(24,new Et(4,12),new Et(4,13))),new Nt(10,Int32Array.from([6,28,50]),new St(18,new Et(2,68),new Et(2,69)),new St(26,new Et(4,43),new Et(1,44)),new St(24,new Et(6,19),new Et(2,20)),new St(28,new Et(6,15),new Et(2,16))),new Nt(11,Int32Array.from([6,30,54]),new St(20,new Et(4,81)),new St(30,new Et(1,50),new Et(4,51)),new St(28,new Et(4,22),new Et(4,23)),new St(24,new Et(3,12),new Et(8,13))),new Nt(12,Int32Array.from([6,32,58]),new St(24,new Et(2,92),new Et(2,93)),new St(22,new Et(6,36),new Et(2,37)),new St(26,new Et(4,20),new Et(6,21)),new St(28,new Et(7,14),new Et(4,15))),new Nt(13,Int32Array.from([6,34,62]),new St(26,new Et(4,107)),new St(22,new Et(8,37),new Et(1,38)),new St(24,new Et(8,20),new Et(4,21)),new St(22,new Et(12,11),new Et(4,12))),new Nt(14,Int32Array.from([6,26,46,66]),new St(30,new Et(3,115),new Et(1,116)),new St(24,new Et(4,40),new Et(5,41)),new St(20,new Et(11,16),new Et(5,17)),new St(24,new Et(11,12),new Et(5,13))),new Nt(15,Int32Array.from([6,26,48,70]),new St(22,new Et(5,87),new Et(1,88)),new St(24,new Et(5,41),new Et(5,42)),new St(30,new Et(5,24),new Et(7,25)),new St(24,new Et(11,12),new Et(7,13))),new Nt(16,Int32Array.from([6,26,50,74]),new St(24,new Et(5,98),new Et(1,99)),new St(28,new Et(7,45),new Et(3,46)),new St(24,new Et(15,19),new Et(2,20)),new St(30,new Et(3,15),new Et(13,16))),new Nt(17,Int32Array.from([6,30,54,78]),new St(28,new Et(1,107),new Et(5,108)),new St(28,new Et(10,46),new Et(1,47)),new St(28,new Et(1,22),new Et(15,23)),new St(28,new Et(2,14),new Et(17,15))),new Nt(18,Int32Array.from([6,30,56,82]),new St(30,new Et(5,120),new Et(1,121)),new St(26,new Et(9,43),new Et(4,44)),new St(28,new Et(17,22),new Et(1,23)),new St(28,new Et(2,14),new Et(19,15))),new Nt(19,Int32Array.from([6,30,58,86]),new St(28,new Et(3,113),new Et(4,114)),new St(26,new Et(3,44),new Et(11,45)),new St(26,new Et(17,21),new Et(4,22)),new St(26,new Et(9,13),new Et(16,14))),new Nt(20,Int32Array.from([6,34,62,90]),new St(28,new Et(3,107),new Et(5,108)),new St(26,new Et(3,41),new Et(13,42)),new St(30,new Et(15,24),new Et(5,25)),new St(28,new Et(15,15),new Et(10,16))),new Nt(21,Int32Array.from([6,28,50,72,94]),new St(28,new Et(4,116),new Et(4,117)),new St(26,new Et(17,42)),new St(28,new Et(17,22),new Et(6,23)),new St(30,new Et(19,16),new Et(6,17))),new Nt(22,Int32Array.from([6,26,50,74,98]),new St(28,new Et(2,111),new Et(7,112)),new St(28,new Et(17,46)),new St(30,new Et(7,24),new Et(16,25)),new St(24,new Et(34,13))),new Nt(23,Int32Array.from([6,30,54,78,102]),new St(30,new Et(4,121),new Et(5,122)),new St(28,new Et(4,47),new Et(14,48)),new St(30,new Et(11,24),new Et(14,25)),new St(30,new Et(16,15),new Et(14,16))),new Nt(24,Int32Array.from([6,28,54,80,106]),new St(30,new Et(6,117),new Et(4,118)),new St(28,new Et(6,45),new Et(14,46)),new St(30,new Et(11,24),new Et(16,25)),new St(30,new Et(30,16),new Et(2,17))),new Nt(25,Int32Array.from([6,32,58,84,110]),new St(26,new Et(8,106),new Et(4,107)),new St(28,new Et(8,47),new Et(13,48)),new St(30,new Et(7,24),new Et(22,25)),new St(30,new Et(22,15),new Et(13,16))),new Nt(26,Int32Array.from([6,30,58,86,114]),new St(28,new Et(10,114),new Et(2,115)),new St(28,new Et(19,46),new Et(4,47)),new St(28,new Et(28,22),new Et(6,23)),new St(30,new Et(33,16),new Et(4,17))),new Nt(27,Int32Array.from([6,34,62,90,118]),new St(30,new Et(8,122),new Et(4,123)),new St(28,new Et(22,45),new Et(3,46)),new St(30,new Et(8,23),new Et(26,24)),new St(30,new Et(12,15),new Et(28,16))),new Nt(28,Int32Array.from([6,26,50,74,98,122]),new St(30,new Et(3,117),new Et(10,118)),new St(28,new Et(3,45),new Et(23,46)),new St(30,new Et(4,24),new Et(31,25)),new St(30,new Et(11,15),new Et(31,16))),new Nt(29,Int32Array.from([6,30,54,78,102,126]),new St(30,new Et(7,116),new Et(7,117)),new St(28,new Et(21,45),new Et(7,46)),new St(30,new Et(1,23),new Et(37,24)),new St(30,new Et(19,15),new Et(26,16))),new Nt(30,Int32Array.from([6,26,52,78,104,130]),new St(30,new Et(5,115),new Et(10,116)),new St(28,new Et(19,47),new Et(10,48)),new St(30,new Et(15,24),new Et(25,25)),new St(30,new Et(23,15),new Et(25,16))),new Nt(31,Int32Array.from([6,30,56,82,108,134]),new St(30,new Et(13,115),new Et(3,116)),new St(28,new Et(2,46),new Et(29,47)),new St(30,new Et(42,24),new Et(1,25)),new St(30,new Et(23,15),new Et(28,16))),new Nt(32,Int32Array.from([6,34,60,86,112,138]),new St(30,new Et(17,115)),new St(28,new Et(10,46),new Et(23,47)),new St(30,new Et(10,24),new Et(35,25)),new St(30,new Et(19,15),new Et(35,16))),new Nt(33,Int32Array.from([6,30,58,86,114,142]),new St(30,new Et(17,115),new Et(1,116)),new St(28,new Et(14,46),new Et(21,47)),new St(30,new Et(29,24),new Et(19,25)),new St(30,new Et(11,15),new Et(46,16))),new Nt(34,Int32Array.from([6,34,62,90,118,146]),new St(30,new Et(13,115),new Et(6,116)),new St(28,new Et(14,46),new Et(23,47)),new St(30,new Et(44,24),new Et(7,25)),new St(30,new Et(59,16),new Et(1,17))),new Nt(35,Int32Array.from([6,30,54,78,102,126,150]),new St(30,new Et(12,121),new Et(7,122)),new St(28,new Et(12,47),new Et(26,48)),new St(30,new Et(39,24),new Et(14,25)),new St(30,new Et(22,15),new Et(41,16))),new Nt(36,Int32Array.from([6,24,50,76,102,128,154]),new St(30,new Et(6,121),new Et(14,122)),new St(28,new Et(6,47),new Et(34,48)),new St(30,new Et(46,24),new Et(10,25)),new St(30,new Et(2,15),new Et(64,16))),new Nt(37,Int32Array.from([6,28,54,80,106,132,158]),new St(30,new Et(17,122),new Et(4,123)),new St(28,new Et(29,46),new Et(14,47)),new St(30,new Et(49,24),new Et(10,25)),new St(30,new Et(24,15),new Et(46,16))),new Nt(38,Int32Array.from([6,32,58,84,110,136,162]),new St(30,new Et(4,122),new Et(18,123)),new St(28,new Et(13,46),new Et(32,47)),new St(30,new Et(48,24),new Et(14,25)),new St(30,new Et(42,15),new Et(32,16))),new Nt(39,Int32Array.from([6,26,54,82,110,138,166]),new St(30,new Et(20,117),new Et(4,118)),new St(28,new Et(40,47),new Et(7,48)),new St(30,new Et(43,24),new Et(22,25)),new St(30,new Et(10,15),new Et(67,16))),new Nt(40,Int32Array.from([6,30,58,86,114,142,170]),new St(30,new Et(19,118),new Et(6,119)),new St(28,new Et(18,47),new Et(31,48)),new St(30,new Et(34,24),new Et(34,25)),new St(30,new Et(20,15),new Et(61,16)))],function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"}(Y||(Y={}));class At{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let n=0;n<t;n++)for(let r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}}At.values=new Map([[Y.DATA_MASK_000,new At(Y.DATA_MASK_000,((e,t)=>0===(e+t&1)))],[Y.DATA_MASK_001,new At(Y.DATA_MASK_001,((e,t)=>0===(1&e)))],[Y.DATA_MASK_010,new At(Y.DATA_MASK_010,((e,t)=>t%3===0))],[Y.DATA_MASK_011,new At(Y.DATA_MASK_011,((e,t)=>(e+t)%3===0))],[Y.DATA_MASK_100,new At(Y.DATA_MASK_100,((e,t)=>0===(Math.floor(e/2)+Math.floor(t/3)&1)))],[Y.DATA_MASK_101,new At(Y.DATA_MASK_101,((e,t)=>e*t%6===0))],[Y.DATA_MASK_110,new At(Y.DATA_MASK_110,((e,t)=>e*t%6<3))],[Y.DATA_MASK_111,new At(Y.DATA_MASK_111,((e,t)=>0===(e+t+e*t%3&1)))]]);class It{constructor(e){const t=e.getHeight();if(t<21||1!==(3&t))throw new S;this.bitMatrix=e}readFormatInformation(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;let e=0;for(let a=0;a<6;a++)e=this.copyBit(a,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let a=5;a>=0;a--)e=this.copyBit(8,a,e);const t=this.bitMatrix.getHeight();let n=0;const r=t-7;for(let a=t-1;a>=r;a--)n=this.copyBit(8,a,n);for(let a=t-8;a<t;a++)n=this.copyBit(a,8,n);if(this.parsedFormatInfo=Ct.decodeFormatInformation(e,n),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new S}readVersion(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Nt.getVersionForNumber(t);let n=0;const r=e-11;for(let s=5;s>=0;s--)for(let t=e-9;t>=r;t--)n=this.copyBit(t,s,n);let a=Nt.decodeVersionInformation(n);if(null!==a&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;n=0;for(let s=5;s>=0;s--)for(let t=e-9;t>=r;t--)n=this.copyBit(s,t,n);if(a=Nt.decodeVersionInformation(n),null!==a&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new S}copyBit(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),n=At.values.get(e.getDataMask()),r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r);const a=t.buildFunctionPattern();let s=!0;const i=new Uint8Array(t.getTotalCodewords());let o=0,l=0,c=0;for(let u=r-1;u>0;u-=2){6===u&&u--;for(let e=0;e<r;e++){const t=s?r-1-e:e;for(let e=0;e<2;e++)a.get(u-e,t)||(c++,l<<=1,this.bitMatrix.get(u-e,t)&&(l|=1),8===c&&(i[o++]=l,c=0,l=0))}s=!s}if(o!==t.getTotalCodewords())throw new S;return i}remask(){if(null===this.parsedFormatInfo)return;const e=At.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,n=e.getWidth();t<n;t++)for(let r=t+1,a=e.getHeight();r<a;r++)e.get(t,r)!==e.get(r,t)&&(e.flip(r,t),e.flip(t,r))}}class _t{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,n){if(e.length!==t.getTotalCodewords())throw new d;const r=t.getECBlocksForLevel(n);let a=0;const s=r.getECBlocks();for(const d of s)a+=d.getCount();const i=new Array(a);let o=0;for(const d of s)for(let e=0;e<d.getCount();e++){const e=d.getDataCodewords(),t=r.getECCodewordsPerBlock()+e;i[o++]=new _t(e,new Uint8Array(t))}const l=i[0].codewords.length;let c=i.length-1;for(;c>=0&&i[c].codewords.length!==l;)c--;c++;const u=l-r.getECCodewordsPerBlock();let h=0;for(let d=0;d<u;d++)for(let t=0;t<o;t++)i[t].codewords[d]=e[h++];for(let d=c;d<o;d++)i[d].codewords[u]=e[h++];const f=i[0].codewords.length;for(let d=u;d<f;d++)for(let t=0;t<o;t++){const n=t<c?d:d+1;i[t].codewords[n]=e[h++]}return i}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}!function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"}(X||(X={}));class Tt{constructor(e,t,n,r){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=r,Tt.FOR_BITS.set(r,this),Tt.FOR_VALUE.set(e,this)}static forBits(e){const t=Tt.FOR_BITS.get(e);if(void 0===t)throw new d;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let n;return n=t<=9?0:t<=26?1:2,this.characterCountBitsForVersions[n]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Tt))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}Tt.FOR_BITS=new Map,Tt.FOR_VALUE=new Map,Tt.TERMINATOR=new Tt(X.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Tt.NUMERIC=new Tt(X.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Tt.ALPHANUMERIC=new Tt(X.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Tt.STRUCTURED_APPEND=new Tt(X.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Tt.BYTE=new Tt(X.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Tt.ECI=new Tt(X.ECI,"ECI",Int32Array.from([0,0,0]),7),Tt.KANJI=new Tt(X.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Tt.FNC1_FIRST_POSITION=new Tt(X.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Tt.FNC1_SECOND_POSITION=new Tt(X.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Tt.HANZI=new Tt(X.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Mt{static decode(e,t,n,r){const a=new pt(e);let s=new _;const i=new Array;let o=-1,l=-1;try{let e,n=null,c=!1;do{if(a.available()<4)e=Tt.TERMINATOR;else{const t=a.readBits(4);e=Tt.forBits(t)}switch(e){case Tt.TERMINATOR:break;case Tt.FNC1_FIRST_POSITION:case Tt.FNC1_SECOND_POSITION:c=!0;break;case Tt.STRUCTURED_APPEND:if(a.available()<16)throw new S;o=a.readBits(8),l=a.readBits(8);break;case Tt.ECI:const u=Mt.parseECIValue(a);if(n=E.getCharacterSetECIByValue(u),null===n)throw new S;break;case Tt.HANZI:const d=a.readBits(4),h=a.readBits(e.getCharacterCountBits(t));d===Mt.GB2312_SUBSET&&Mt.decodeHanziSegment(a,s,h);break;default:const f=a.readBits(e.getCharacterCountBits(t));switch(e){case Tt.NUMERIC:Mt.decodeNumericSegment(a,s,f);break;case Tt.ALPHANUMERIC:Mt.decodeAlphanumericSegment(a,s,f,c);break;case Tt.BYTE:Mt.decodeByteSegment(a,s,f,n,i,r);break;case Tt.KANJI:Mt.decodeKanjiSegment(a,s,f);break;default:throw new S}}}while(e!==Tt.TERMINATOR)}catch(c){throw new S}return new Z(e,s.toString(),0===i.length?null:i,null===n?null:n.toString(),o,l)}static decodeHanziSegment(e,t,n){if(13*n>e.available())throw new S;const r=new Uint8Array(2*n);let a=0;for(;n>0;){const t=e.readBits(13);let s=t/96<<8&4294967295|t%96;s+=s<959?41377:42657,r[a]=s>>8&255,r[a+1]=255&s,a+=2,n--}try{t.append(A.decode(r,I.GB2312))}catch(s){throw new S(s)}}static decodeKanjiSegment(e,t,n){if(13*n>e.available())throw new S;const r=new Uint8Array(2*n);let a=0;for(;n>0;){const t=e.readBits(13);let s=t/192<<8&4294967295|t%192;s+=s<7936?33088:49472,r[a]=s>>8,r[a+1]=s,a+=2,n--}try{t.append(A.decode(r,I.SHIFT_JIS))}catch(s){throw new S(s)}}static decodeByteSegment(e,t,n,r,a,s){if(8*n>e.available())throw new S;const i=new Uint8Array(n);for(let c=0;c<n;c++)i[c]=e.readBits(8);let o;o=null===r?I.guessEncoding(i,s):r.getName();try{t.append(A.decode(i,o))}catch(l){throw new S(l)}a.push(i)}static toAlphaNumericChar(e){if(e>=Mt.ALPHANUMERIC_CHARS.length)throw new S;return Mt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,n,r){const a=t.length();for(;n>1;){if(e.available()<11)throw new S;const r=e.readBits(11);t.append(Mt.toAlphaNumericChar(Math.floor(r/45))),t.append(Mt.toAlphaNumericChar(r%45)),n-=2}if(1===n){if(e.available()<6)throw new S;t.append(Mt.toAlphaNumericChar(e.readBits(6)))}if(r)for(let s=a;s<t.length();s++)"%"===t.charAt(s)&&(s<t.length()-1&&"%"===t.charAt(s+1)?t.deleteCharAt(s+1):t.setCharAt(s,String.fromCharCode(29)))}static decodeNumericSegment(e,t,n){for(;n>=3;){if(e.available()<10)throw new S;const r=e.readBits(10);if(r>=1e3)throw new S;t.append(Mt.toAlphaNumericChar(Math.floor(r/100))),t.append(Mt.toAlphaNumericChar(Math.floor(r/10)%10)),t.append(Mt.toAlphaNumericChar(r%10)),n-=3}if(2===n){if(e.available()<7)throw new S;const n=e.readBits(7);if(n>=100)throw new S;t.append(Mt.toAlphaNumericChar(Math.floor(n/10))),t.append(Mt.toAlphaNumericChar(n%10))}else if(1===n){if(e.available()<4)throw new S;const n=e.readBits(4);if(n>=10)throw new S;t.append(Mt.toAlphaNumericChar(n))}}static parseECIValue(e){const t=e.readBits(8);if(0===(128&t))return 127&t;if(128===(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192===(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new S}}Mt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Mt.GB2312_SUBSET=1;class Dt{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||null===e||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Rt{constructor(){this.rsDecoder=new re(ee.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(T.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const n=new It(e);let r=null;try{return this.decodeBitMatrixParser(n,t)}catch(a){r=a}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();const e=this.decodeBitMatrixParser(n,t);return e.setOther(new Dt(!0)),e}catch(a){if(null!==r)throw r;throw a}}decodeBitMatrixParser(e,t){const n=e.readVersion(),r=e.readFormatInformation().getErrorCorrectionLevel(),a=e.readCodewords(),s=_t.getDataBlocks(a,n,r);let i=0;for(const c of s)i+=c.getNumDataCodewords();const o=new Uint8Array(i);let l=0;for(const c of s){const e=c.getCodewords(),t=c.getNumDataCodewords();this.correctErrors(e,t);for(let n=0;n<t;n++)o[l++]=e[n]}return Mt.decode(o,n,r,t)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(r){throw new f}for(let a=0;a<t;a++)e[a]=n[a]}}class jt extends oe{constructor(e,t,n){super(e,t),this.estimatedModuleSize=n}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const r=(this.getX()+t)/2,a=(this.getY()+e)/2,s=(this.estimatedModuleSize+n)/2;return new jt(r,a,s)}}class Ot{constructor(e,t,n,r,a,s,i){this.image=e,this.startX=t,this.startY=n,this.width=r,this.height=a,this.moduleSize=s,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,n=e+this.width,r=this.startY+t/2,a=new Int32Array(3),s=this.image;for(let i=0;i<t;i++){const t=r+(0===(1&i)?Math.floor((i+1)/2):-Math.floor((i+1)/2));a[0]=0,a[1]=0,a[2]=0;let o=e;for(;o<n&&!s.get(o,t);)o++;let l=0;for(;o<n;){if(s.get(o,t))if(1===l)a[1]++;else if(2===l){if(this.foundPatternCross(a)){const e=this.handlePossibleCenter(a,t,o);if(null!==e)return e}a[0]=a[2],a[1]=1,a[2]=0,l=1}else a[++l]++;else 1===l&&l++,a[l]++;o++}if(this.foundPatternCross(a)){const e=this.handlePossibleCenter(a,t,n);if(null!==e)return e}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new M}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,n=t/2;for(let r=0;r<3;r++)if(Math.abs(t-e[r])>=n)return!1;return!0}crossCheckVertical(e,t,n,r){const a=this.image,s=a.getHeight(),i=this.crossCheckStateCount;i[0]=0,i[1]=0,i[2]=0;let o=e;for(;o>=0&&a.get(t,o)&&i[1]<=n;)i[1]++,o--;if(o<0||i[1]>n)return NaN;for(;o>=0&&!a.get(t,o)&&i[0]<=n;)i[0]++,o--;if(i[0]>n)return NaN;for(o=e+1;o<s&&a.get(t,o)&&i[1]<=n;)i[1]++,o++;if(o===s||i[1]>n)return NaN;for(;o<s&&!a.get(t,o)&&i[2]<=n;)i[2]++,o++;if(i[2]>n)return NaN;const l=i[0]+i[1]+i[2];return 5*Math.abs(l-r)>=2*r?NaN:this.foundPatternCross(i)?Ot.centerFromEnd(i,o):NaN}handlePossibleCenter(e,t,n){const r=e[0]+e[1]+e[2],a=Ot.centerFromEnd(e,n),s=this.crossCheckVertical(t,a,2*e[1],r);if(!isNaN(s)){const t=(e[0]+e[1]+e[2])/3;for(const e of this.possibleCenters)if(e.aboutEquals(t,s,a))return e.combineEstimate(s,a,t);const n=new jt(a,s,t);this.possibleCenters.push(n),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(n)}return null}}class kt extends oe{constructor(e,t,n,r){super(e,t),this.estimatedModuleSize=n,this.count=r,void 0===r&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const r=this.count+1,a=(this.count*this.getX()+t)/r,s=(this.count*this.getY()+e)/r,i=(this.count*this.estimatedModuleSize+n)/r;return new kt(a,s,i,r)}}class Pt{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Lt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=null!==e&&void 0!==e&&void 0!==e.get(C.TRY_HARDER),n=null!==e&&void 0!==e&&void 0!==e.get(C.PURE_BARCODE),r=this.image,a=r.getHeight(),s=r.getWidth();let i=Math.floor(3*a/(4*Lt.MAX_MODULES));(i<Lt.MIN_SKIP||t)&&(i=Lt.MIN_SKIP);let o=!1;const l=new Int32Array(5);for(let u=i-1;u<a&&!o;u+=i){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;let e=0;for(let t=0;t<s;t++)if(r.get(t,u))1===(1&e)&&e++,l[e]++;else if(0===(1&e))if(4===e)if(Lt.foundPatternCross(l)){if(!0!==this.handlePossibleCenter(l,u,t,n)){l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,e=3;continue}if(i=2,!0===this.hasSkipped)o=this.haveMultiplyConfirmedCenters();else{const e=this.findRowSkip();e>l[2]&&(u+=e-l[2]-i,t=s-1)}e=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,e=3;else l[++e]++;else l[e]++;Lt.foundPatternCross(l)&&!0===this.handlePossibleCenter(l,u,s,n)&&(i=l[0],this.hasSkipped&&(o=this.haveMultiplyConfirmedCenters()))}const c=this.selectBestPatterns();return oe.orderBestPatterns(c),new Pt(c)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let a=0;a<5;a++){const n=e[a];if(0===n)return!1;t+=n}if(t<7)return!1;const n=t/7,r=n/2;return Math.abs(n-e[0])<r&&Math.abs(n-e[1])<r&&Math.abs(3*n-e[2])<3*r&&Math.abs(n-e[3])<r&&Math.abs(n-e[4])<r}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,n,r){const a=this.getCrossCheckStateCount();let s=0;const i=this.image;for(;e>=s&&t>=s&&i.get(t-s,e-s);)a[2]++,s++;if(e<s||t<s)return!1;for(;e>=s&&t>=s&&!i.get(t-s,e-s)&&a[1]<=n;)a[1]++,s++;if(e<s||t<s||a[1]>n)return!1;for(;e>=s&&t>=s&&i.get(t-s,e-s)&&a[0]<=n;)a[0]++,s++;if(a[0]>n)return!1;const o=i.getHeight(),l=i.getWidth();for(s=1;e+s<o&&t+s<l&&i.get(t+s,e+s);)a[2]++,s++;if(e+s>=o||t+s>=l)return!1;for(;e+s<o&&t+s<l&&!i.get(t+s,e+s)&&a[3]<n;)a[3]++,s++;if(e+s>=o||t+s>=l||a[3]>=n)return!1;for(;e+s<o&&t+s<l&&i.get(t+s,e+s)&&a[4]<n;)a[4]++,s++;if(a[4]>=n)return!1;const c=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(c-r)<2*r&&Lt.foundPatternCross(a)}crossCheckVertical(e,t,n,r){const a=this.image,s=a.getHeight(),i=this.getCrossCheckStateCount();let o=e;for(;o>=0&&a.get(t,o);)i[2]++,o--;if(o<0)return NaN;for(;o>=0&&!a.get(t,o)&&i[1]<=n;)i[1]++,o--;if(o<0||i[1]>n)return NaN;for(;o>=0&&a.get(t,o)&&i[0]<=n;)i[0]++,o--;if(i[0]>n)return NaN;for(o=e+1;o<s&&a.get(t,o);)i[2]++,o++;if(o===s)return NaN;for(;o<s&&!a.get(t,o)&&i[3]<n;)i[3]++,o++;if(o===s||i[3]>=n)return NaN;for(;o<s&&a.get(t,o)&&i[4]<n;)i[4]++,o++;if(i[4]>=n)return NaN;const l=i[0]+i[1]+i[2]+i[3]+i[4];return 5*Math.abs(l-r)>=2*r?NaN:Lt.foundPatternCross(i)?Lt.centerFromEnd(i,o):NaN}crossCheckHorizontal(e,t,n,r){const a=this.image,s=a.getWidth(),i=this.getCrossCheckStateCount();let o=e;for(;o>=0&&a.get(o,t);)i[2]++,o--;if(o<0)return NaN;for(;o>=0&&!a.get(o,t)&&i[1]<=n;)i[1]++,o--;if(o<0||i[1]>n)return NaN;for(;o>=0&&a.get(o,t)&&i[0]<=n;)i[0]++,o--;if(i[0]>n)return NaN;for(o=e+1;o<s&&a.get(o,t);)i[2]++,o++;if(o===s)return NaN;for(;o<s&&!a.get(o,t)&&i[3]<n;)i[3]++,o++;if(o===s||i[3]>=n)return NaN;for(;o<s&&a.get(o,t)&&i[4]<n;)i[4]++,o++;if(i[4]>=n)return NaN;const l=i[0]+i[1]+i[2]+i[3]+i[4];return 5*Math.abs(l-r)>=r?NaN:Lt.foundPatternCross(i)?Lt.centerFromEnd(i,o):NaN}handlePossibleCenter(e,t,n,r){const a=e[0]+e[1]+e[2]+e[3]+e[4];let s=Lt.centerFromEnd(e,n),i=this.crossCheckVertical(t,Math.floor(s),e[2],a);if(!isNaN(i)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(i),e[2],a),!isNaN(s)&&(!r||this.crossCheckDiagonal(Math.floor(i),Math.floor(s),e[2],a)))){const e=a/7;let t=!1;const n=this.possibleCenters;for(let r=0,a=n.length;r<a;r++){const a=n[r];if(a.aboutEquals(e,i,s)){n[r]=a.combineEstimate(i,s,e),t=!0;break}}if(!t){const t=new kt(s,i,e);n.push(t),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(t)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let e=null;for(const t of this.possibleCenters)if(t.getCount()>=Lt.CENTER_QUORUM){if(null!=e)return this.hasSkipped=!0,Math.floor((Math.abs(e.getX()-t.getX())-Math.abs(e.getY()-t.getY()))/2);e=t}return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const n=this.possibleCenters.length;for(const s of this.possibleCenters)s.getCount()>=Lt.CENTER_QUORUM&&(e++,t+=s.getEstimatedModuleSize());if(e<3)return!1;const r=t/n;let a=0;for(const s of this.possibleCenters)a+=Math.abs(s.getEstimatedModuleSize()-r);return a<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new M;const t=this.possibleCenters;let n;if(e>3){let r=0,a=0;for(const e of this.possibleCenters){const t=e.getEstimatedModuleSize();r+=t,a+=t*t}n=r/e;let s=Math.sqrt(a/e-n*n);t.sort(((e,t)=>{const r=Math.abs(t.getEstimatedModuleSize()-n),a=Math.abs(e.getEstimatedModuleSize()-n);return r<a?-1:r>a?1:0}));const i=Math.max(.2*n,s);for(let e=0;e<t.length&&t.length>3;e++){const r=t[e];Math.abs(r.getEstimatedModuleSize()-n)>i&&(t.splice(e,1),e--)}}if(t.length>3){let e=0;for(const n of t)e+=n.getEstimatedModuleSize();n=e/t.length,t.sort(((e,t)=>{if(t.getCount()===e.getCount()){const r=Math.abs(t.getEstimatedModuleSize()-n),a=Math.abs(e.getEstimatedModuleSize()-n);return r<a?1:r>a?-1:0}return t.getCount()-e.getCount()})),t.splice(3)}return[t[0],t[1],t[2]]}}Lt.CENTER_QUORUM=2,Lt.MIN_SKIP=3,Lt.MAX_MODULES=57;class Bt{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=null===e||void 0===e?null:e.get(C.NEED_RESULT_POINT_CALLBACK);const t=new Lt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)}processFinderPatternInfo(e){const t=e.getTopLeft(),n=e.getTopRight(),r=e.getBottomLeft(),a=this.calculateModuleSize(t,n,r);if(a<1)throw new M("No pattern found in proccess finder.");const s=Bt.computeDimension(t,n,r,a),i=Nt.getProvisionalVersionForDimension(s),o=i.getDimensionForVersion()-7;let l=null;if(i.getAlignmentPatternCenters().length>0){const e=n.getX()-t.getX()+r.getX(),s=n.getY()-t.getY()+r.getY(),i=1-3/o,c=Math.floor(t.getX()+i*(e-t.getX())),u=Math.floor(t.getY()+i*(s-t.getY()));for(let t=4;t<=16;t<<=1)try{l=this.findAlignmentInRegion(a,c,u,t);break}catch(h){if(!(h instanceof M))throw h}}const c=Bt.createTransform(t,n,r,l,s),u=Bt.sampleGrid(this.image,c,s);let d;return d=null===l?[r,t,n]:[r,t,n,l],new le(u,d)}static createTransform(e,t,n,r,a){const s=a-3.5;let i,o,l,c;return null!==r?(i=r.getX(),o=r.getY(),l=s-3,c=l):(i=t.getX()-e.getX()+n.getX(),o=t.getY()-e.getY()+n.getY(),l=s,c=s),he.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,l,c,3.5,s,e.getX(),e.getY(),t.getX(),t.getY(),i,o,n.getX(),n.getY())}static sampleGrid(e,t,n){return me.getInstance().sampleGridWithTransform(e,n,n,t)}static computeDimension(e,t,n,r){const a=se.round(oe.distance(e,t)/r),s=se.round(oe.distance(e,n)/r);let i=Math.floor((a+s)/2)+7;switch(3&i){case 0:i++;break;case 2:i--;break;case 3:throw new M("Dimensions could be not found.")}return i}calculateModuleSize(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2}calculateModuleSizeOneWay(e,t){const n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,n,r){let a=this.sizeOfBlackWhiteBlackRun(e,t,n,r),s=1,i=e-(n-e);i<0?(s=e/(e-i),i=0):i>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(i-e),i=this.image.getWidth()-1);let o=Math.floor(t-(r-t)*s);return s=1,o<0?(s=t/(t-o),o=0):o>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(o-t),o=this.image.getHeight()-1),i=Math.floor(e+(i-e)*s),a+=this.sizeOfBlackWhiteBlackRun(e,t,i,o),a-1}sizeOfBlackWhiteBlackRun(e,t,n,r){const a=Math.abs(r-t)>Math.abs(n-e);if(a){let a=e;e=t,t=a,a=n,n=r,r=a}const s=Math.abs(n-e),i=Math.abs(r-t);let o=-s/2;const l=e<n?1:-1,c=t<r?1:-1;let u=0;const d=n+l;for(let h=e,f=t;h!==d;h+=l){const n=a?f:h,l=a?h:f;if(1===u===this.image.get(n,l)){if(2===u)return se.distance(h,f,e,t);u++}if(o+=i,o>0){if(f===r)break;f+=c,o-=s}}return 2===u?se.distance(n+l,r,e,t):NaN}findAlignmentInRegion(e,t,n,r){const a=Math.floor(r*e),s=Math.max(0,t-a),i=Math.min(this.image.getWidth()-1,t+a);if(i-s<3*e)throw new M("Alignment top exceeds estimated module size.");const o=Math.max(0,n-a),l=Math.min(this.image.getHeight()-1,n+a);if(l-o<3*e)throw new M("Alignment bottom exceeds estimated module size.");return new Ot(this.image,s,o,i-s,l-o,e,this.resultPointCallback).find()}}class Ft{constructor(){this.decoder=new Rt}getDecoder(){return this.decoder}decode(e,t){let n,r;if(void 0!==t&&null!==t&&void 0!==t.get(C.PURE_BARCODE)){const a=Ft.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,t),r=Ft.NO_POINTS}else{const a=new Bt(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(a.getBits(),t),r=a.getPoints()}n.getOther()instanceof Dt&&n.getOther().applyMirroredCorrection(r);const a=new U(n.getText(),n.getRawBytes(),void 0,r,H.QR_CODE,void 0),s=n.getByteSegments();null!==s&&a.putMetadata(q.BYTE_SEGMENTS,s);const i=n.getECLevel();return null!==i&&a.putMetadata(q.ERROR_CORRECTION_LEVEL,i),n.hasStructuredAppend()&&(a.putMetadata(q.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),a.putMetadata(q.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),a}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null===t||null===n)throw new M;const r=this.moduleSize(t,e);let a=t[1],s=n[1],i=t[0],o=n[0];if(i>=o||a>=s)throw new M;if(s-a!==o-i&&(o=i+(s-a),o>=e.getWidth()))throw new M;const l=Math.round((o-i+1)/r),c=Math.round((s-a+1)/r);if(l<=0||c<=0)throw new M;if(c!==l)throw new M;const u=Math.floor(r/2);a+=u,i+=u;const d=i+Math.floor((l-1)*r)-o;if(d>0){if(d>u)throw new M;i-=d}const h=a+Math.floor((c-1)*r)-s;if(h>0){if(h>u)throw new M;a-=h}const f=new T(l,c);for(let m=0;m<c;m++){const t=a+Math.floor(m*r);for(let n=0;n<l;n++)e.get(i+Math.floor(n*r),t)&&f.set(n,m)}return f}static moduleSize(e,t){const n=t.getHeight(),r=t.getWidth();let a=e[0],s=e[1],i=!0,o=0;for(;a<r&&s<n;){if(i!==t.get(a,s)){if(5===++o)break;i=!i}a++,s++}if(a===r||s===n)throw new M;return(a-e[0])/7}}Ft.NO_POINTS=new Array;class Ut{PDF417Common(){}static getBitCountSum(e){return se.sum(e)}static toIntArray(e){if(null==e||!e.length)return Ut.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let n=0;for(const r of e)t[n++]=r;return t}static getCodeword(e){const t=w.binarySearch(Ut.SYMBOL_TABLE,262143&e);return t<0?-1:(Ut.CODEWORD_TABLE[t]-1)%Ut.NUMBER_OF_CODEWORDS}}Ut.NUMBER_OF_CODEWORDS=929,Ut.MAX_CODEWORDS_IN_BARCODE=Ut.NUMBER_OF_CODEWORDS-1,Ut.MIN_ROWS_IN_BARCODE=3,Ut.MAX_ROWS_IN_BARCODE=90,Ut.MODULES_IN_CODEWORD=17,Ut.MODULES_IN_STOP_PATTERN=18,Ut.BARS_IN_MODULE=8,Ut.EMPTY_INT_ARRAY=new Int32Array([]),Ut.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ut.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class zt{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Ht{static detectMultiple(e,t,n){let r=e.getBlackMatrix(),a=Ht.detect(n,r);return a.length||(r=r.clone(),r.rotate180(),a=Ht.detect(n,r)),new zt(r,a)}static detect(e,t){const n=new Array;let r=0,a=0,s=!1;for(;r<t.getHeight();){const i=Ht.findVertices(t,r,a);if(null!=i[0]||null!=i[3]){if(s=!0,n.push(i),!e)break;null!=i[2]?(a=Math.trunc(i[2].getX()),r=Math.trunc(i[2].getY())):(a=Math.trunc(i[4].getX()),r=Math.trunc(i[4].getY()))}else{if(!s)break;s=!1,a=0;for(const e of n)null!=e[1]&&(r=Math.trunc(Math.max(r,e[1].getY()))),null!=e[3]&&(r=Math.max(r,Math.trunc(e[3].getY())));r+=Ht.ROW_STEP}}return n}static findVertices(e,t,n){const r=e.getHeight(),a=e.getWidth(),s=new Array(8);return Ht.copyToResult(s,Ht.findRowsWithPattern(e,r,a,t,n,Ht.START_PATTERN),Ht.INDEXES_START_PATTERN),null!=s[4]&&(n=Math.trunc(s[4].getX()),t=Math.trunc(s[4].getY())),Ht.copyToResult(s,Ht.findRowsWithPattern(e,r,a,t,n,Ht.STOP_PATTERN),Ht.INDEXES_STOP_PATTERN),s}static copyToResult(e,t,n){for(let r=0;r<n.length;r++)e[n[r]]=t[r]}static findRowsWithPattern(e,t,n,r,a,s){const i=new Array(4);let o=!1;const l=new Int32Array(s.length);for(;r<t;r+=Ht.ROW_STEP){let t=Ht.findGuardPattern(e,a,r,n,!1,s,l);if(null!=t){for(;r>0;){const i=Ht.findGuardPattern(e,a,--r,n,!1,s,l);if(null==i){r++;break}t=i}i[0]=new oe(t[0],r),i[1]=new oe(t[1],r),o=!0;break}}let c=r+1;if(o){let r=0,a=Int32Array.from([Math.trunc(i[0].getX()),Math.trunc(i[1].getX())]);for(;c<t;c++){const t=Ht.findGuardPattern(e,a[0],c,n,!1,s,l);if(null!=t&&Math.abs(a[0]-t[0])<Ht.MAX_PATTERN_DRIFT&&Math.abs(a[1]-t[1])<Ht.MAX_PATTERN_DRIFT)a=t,r=0;else{if(r>Ht.SKIPPED_ROW_COUNT_MAX)break;r++}}c-=r+1,i[2]=new oe(a[0],c),i[3]=new oe(a[1],c)}return c-r<Ht.BARCODE_MIN_HEIGHT&&w.fill(i,null),i}static findGuardPattern(e,t,n,r,a,s,i){w.fillWithin(i,0,i.length,0);let o=t,l=0;for(;e.get(o,n)&&o>0&&l++<Ht.MAX_PIXEL_DRIFT;)o--;let c=o,u=0,d=s.length;for(let h=a;c<r;c++)if(e.get(c,n)!==h)i[u]++;else{if(u===d-1){if(Ht.patternMatchVariance(i,s,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE)return new Int32Array([o,c]);o+=i[0]+i[1],p.arraycopy(i,2,i,0,u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,h=!h}return u===d-1&&Ht.patternMatchVariance(i,s,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE?new Int32Array([o,c-1]):null}static patternMatchVariance(e,t,n){let r=e.length,a=0,s=0;for(let l=0;l<r;l++)a+=e[l],s+=t[l];if(a<s)return 1/0;let i=a/s;n*=i;let o=0;for(let l=0;l<r;l++){let r=e[l],a=t[l]*i,s=r>a?r-a:a-r;if(s>n)return 1/0;o+=s}return o/a}}Ht.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ht.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ht.MAX_AVG_VARIANCE=.42,Ht.MAX_INDIVIDUAL_VARIANCE=.8,Ht.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ht.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ht.MAX_PIXEL_DRIFT=3,Ht.MAX_PATTERN_DRIFT=5,Ht.SKIPPED_ROW_COUNT_MAX=25,Ht.ROW_STEP=5,Ht.BARCODE_MIN_HEIGHT=10;class Vt{constructor(e,t){if(0===t.length)throw new d;this.field=e;let n=t.length;if(n>1&&0===t[0]){let e=1;for(;e<n&&0===t[e];)e++;e===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-e),p.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);if(1===e){let e=0;for(let t of this.coefficients)e=this.field.add(e,t);return e}let t=this.coefficients[0],n=this.coefficients.length;for(let r=1;r<n;r++)t=this.field.add(this.field.multiply(e,t),this.coefficients[r]);return t}add(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){let e=t;t=n,n=e}let r=new Int32Array(n.length),a=n.length-t.length;p.arraycopy(n,0,r,0,a);for(let s=a;s<n.length;s++)r[s]=this.field.add(t[s-a],n[s]);return new Vt(this.field,r)}subtract(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Vt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Vt(this.field,new Int32Array([0]));let t=this.coefficients,n=t.length,r=e.coefficients,a=r.length,s=new Int32Array(n+a-1);for(let i=0;i<n;i++){let e=t[i];for(let t=0;t<a;t++)s[i+t]=this.field.add(s[i+t],this.field.multiply(e,r[t]))}return new Vt(this.field,s)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new Vt(this.field,t)}multiplyScalar(e){if(0===e)return new Vt(this.field,new Int32Array([0]));if(1===e)return this;let t=this.coefficients.length,n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=this.field.multiply(this.coefficients[r],e);return new Vt(this.field,n)}multiplyByMonomial(e,t){if(e<0)throw new d;if(0===t)return new Vt(this.field,new Int32Array([0]));let n=this.coefficients.length,r=new Int32Array(n+e);for(let a=0;a<n;a++)r[a]=this.field.multiply(this.coefficients[a],t);return new Vt(this.field,r)}toString(){let e=new _;for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);0!==n&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),0!==t&&1===n||e.append(n),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Wt{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(0===e)throw new d;return this.logTable[e]}inverse(e){if(0===e)throw new J;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Gt extends Wt{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let n=1;for(let r=0;r<e;r++)this.expTable[r]=n,n=n*t%e;for(let r=0;r<e-1;r++)this.logTable[this.expTable[r]]=r;this.zero=new Vt(this,new Int32Array([0])),this.one=new Vt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new d;if(0===t)return this.zero;let n=new Int32Array(e+1);return n[0]=t,new Vt(this,n)}}Gt.PDF417_GF=new Gt(Ut.NUMBER_OF_CODEWORDS,3);class Yt{constructor(){this.field=Gt.PDF417_GF}decode(e,t,n){let r=new Vt(this.field,e),a=new Int32Array(t),s=!1;for(let f=t;f>0;f--){let e=r.evaluateAt(this.field.exp(f));a[t-f]=e,0!==e&&(s=!0)}if(!s)return 0;let i=this.field.getOne();if(null!=n)for(const f of n){let t=this.field.exp(e.length-1-f),n=new Vt(this.field,new Int32Array([this.field.subtract(0,t),1]));i=i.multiply(n)}let o=new Vt(this.field,a),l=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),o,t),c=l[0],u=l[1],d=this.findErrorLocations(c),h=this.findErrorMagnitudes(u,c,d);for(let m=0;m<d.length;m++){let t=e.length-1-this.field.log(d[m]);if(t<0)throw f.getChecksumInstance();e[t]=this.field.subtract(e[t],h[m])}return d.length}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){let n=e;e=t,t=n}let r=e,a=t,s=this.field.getZero(),i=this.field.getOne();for(;a.getDegree()>=Math.round(n/2);){let e=r,t=s;if(r=a,s=i,r.isZero())throw f.getChecksumInstance();a=e;let n=this.field.getZero(),o=r.getCoefficient(r.getDegree()),l=this.field.inverse(o);for(;a.getDegree()>=r.getDegree()&&!a.isZero();){let e=a.getDegree()-r.getDegree(),t=this.field.multiply(a.getCoefficient(a.getDegree()),l);n=n.add(this.field.buildMonomial(e,t)),a=a.subtract(r.multiplyByMonomial(e,t))}i=n.multiply(s).subtract(t).negative()}let o=i.getCoefficient(0);if(0===o)throw f.getChecksumInstance();let l=this.field.inverse(o);return[i.multiply(l),a.multiply(l)]}findErrorLocations(e){let t=e.getDegree(),n=new Int32Array(t),r=0;for(let a=1;a<this.field.getSize()&&r<t;a++)0===e.evaluateAt(a)&&(n[r]=this.field.inverse(a),r++);if(r!==t)throw f.getChecksumInstance();return n}findErrorMagnitudes(e,t,n){let r=t.getDegree(),a=new Int32Array(r);for(let l=1;l<=r;l++)a[r-l]=this.field.multiply(l,t.getCoefficient(l));let s=new Vt(this.field,a),i=n.length,o=new Int32Array(i);for(let l=0;l<i;l++){let t=this.field.inverse(n[l]),r=this.field.subtract(0,e.evaluateAt(t)),a=this.field.inverse(s.evaluateAt(t));o[l]=this.field.multiply(r,a)}return o}}class Xt{constructor(e,t,n,r,a){e instanceof Xt?this.constructor_2(e):this.constructor_1(e,t,n,r,a)}constructor_1(e,t,n,r,a){const s=null==t||null==n,i=null==r||null==a;if(s&&i)throw new M;s?(t=new oe(0,r.getY()),n=new oe(0,a.getY())):i&&(r=new oe(e.getWidth()-1,t.getY()),a=new oe(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=r,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(r.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),r.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return null==e?t:null==t?e:new Xt(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,n){let r=this.topLeft,a=this.bottomLeft,s=this.topRight,i=this.bottomRight;if(e>0){let t=n?this.topLeft:this.topRight,a=Math.trunc(t.getY()-e);a<0&&(a=0);let i=new oe(t.getX(),a);n?r=i:s=i}if(t>0){let e=n?this.bottomLeft:this.bottomRight,r=Math.trunc(e.getY()+t);r>=this.image.getHeight()&&(r=this.image.getHeight()-1);let s=new oe(e.getX(),r);n?a=s:i=s}return new Xt(this.image,r,a,s,i)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Qt{constructor(e,t,n,r){this.columnCount=e,this.errorCorrectionLevel=r,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class qt{constructor(){this.buffer=""}static form(e,t){let n=-1;function r(e,r,a,s,i,o){if("%%"===e)return"%";if(void 0===t[++n])return;e=s?parseInt(s.substr(1)):void 0;let l,c=i?parseInt(i.substr(1)):void 0;switch(o){case"s":l=t[n];break;case"c":l=t[n][0];break;case"f":l=parseFloat(t[n]).toFixed(e);break;case"p":l=parseFloat(t[n]).toPrecision(e);break;case"e":l=parseFloat(t[n]).toExponential(e);break;case"x":l=parseInt(t[n]).toString(c||16);break;case"d":l=parseFloat(parseInt(t[n],c||10).toPrecision(e)).toFixed(0)}l="object"===typeof l?JSON.stringify(l):(+l).toString(c);let u=parseInt(a),d=a&&a[0]+""==="0"?"0":" ";for(;l.length<u;)l=void 0!==r?l+d:d+l;return l}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,r)}format(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.buffer+=qt.form(e,n)}toString(){return this.buffer}}class Zt{constructor(e){this.boundingBox=new Xt(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(null!=t)return t;for(let n=1;n<Zt.MAX_NEARBY_DISTANCE;n++){let r=this.imageRowToCodewordIndex(e)-n;if(r>=0&&(t=this.codewords[r],null!=t))return t;if(r=this.imageRowToCodewordIndex(e)+n,r<this.codewords.length&&(t=this.codewords[r],null!=t))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new qt;let t=0;for(const n of this.codewords)null!=n?e.format("%3d: %3d|%3d%n",t++,n.getRowNumber(),n.getValue()):e.format("%3d:    |   %n",t++);return e.toString()}}Zt.MAX_NEARBY_DISTANCE=5;class Kt{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[n,r]of this.values.entries()){const a={getKey:()=>n,getValue:()=>r};a.getValue()>e?(e=a.getValue(),t=[],t.push(a.getKey())):a.getValue()===e&&t.push(a.getKey())}return Ut.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class $t extends Zt{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())null!=e&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(r.getY())),i=this.imageRowToCodewordIndex(Math.trunc(a.getY())),o=-1,l=1,c=0;for(let u=s;u<i;u++){if(null==t[u])continue;let n=t[u],r=n.getRowNumber()-o;if(0===r)c++;else if(1===r)l=Math.max(l,c),c=1,o=n.getRowNumber();else if(r<0||n.getRowNumber()>=e.getRowCount()||r>u)t[u]=null;else{let e;e=l>2?(l-2)*r:r;let a=e>=u;for(let n=1;n<=e&&!a;n++)a=null!=t[u-n];a?t[u]=null:(o=n.getRowNumber(),c=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(null==e)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let n of this.getCodewords())if(null!=n){let e=n.getRowNumber();if(e>=t.length)continue;t[e]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),r=this._isLeft?t.getBottomLeft():t.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(n.getY())),s=this.imageRowToCodewordIndex(Math.trunc(r.getY())),i=this.getCodewords(),o=-1;for(let l=a;l<s;l++){if(null==i[l])continue;let t=i[l];t.setRowNumberAsRowIndicatorColumn();let n=t.getRowNumber()-o;0===n||(1===n?o=t.getRowNumber():t.getRowNumber()>=e.getRowCount()?i[l]=null:o=t.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new Kt,n=new Kt,r=new Kt,a=new Kt;for(let i of e){if(null==i)continue;i.setRowNumberAsRowIndicatorColumn();let e=i.getValue()%30,s=i.getRowNumber();switch(this._isLeft||(s+=2),s%3){case 0:n.setValue(3*e+1);break;case 1:a.setValue(e/3),r.setValue(e%3);break;case 2:t.setValue(e+1)}}if(0===t.getValue().length||0===n.getValue().length||0===r.getValue().length||0===a.getValue().length||t.getValue()[0]<1||n.getValue()[0]+r.getValue()[0]<Ut.MIN_ROWS_IN_BARCODE||n.getValue()[0]+r.getValue()[0]>Ut.MAX_ROWS_IN_BARCODE)return null;let s=new Qt(t.getValue()[0],n.getValue()[0],r.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(e,s),s}removeIncorrectCodewords(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(null==e[n])continue;let a=r.getValue()%30,s=r.getRowNumber();if(s>t.getRowCount())e[n]=null;else switch(this._isLeft||(s+=2),s%3){case 0:3*a+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:Math.trunc(a/3)===t.getErrorCorrectionLevel()&&a%3===t.getRowCountLowerPart()||(e[n]=null);break;case 2:a+1!==t.getColumnCount()&&(e[n]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Jt{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e,t=Ut.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){null!=e&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(0===e)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let e=this.detectionResultColumns[t].getCodewords();for(let n=0;n<e.length;n++)null!=e[n]&&(e[n].hasValidRowNumber()||this.adjustRowNumbers(t,n,e))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<e.length;n++)if(null!=e[n]&&null!=t[n]&&e[n].getRowNumber()===t[n].getRowNumber())for(let t=1;t<=this.barcodeColumnCount;t++){let r=this.detectionResultColumns[t].getCodewords()[n];null!=r&&(r.setRowNumber(e[n].getRowNumber()),r.hasValidRowNumber()||(this.detectionResultColumns[t].getCodewords()[n]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<t.length;n++){if(null==t[n])continue;let r=t[n].getRowNumber(),a=0;for(let t=this.barcodeColumnCount+1;t>0&&a<this.ADJUST_ROW_NUMBER_SKIP;t--){let s=this.detectionResultColumns[t].getCodewords()[n];null!=s&&(a=Jt.adjustRowNumberIfValid(r,a,s),s.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let n=0;n<t.length;n++){if(null==t[n])continue;let r=t[n].getRowNumber(),a=0;for(let t=1;t<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;t++){let s=this.detectionResultColumns[t].getCodewords()[n];null!=s&&(a=Jt.adjustRowNumberIfValid(r,a,s),s.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,n){return null==n||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,n){if(!this.detectionResultColumns[e-1])return;let r=n[t],a=this.detectionResultColumns[e-1].getCodewords(),s=a;null!=this.detectionResultColumns[e+1]&&(s=this.detectionResultColumns[e+1].getCodewords());let i=new Array(14);i[2]=a[t],i[3]=s[t],t>0&&(i[0]=n[t-1],i[4]=a[t-1],i[5]=s[t-1]),t>1&&(i[8]=n[t-2],i[10]=a[t-2],i[11]=s[t-2]),t<n.length-1&&(i[1]=n[t+1],i[6]=a[t+1],i[7]=s[t+1]),t<n.length-2&&(i[9]=n[t+2],i[12]=a[t+2],i[13]=s[t+2]);for(let o of i)if(Jt.adjustRowNumber(r,o))return}static adjustRowNumber(e,t){return null!=t&&!(!t.hasValidRowNumber()||t.getBucket()!==e.getBucket())&&(e.setRowNumber(t.getRowNumber()),!0)}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new qt;for(let n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(let e=0;e<this.barcodeColumnCount+2;e++){if(null==this.detectionResultColumns[e]){t.format("    |   ");continue}let r=this.detectionResultColumns[e].getCodewords()[n];null!=r?t.format(" %3d|%3d",r.getRowNumber(),r.getValue()):t.format("    |   ")}t.format("%n")}return t.toString()}}class en{constructor(e,t,n,r){this.rowNumber=en.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(r)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==en.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}en.BARCODE_ROW_UNKNOWN=-1;class tn{static initialize(){for(let e=0;e<Ut.SYMBOL_TABLE.length;e++){let t=Ut.SYMBOL_TABLE[e],n=1&t;for(let r=0;r<Ut.BARS_IN_MODULE;r++){let a=0;for(;(1&t)===n;)a+=1,t>>=1;n=1&t,tn.RATIOS_TABLE[e]||(tn.RATIOS_TABLE[e]=new Array(Ut.BARS_IN_MODULE)),tn.RATIOS_TABLE[e][Ut.BARS_IN_MODULE-r-1]=Math.fround(a/Ut.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=tn.getDecodedCodewordValue(tn.sampleBitCounts(e));return-1!==t?t:tn.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=se.sum(e),n=new Int32Array(Ut.BARS_IN_MODULE),r=0,a=0;for(let s=0;s<Ut.MODULES_IN_CODEWORD;s++){let i=t/(2*Ut.MODULES_IN_CODEWORD)+s*t/Ut.MODULES_IN_CODEWORD;a+e[r]<=i&&(a+=e[r],r++),n[r]++}return n}static getDecodedCodewordValue(e){let t=tn.getBitValue(e);return-1===Ut.getCodeword(t)?-1:t}static getBitValue(e){let t=0;for(let n=0;n<e.length;n++)for(let r=0;r<e[n];r++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=se.sum(e),n=new Array(Ut.BARS_IN_MODULE);if(t>1)for(let s=0;s<n.length;s++)n[s]=Math.fround(e[s]/t);let r=ie.MAX_VALUE,a=-1;this.bSymbolTableReady||tn.initialize();for(let s=0;s<tn.RATIOS_TABLE.length;s++){let e=0,t=tn.RATIOS_TABLE[s];for(let a=0;a<Ut.BARS_IN_MODULE;a++){let s=Math.fround(t[a]-n[a]);if(e+=Math.fround(s*s),e>=r)break}e<r&&(r=e,a=Ut.SYMBOL_TABLE[s])}return a}}tn.bSymbolTableReady=!1,tn.RATIOS_TABLE=new Array(Ut.SYMBOL_TABLE.length).map((e=>new Array(Ut.BARS_IN_MODULE)));class nn{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class rn{static parseLong(e){return parseInt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)}}class an extends c{}an.kind="NullPointerException";class sn{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,n){if(null==e)throw new an;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new g;if(0!==n)for(let r=0;r<n;r++)this.write(e[t+r])}flush(){}close(){}}class on extends c{}class ln extends sn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(super(),this.count=0,e<0)throw new d("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new on;t=b.MAX_VALUE}this.buf=w.copyOfUint8Array(this.buf,t)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new g;this.ensureCapacity(this.count+n),p.arraycopy(e,t,this.buf,this.count,n),this.count+=n}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return w.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?"string"===typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}function cn(){if("undefined"!==typeof window)return window.BigInt||null;if("undefined"!==typeof n.g)return n.g.BigInt||null;if("undefined"!==typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let un;function dn(e){if("undefined"===typeof un&&(un=cn()),null===un)throw new Error("BigInt is not supported!");return un(e)}function hn(){let e=[];e[0]=dn(1);let t=dn(900);e[1]=t;for(let n=2;n<16;n++)e[n]=e[n-1]*t;return e}!function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(Q||(Q={}));class fn{static decode(e,t){let n=new _(""),r=E.ISO8859_1;n.enableDecoding(r);let a=1,s=e[a++],i=new nn;for(;a<e[0];){switch(s){case fn.TEXT_COMPACTION_MODE_LATCH:a=fn.textCompaction(e,a,n);break;case fn.BYTE_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH_6:a=fn.byteCompaction(s,e,r,a,n);break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case fn.NUMERIC_COMPACTION_MODE_LATCH:a=fn.numericCompaction(e,a,n);break;case fn.ECI_CHARSET:E.getCharacterSetECIByValue(e[a++]);break;case fn.ECI_GENERAL_PURPOSE:a+=2;break;case fn.ECI_USER_DEFINED:a++;break;case fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=fn.decodeMacroBlock(e,a,i);break;case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fn.MACRO_PDF417_TERMINATOR:throw new S;default:a--,a=fn.textCompaction(e,a,n)}if(!(a<e.length))throw S.getFormatInstance();s=e[a++]}if(0===n.length())throw S.getFormatInstance();let o=new Z(null,n.toString(),null,t);return o.setOther(i),o}static decodeMacroBlock(e,t,n){if(t+fn.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw S.getFormatInstance();let r=new Int32Array(fn.NUMBER_OF_SEQUENCE_CODEWORDS);for(let i=0;i<fn.NUMBER_OF_SEQUENCE_CODEWORDS;i++,t++)r[i]=e[t];n.setSegmentIndex(b.parseInt(fn.decodeBase900toBase10(r,fn.NUMBER_OF_SEQUENCE_CODEWORDS)));let a=new _;t=fn.textCompaction(e,t,a),n.setFileId(a.toString());let s=-1;for(e[t]===fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=t+1);t<e[0];)switch(e[t]){case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++t]){case fn.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let r=new _;t=fn.textCompaction(e,t+1,r),n.setFileName(r.toString());break;case fn.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let a=new _;t=fn.textCompaction(e,t+1,a),n.setSender(a.toString());break;case fn.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let s=new _;t=fn.textCompaction(e,t+1,s),n.setAddressee(s.toString());break;case fn.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let i=new _;t=fn.numericCompaction(e,t+1,i),n.setSegmentCount(b.parseInt(i.toString()));break;case fn.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let o=new _;t=fn.numericCompaction(e,t+1,o),n.setTimestamp(rn.parseLong(o.toString()));break;case fn.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let l=new _;t=fn.numericCompaction(e,t+1,l),n.setChecksum(b.parseInt(l.toString()));break;case fn.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let c=new _;t=fn.numericCompaction(e,t+1,c),n.setFileSize(rn.parseLong(c.toString()));break;default:throw S.getFormatInstance()}break;case fn.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw S.getFormatInstance()}if(-1!==s){let r=t-s;n.isLastSegment()&&r--,n.setOptionalData(w.copyOfRange(e,s,s+r))}return t}static textCompaction(e,t,n){let r=new Int32Array(2*(e[0]-t)),a=new Int32Array(2*(e[0]-t)),s=0,i=!1;for(;t<e[0]&&!i;){let n=e[t++];if(n<fn.TEXT_COMPACTION_MODE_LATCH)r[s]=n/30,r[s+1]=n%30,s+=2;else switch(n){case fn.TEXT_COMPACTION_MODE_LATCH:r[s++]=fn.TEXT_COMPACTION_MODE_LATCH;break;case fn.BYTE_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH_6:case fn.NUMERIC_COMPACTION_MODE_LATCH:case fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fn.MACRO_PDF417_TERMINATOR:t--,i=!0;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r[s]=fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,n=e[t++],a[s]=n,s++}}return fn.decodeTextCompaction(r,a,s,n),t}static decodeTextCompaction(e,t,n,r){let a=Q.ALPHA,s=Q.ALPHA,i=0;for(;i<n;){let n=e[i],o="";switch(a){case Q.ALPHA:if(n<26)o=String.fromCharCode(65+n);else switch(n){case 26:o=" ";break;case fn.LL:a=Q.LOWER;break;case fn.ML:a=Q.MIXED;break;case fn.PS:s=a,a=Q.PUNCT_SHIFT;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[i]);break;case fn.TEXT_COMPACTION_MODE_LATCH:a=Q.ALPHA}break;case Q.LOWER:if(n<26)o=String.fromCharCode(97+n);else switch(n){case 26:o=" ";break;case fn.AS:s=a,a=Q.ALPHA_SHIFT;break;case fn.ML:a=Q.MIXED;break;case fn.PS:s=a,a=Q.PUNCT_SHIFT;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[i]);break;case fn.TEXT_COMPACTION_MODE_LATCH:a=Q.ALPHA}break;case Q.MIXED:if(n<fn.PL)o=fn.MIXED_CHARS[n];else switch(n){case fn.PL:a=Q.PUNCT;break;case 26:o=" ";break;case fn.LL:a=Q.LOWER;break;case fn.AL:a=Q.ALPHA;break;case fn.PS:s=a,a=Q.PUNCT_SHIFT;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[i]);break;case fn.TEXT_COMPACTION_MODE_LATCH:a=Q.ALPHA}break;case Q.PUNCT:if(n<fn.PAL)o=fn.PUNCT_CHARS[n];else switch(n){case fn.PAL:a=Q.ALPHA;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[i]);break;case fn.TEXT_COMPACTION_MODE_LATCH:a=Q.ALPHA}break;case Q.ALPHA_SHIFT:if(a=s,n<26)o=String.fromCharCode(65+n);else switch(n){case 26:o=" ";break;case fn.TEXT_COMPACTION_MODE_LATCH:a=Q.ALPHA}break;case Q.PUNCT_SHIFT:if(a=s,n<fn.PAL)o=fn.PUNCT_CHARS[n];else switch(n){case fn.PAL:a=Q.ALPHA;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[i]);break;case fn.TEXT_COMPACTION_MODE_LATCH:a=Q.ALPHA}}""!==o&&r.append(o),i++}}static byteCompaction(e,t,n,r,a){let s=new ln,i=0,o=0,l=!1;switch(e){case fn.BYTE_COMPACTION_MODE_LATCH:let e=new Int32Array(6),n=t[r++];for(;r<t[0]&&!l;)switch(e[i++]=n,o=900*o+n,n=t[r++],n){case fn.TEXT_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH:case fn.NUMERIC_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH_6:case fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fn.MACRO_PDF417_TERMINATOR:r--,l=!0;break;default:if(i%5===0&&i>0){for(let e=0;e<6;++e)s.write(Number(dn(o)>>dn(8*(5-e))));o=0,i=0}}r===t[0]&&n<fn.TEXT_COMPACTION_MODE_LATCH&&(e[i++]=n);for(let t=0;t<i;t++)s.write(e[t]);break;case fn.BYTE_COMPACTION_MODE_LATCH_6:for(;r<t[0]&&!l;){let e=t[r++];if(e<fn.TEXT_COMPACTION_MODE_LATCH)i++,o=900*o+e;else switch(e){case fn.TEXT_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH:case fn.NUMERIC_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH_6:case fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fn.MACRO_PDF417_TERMINATOR:r--,l=!0}if(i%5===0&&i>0){for(let e=0;e<6;++e)s.write(Number(dn(o)>>dn(8*(5-e))));o=0,i=0}}}return a.append(A.decode(s.toByteArray(),n)),r}static numericCompaction(e,t,n){let r=0,a=!1,s=new Int32Array(fn.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!a;){let i=e[t++];if(t===e[0]&&(a=!0),i<fn.TEXT_COMPACTION_MODE_LATCH)s[r]=i,r++;else switch(i){case fn.TEXT_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH_6:case fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fn.MACRO_PDF417_TERMINATOR:t--,a=!0}(r%fn.MAX_NUMERIC_CODEWORDS===0||i===fn.NUMERIC_COMPACTION_MODE_LATCH||a)&&r>0&&(n.append(fn.decodeBase900toBase10(s,r)),r=0)}return t}static decodeBase900toBase10(e,t){let n=dn(0);for(let a=0;a<t;a++)n+=fn.EXP900[t-a-1]*dn(e[a]);let r=n.toString();if("1"!==r.charAt(0))throw new S;return r.substring(1)}}fn.TEXT_COMPACTION_MODE_LATCH=900,fn.BYTE_COMPACTION_MODE_LATCH=901,fn.NUMERIC_COMPACTION_MODE_LATCH=902,fn.BYTE_COMPACTION_MODE_LATCH_6=924,fn.ECI_USER_DEFINED=925,fn.ECI_GENERAL_PURPOSE=926,fn.ECI_CHARSET=927,fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,fn.MACRO_PDF417_TERMINATOR=922,fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,fn.MAX_NUMERIC_CODEWORDS=15,fn.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,fn.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,fn.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,fn.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,fn.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,fn.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,fn.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,fn.PL=25,fn.LL=27,fn.AS=27,fn.ML=28,fn.AL=28,fn.PS=29,fn.PAL=29,fn.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",fn.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",fn.EXP900=cn()?hn():[],fn.NUMBER_OF_SEQUENCE_CODEWORDS=2;class mn{constructor(){}static decode(e,t,n,r,a,s,i){let o,l=new Xt(e,t,n,r,a),c=null,u=null;for(let f=!0;;f=!1){if(null!=t&&(c=mn.getRowIndicatorColumn(e,l,t,!0,s,i)),null!=r&&(u=mn.getRowIndicatorColumn(e,l,r,!1,s,i)),o=mn.merge(c,u),null==o)throw M.getNotFoundInstance();let n=o.getBoundingBox();if(!f||null==n||!(n.getMinY()<l.getMinY()||n.getMaxY()>l.getMaxY()))break;l=n}o.setBoundingBox(l);let d=o.getBarcodeColumnCount()+1;o.setDetectionResultColumn(0,c),o.setDetectionResultColumn(d,u);let h=null!=c;for(let f=1;f<=d;f++){let t,n=h?f:d-f;if(void 0!==o.getDetectionResultColumn(n))continue;t=0===n||n===d?new $t(l,0===n):new Zt(l),o.setDetectionResultColumn(n,t);let r=-1,a=r;for(let c=l.getMinY();c<=l.getMaxY();c++){if(r=mn.getStartColumn(o,n,c,h),r<0||r>l.getMaxX()){if(-1===a)continue;r=a}let u=mn.detectCodeword(e,l.getMinX(),l.getMaxX(),h,r,c,s,i);null!=u&&(t.setCodeword(c,u),a=r,s=Math.min(s,u.getWidth()),i=Math.max(i,u.getWidth()))}}return mn.createDecoderResult(o)}static merge(e,t){if(null==e&&null==t)return null;let n=mn.getBarcodeMetadata(e,t);if(null==n)return null;let r=Xt.merge(mn.adjustBoundingBox(e),mn.adjustBoundingBox(t));return new Jt(n,r)}static adjustBoundingBox(e){if(null==e)return null;let t=e.getRowHeights();if(null==t)return null;let n=mn.getMax(t),r=0;for(let i of t)if(r+=n-i,i>0)break;let a=e.getCodewords();for(let i=0;r>0&&null==a[i];i++)r--;let s=0;for(let i=t.length-1;i>=0&&(s+=n-t[i],!(t[i]>0));i--);for(let i=a.length-1;s>0&&null==a[i];i--)s--;return e.getBoundingBox().addMissingRows(r,s,e.isLeft())}static getMax(e){let t=-1;for(let n of e)t=Math.max(t,n);return t}static getBarcodeMetadata(e,t){let n,r;return null==e||null==(n=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(r=t.getBarcodeMetadata())?n:n.getColumnCount()!==r.getColumnCount()&&n.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&n.getRowCount()!==r.getRowCount()?null:n}static getRowIndicatorColumn(e,t,n,r,a,s){let i=new $t(t,r);for(let o=0;o<2;o++){let l=0===o?1:-1,c=Math.trunc(Math.trunc(n.getX()));for(let o=Math.trunc(Math.trunc(n.getY()));o<=t.getMaxY()&&o>=t.getMinY();o+=l){let t=mn.detectCodeword(e,0,e.getWidth(),r,c,o,a,s);null!=t&&(i.setCodeword(o,t),c=r?t.getStartX():t.getEndX())}}return i}static adjustCodewordCount(e,t){let n=t[0][1],r=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-mn.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===r.length){if(a<1||a>Ut.MAX_CODEWORDS_IN_BARCODE)throw M.getNotFoundInstance();n.setValue(a)}else r[0]!==a&&n.setValue(a)}static createDecoderResult(e){let t=mn.createBarcodeMatrix(e);mn.adjustCodewordCount(e,t);let n=new Array,r=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],s=new Array;for(let o=0;o<e.getBarcodeRowCount();o++)for(let i=0;i<e.getBarcodeColumnCount();i++){let l=t[o][i+1].getValue(),c=o*e.getBarcodeColumnCount()+i;0===l.length?n.push(c):1===l.length?r[c]=l[0]:(s.push(c),a.push(l))}let i=new Array(a.length);for(let o=0;o<i.length;o++)i[o]=a[o];return mn.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),r,Ut.toIntArray(n),Ut.toIntArray(s),i)}static createDecoderResultFromAmbiguousValues(e,t,n,r,a){let s=new Int32Array(r.length),i=100;for(;i-- >0;){for(let e=0;e<s.length;e++)t[r[e]]=a[e][s[e]];try{return mn.decodeCodewords(t,e,n)}catch(o){if(!(o instanceof f))throw o}if(0===s.length)throw f.getChecksumInstance();for(let e=0;e<s.length;e++){if(s[e]<a[e].length-1){s[e]++;break}if(s[e]=0,e===s.length-1)throw f.getChecksumInstance()}}throw f.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},(()=>new Array(e.getBarcodeColumnCount()+2)));for(let r=0;r<t.length;r++)for(let e=0;e<t[r].length;e++)t[r][e]=new Kt;let n=0;for(let r of e.getDetectionResultColumns()){if(null!=r)for(let e of r.getCodewords())if(null!=e){let r=e.getRowNumber();if(r>=0){if(r>=t.length)continue;t[r][n].setValue(e.getValue())}}n++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,n,r){let a=r?1:-1,s=null;if(mn.isValidBarcodeColumn(e,t-a)&&(s=e.getDetectionResultColumn(t-a).getCodeword(n)),null!=s)return r?s.getEndX():s.getStartX();if(s=e.getDetectionResultColumn(t).getCodewordNearby(n),null!=s)return r?s.getStartX():s.getEndX();if(mn.isValidBarcodeColumn(e,t-a)&&(s=e.getDetectionResultColumn(t-a).getCodewordNearby(n)),null!=s)return r?s.getEndX():s.getStartX();let i=0;for(;mn.isValidBarcodeColumn(e,t-a);){t-=a;for(let n of e.getDetectionResultColumn(t).getCodewords())if(null!=n)return(r?n.getEndX():n.getStartX())+a*i*(n.getEndX()-n.getStartX());i++}return r?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,n,r,a,s,i,o){a=mn.adjustCodewordStartColumn(e,t,n,r,a,s);let l,c=mn.getModuleBitCount(e,t,n,r,a,s);if(null==c)return null;let u=se.sum(c);if(r)l=a+u;else{for(let e=0;e<c.length/2;e++){let t=c[e];c[e]=c[c.length-1-e],c[c.length-1-e]=t}l=a,a=l-u}if(!mn.checkCodewordSkew(u,i,o))return null;let d=tn.getDecodedValue(c),h=Ut.getCodeword(d);return-1===h?null:new en(a,l,mn.getCodewordBucketNumber(d),h)}static getModuleBitCount(e,t,n,r,a,s){let i=a,o=new Int32Array(8),l=0,c=r?1:-1,u=r;for(;(r?i<n:i>=t)&&l<o.length;)e.get(i,s)===u?(o[l]++,i+=c):(l++,u=!u);return l===o.length||i===(r?n:t)&&l===o.length-1?o:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,n,r,a,s){let i=a,o=r?-1:1;for(let l=0;l<2;l++){for(;(r?i>=t:i<n)&&r===e.get(i,s);){if(Math.abs(a-i)>mn.CODEWORD_SKEW_SIZE)return a;i+=o}o=-o,r=!r}return i}static checkCodewordSkew(e,t,n){return t-mn.CODEWORD_SKEW_SIZE<=e&&e<=n+mn.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,n){if(0===e.length)throw S.getFormatInstance();let r=1<<t+1,a=mn.correctErrors(e,n,r);mn.verifyCodewordCount(e,r);let s=fn.decode(e,""+t);return s.setErrorsCorrected(a),s.setErasures(n.length),s}static correctErrors(e,t,n){if(null!=t&&t.length>n/2+mn.MAX_ERRORS||n<0||n>mn.MAX_EC_CODEWORDS)throw f.getChecksumInstance();return mn.errorCorrection.decode(e,n,t)}static verifyCodewordCount(e,t){if(e.length<4)throw S.getFormatInstance();let n=e[0];if(n>e.length)throw S.getFormatInstance();if(0===n){if(!(t<e.length))throw S.getFormatInstance();e[0]=e.length-t}}static getBitCountForCodeword(e){let t=new Int32Array(8),n=0,r=t.length-1;for(;!((1&e)!==n&&(n=1&e,r--,r<0));)t[r]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return mn.getCodewordBucketNumber(mn.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new qt;for(let n=0;n<e.length;n++){t.format("Row %2d: ",n);for(let r=0;r<e[n].length;r++){let a=e[n][r];0===a.getValue().length?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()}}mn.CODEWORD_SKEW_SIZE=2,mn.MAX_ERRORS=3,mn.MAX_EC_CODEWORDS=512,mn.errorCorrection=new Yt;class pn{decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=pn.decode(e,t,!1);if(null==n||0===n.length||null==n[0])throw M.getNotFoundInstance();return n[0]}decodeMultiple(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return pn.decode(e,t,!0)}catch(n){if(n instanceof S||n instanceof f)throw M.getNotFoundInstance();throw n}}static decode(e,t,n){const r=new Array,a=Ht.detectMultiple(e,t,n);for(const s of a.getPoints()){const e=mn.decode(a.getBits(),s[4],s[5],s[6],s[7],pn.getMinCodewordWidth(s),pn.getMaxCodewordWidth(s)),t=new U(e.getText(),e.getRawBytes(),void 0,s,H.PDF_417);t.putMetadata(q.ERROR_CORRECTION_LEVEL,e.getECLevel());const n=e.getOther();null!=n&&t.putMetadata(q.PDF417_EXTRA_METADATA,n),r.push(t)}return r.map((e=>e))}static getMaxWidth(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return null==e||null==t?b.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(pn.getMaxWidth(e[0],e[4]),pn.getMaxWidth(e[6],e[2])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN),Math.max(pn.getMaxWidth(e[1],e[5]),pn.getMaxWidth(e[7],e[3])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(pn.getMinWidth(e[0],e[4]),pn.getMinWidth(e[6],e[2])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN),Math.min(pn.getMinWidth(e[1],e[5]),pn.getMinWidth(e[7],e[3])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN)))}reset(){}}class gn extends c{}gn.kind="ReaderException";class yn{constructor(e,t){this.verbose=!0===e,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!t(e)&&!0===e.get(C.TRY_HARDER),r=t(e)?null:e.get(C.POSSIBLE_FORMATS),a=new Array;if(!t(r)){const t=r.some((e=>e===H.UPC_A||e===H.UPC_E||e===H.EAN_13||e===H.EAN_8||e===H.CODABAR||e===H.CODE_39||e===H.CODE_93||e===H.CODE_128||e===H.ITF||e===H.RSS_14||e===H.RSS_EXPANDED));t&&!n&&a.push(new lt(e,this.verbose)),r.includes(H.QR_CODE)&&a.push(new Ft),r.includes(H.DATA_MATRIX)&&a.push(new bt),r.includes(H.AZTEC)&&a.push(new ye),r.includes(H.PDF_417)&&a.push(new pn),t&&n&&a.push(new lt(e,this.verbose))}0===a.length&&(n||a.push(new lt(e,this.verbose)),a.push(new Ft),a.push(new bt),a.push(new ye),a.push(new pn),n&&a.push(new lt(e,this.verbose))),this.readers=a}reset(){if(null!==this.readers)for(const e of this.readers)e.reset()}decodeInternal(e){if(null===this.readers)throw new gn("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(t){if(t instanceof gn)continue}throw new M("No MultiFormat Readers were able to detect the code.")}}class wn extends F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const n=new yn;n.setHints(e),super(n,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class bn extends F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new pn,e)}}class xn extends F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new Ft,e)}}var vn;!function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.MIN_SIZE=3]="MIN_SIZE",e[e.MAX_SIZE=4]="MAX_SIZE",e[e.MARGIN=5]="MARGIN",e[e.PDF417_COMPACT=6]="PDF417_COMPACT",e[e.PDF417_COMPACTION=7]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=9]="AZTEC_LAYERS",e[e.QR_VERSION=10]="QR_VERSION"}(vn||(vn={}));var Cn=vn;class Sn{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new $(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let n=t[t.length-1];const r=this.field;for(let a=t.length;a<=e;a++){const e=n.multiply(new $(r,Int32Array.from([1,r.exp(a-1+r.getGeneratorBase())])));t.push(e),n=e}}return t[e]}encode(e,t){if(0===t)throw new d("No error correction bytes");const n=e.length-t;if(n<=0)throw new d("No data bytes provided");const r=this.buildGenerator(t),a=new Int32Array(n);p.arraycopy(e,0,a,0,n);let s=new $(this.field,a);s=s.multiplyByMonomial(t,1);const i=s.divide(r)[1].getCoefficients(),o=t-i.length;for(let l=0;l<o;l++)e[n+l]=0;p.arraycopy(i,0,e,n+o,i.length)}}class En{constructor(){}static applyMaskPenaltyRule1(e){return En.applyMaskPenaltyRule1Internal(e,!0)+En.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const n=e.getArray(),r=e.getWidth(),a=e.getHeight();for(let s=0;s<a-1;s++){const e=n[s];for(let a=0;a<r-1;a++){const r=e[a];r===e[a+1]&&r===n[s+1][a]&&r===n[s+1][a+1]&&t++}}return En.N2*t}static applyMaskPenaltyRule3(e){let t=0;const n=e.getArray(),r=e.getWidth(),a=e.getHeight();for(let s=0;s<a;s++)for(let e=0;e<r;e++){const i=n[s];e+6<r&&1===i[e]&&0===i[e+1]&&1===i[e+2]&&1===i[e+3]&&1===i[e+4]&&0===i[e+5]&&1===i[e+6]&&(En.isWhiteHorizontal(i,e-4,e)||En.isWhiteHorizontal(i,e+7,e+11))&&t++,s+6<a&&1===n[s][e]&&0===n[s+1][e]&&1===n[s+2][e]&&1===n[s+3][e]&&1===n[s+4][e]&&0===n[s+5][e]&&1===n[s+6][e]&&(En.isWhiteVertical(n,e,s-4,s)||En.isWhiteVertical(n,e,s+7,s+11))&&t++}return t*En.N3}static isWhiteHorizontal(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(let r=t;r<n;r++)if(1===e[r])return!1;return!0}static isWhiteVertical(e,t,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let a=n;a<r;a++)if(1===e[a][t])return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const n=e.getArray(),r=e.getWidth(),a=e.getHeight();for(let i=0;i<a;i++){const e=n[i];for(let n=0;n<r;n++)1===e[n]&&t++}const s=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*t-s)/s)*En.N4}static getDataMaskBit(e,t,n){let r,a;switch(e){case 0:r=n+t&1;break;case 1:r=1&n;break;case 2:r=t%3;break;case 3:r=(n+t)%3;break;case 4:r=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:a=n*t,r=(1&a)+a%3;break;case 6:a=n*t,r=(1&a)+a%3&1;break;case 7:a=n*t,r=a%3+(n+t&1)&1;break;default:throw new d("Invalid mask pattern: "+e)}return 0===r}static applyMaskPenaltyRule1Internal(e,t){let n=0;const r=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),s=e.getArray();for(let i=0;i<r;i++){let e=0,r=-1;for(let o=0;o<a;o++){const a=t?s[i][o]:s[o][i];a===r?e++:(e>=5&&(n+=En.N1+(e-5)),e=1,r=a)}e>=5&&(n+=En.N1+(e-5))}return n}}En.N1=3,En.N2=3,En.N3=40,En.N4=10;class Nn{constructor(e,t){this.width=e,this.height=t;const n=new Array(t);for(let r=0;r!==t;r++)n[r]=new Uint8Array(e);this.bytes=n}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,n){this.bytes[t][e]=n}setBoolean(e,t,n){this.bytes[t][e]=n?1:0}clear(e){for(const t of this.bytes)w.fill(t,e)}equals(e){if(!(e instanceof Nn))return!1;const t=e;if(this.width!==t.width)return!1;if(this.height!==t.height)return!1;for(let n=0,r=this.height;n<r;++n){const e=this.bytes[n],r=t.bytes[n];for(let t=0,n=this.width;t<n;++t)if(e[t]!==r[t])return!1}return!0}toString(){const e=new _;for(let t=0,n=this.height;t<n;++t){const n=this.bytes[t];for(let t=0,r=this.width;t<r;++t)switch(n[t]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()}}class An{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new _;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<An.NUM_MASK_PATTERNS}}An.NUM_MASK_PATTERNS=8;class In extends c{}In.kind="WriterException";class _n{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,n,r,a){_n.clearMatrix(a),_n.embedBasicPatterns(n,a),_n.embedTypeInfo(t,r,a),_n.maybeEmbedVersionInfo(n,a),_n.embedDataBits(e,r,a)}static embedBasicPatterns(e,t){_n.embedPositionDetectionPatternsAndSeparators(t),_n.embedDarkDotAtLeftBottomCorner(t),_n.maybeEmbedPositionAdjustmentPatterns(e,t),_n.embedTimingPatterns(t)}static embedTypeInfo(e,t,n){const r=new x;_n.makeTypeInfoBits(e,t,r);for(let a=0,s=r.getSize();a<s;++a){const e=r.get(r.getSize()-1-a),t=_n.TYPE_INFO_COORDINATES[a],s=t[0],i=t[1];if(n.setBoolean(s,i,e),a<8){const t=n.getWidth()-a-1,r=8;n.setBoolean(t,r,e)}else{const t=8,r=n.getHeight()-7+(a-8);n.setBoolean(t,r,e)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const n=new x;_n.makeVersionInfoBits(e,n);let r=17;for(let a=0;a<6;++a)for(let e=0;e<3;++e){const s=n.get(r);r--,t.setBoolean(a,t.getHeight()-11+e,s),t.setBoolean(t.getHeight()-11+e,a,s)}}static embedDataBits(e,t,n){let r=0,a=-1,s=n.getWidth()-1,i=n.getHeight()-1;for(;s>0;){for(6===s&&(s-=1);i>=0&&i<n.getHeight();){for(let a=0;a<2;++a){const o=s-a;if(!_n.isEmpty(n.get(o,i)))continue;let l;r<e.getSize()?(l=e.get(r),++r):l=!1,255!==t&&En.getDataMaskBit(t,o,i)&&(l=!l),n.setBoolean(o,i,l)}i+=a}a=-a,i+=a,s-=2}if(r!==e.getSize())throw new In("Not all bits consumed: "+r+"/"+e.getSize())}static findMSBSet(e){return 32-b.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(0===t)throw new d("0 polynomial");const n=_n.findMSBSet(t);for(e<<=n-1;_n.findMSBSet(e)>=n;)e^=t<<_n.findMSBSet(e)-n;return e}static makeTypeInfoBits(e,t,n){if(!An.isValidMaskPattern(t))throw new In("Invalid mask pattern");const r=e.getBits()<<3|t;n.appendBits(r,5);const a=_n.calculateBCHCode(r,_n.TYPE_INFO_POLY);n.appendBits(a,10);const s=new x;if(s.appendBits(_n.TYPE_INFO_MASK_PATTERN,15),n.xor(s),15!==n.getSize())throw new In("should not happen but we got: "+n.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const n=_n.calculateBCHCode(e.getVersionNumber(),_n.VERSION_INFO_POLY);if(t.appendBits(n,12),18!==t.getSize())throw new In("should not happen but we got: "+t.getSize())}static isEmpty(e){return 255===e}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const n=(t+1)%2;_n.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),_n.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}}static embedDarkDotAtLeftBottomCorner(e){if(0===e.get(8,e.getHeight()-8))throw new In;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,n){for(let r=0;r<8;++r){if(!_n.isEmpty(n.get(e+r,t)))throw new In;n.setNumber(e+r,t,0)}}static embedVerticalSeparationPattern(e,t,n){for(let r=0;r<7;++r){if(!_n.isEmpty(n.get(e,t+r)))throw new In;n.setNumber(e,t+r,0)}}static embedPositionAdjustmentPattern(e,t,n){for(let r=0;r<5;++r){const a=_n.POSITION_ADJUSTMENT_PATTERN[r];for(let s=0;s<5;++s)n.setNumber(e+s,t+r,a[s])}}static embedPositionDetectionPattern(e,t,n){for(let r=0;r<7;++r){const a=_n.POSITION_DETECTION_PATTERN[r];for(let s=0;s<7;++s)n.setNumber(e+s,t+r,a[s])}}static embedPositionDetectionPatternsAndSeparators(e){const t=_n.POSITION_DETECTION_PATTERN[0].length;_n.embedPositionDetectionPattern(0,0,e),_n.embedPositionDetectionPattern(e.getWidth()-t,0,e),_n.embedPositionDetectionPattern(0,e.getWidth()-t,e);const n=8;_n.embedHorizontalSeparationPattern(0,n-1,e),_n.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),_n.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);const r=7;_n.embedVerticalSeparationPattern(r,0,e),_n.embedVerticalSeparationPattern(e.getHeight()-r-1,0,e),_n.embedVerticalSeparationPattern(r,e.getHeight()-r,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const n=e.getVersionNumber()-1,r=_n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n];for(let a=0,s=r.length;a!==s;a++){const e=r[a];if(e>=0)for(let n=0;n!==s;n++){const a=r[n];a>=0&&_n.isEmpty(t.get(a,e))&&_n.embedPositionAdjustmentPattern(a-2,e-2,t)}}}}_n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),_n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),_n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),_n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),_n.VERSION_INFO_POLY=7973,_n.TYPE_INFO_POLY=1335,_n.TYPE_INFO_MASK_PATTERN=21522;class Tn{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Mn{constructor(){}static calculateMaskPenalty(e){return En.applyMaskPenaltyRule1(e)+En.applyMaskPenaltyRule2(e)+En.applyMaskPenaltyRule3(e)+En.applyMaskPenaltyRule4(e)}static encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Mn.DEFAULT_BYTE_MODE_ENCODING;const a=null!==n&&void 0!==n.get(Cn.CHARACTER_SET);a&&(r=n.get(Cn.CHARACTER_SET).toString());const s=this.chooseMode(e,r),i=new x;if(s===Tt.BYTE&&(a||Mn.DEFAULT_BYTE_MODE_ENCODING!==r)){const e=E.getCharacterSetECIByName(r);void 0!==e&&this.appendECI(e,i)}this.appendModeInfo(s,i);const o=new x;let l;if(this.appendBytes(e,s,o,r),null!==n&&void 0!==n.get(Cn.QR_VERSION)){const e=Number.parseInt(n.get(Cn.QR_VERSION).toString(),10);l=Nt.getVersionForNumber(e);const r=this.calculateBitsNeeded(s,i,o,l);if(!this.willFit(r,l,t))throw new In("Data too big for requested version")}else l=this.recommendVersion(t,s,i,o);const c=new x;c.appendBitArray(i);const u=s===Tt.BYTE?o.getSizeInBytes():e.length;this.appendLengthInfo(u,l,s,c),c.appendBitArray(o);const d=l.getECBlocksForLevel(t),h=l.getTotalCodewords()-d.getTotalECCodewords();this.terminateBits(h,c);const f=this.interleaveWithECBytes(c,l.getTotalCodewords(),h,d.getNumBlocks()),m=new An;m.setECLevel(t),m.setMode(s),m.setVersion(l);const p=l.getDimensionForVersion(),g=new Nn(p,p),y=this.chooseMaskPattern(f,t,l,g);return m.setMaskPattern(y),_n.buildMatrix(f,t,l,y,g),m.setMatrix(g),m}static recommendVersion(e,t,n,r){const a=this.calculateBitsNeeded(t,n,r,Nt.getVersionForNumber(1)),s=this.chooseVersion(a,e),i=this.calculateBitsNeeded(t,n,r,s);return this.chooseVersion(i,e)}static calculateBitsNeeded(e,t,n,r){return t.getSize()+e.getCharacterCountBits(r)+n.getSize()}static getAlphanumericCode(e){return e<Mn.ALPHANUMERIC_TABLE.length?Mn.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(E.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Tt.KANJI;let n=!1,r=!1;for(let a=0,s=e.length;a<s;++a){const t=e.charAt(a);if(Mn.isDigit(t))n=!0;else{if(-1===this.getAlphanumericCode(t.charCodeAt(0)))return Tt.BYTE;r=!0}}return r?Tt.ALPHANUMERIC:n?Tt.NUMERIC:Tt.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=A.encode(e,E.SJIS)}catch(r){return!1}const n=t.length;if(n%2!==0)return!1;for(let a=0;a<n;a+=2){const e=255&t[a];if((e<129||e>159)&&(e<224||e>235))return!1}return!0}static chooseMaskPattern(e,t,n,r){let a=Number.MAX_SAFE_INTEGER,s=-1;for(let i=0;i<An.NUM_MASK_PATTERNS;i++){_n.buildMatrix(e,t,n,i,r);let o=this.calculateMaskPenalty(r);o<a&&(a=o,s=i)}return s}static chooseVersion(e,t){for(let n=1;n<=40;n++){const r=Nt.getVersionForNumber(n);if(Mn.willFit(e,r,t))return r}throw new In("Data too big")}static willFit(e,t,n){return t.getTotalCodewords()-t.getECBlocksForLevel(n).getTotalECCodewords()>=(e+7)/8}static terminateBits(e,t){const n=8*e;if(t.getSize()>n)throw new In("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(let s=0;s<4&&t.getSize()<n;++s)t.appendBit(!1);const r=7&t.getSize();if(r>0)for(let s=r;s<8;s++)t.appendBit(!1);const a=e-t.getSizeInBytes();for(let s=0;s<a;++s)t.appendBits(0===(1&s)?236:17,8);if(t.getSize()!==n)throw new In("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,n,r,a,s){if(r>=n)throw new In("Block ID too large");const i=e%n,o=n-i,l=Math.floor(e/n),c=l+1,u=Math.floor(t/n),d=u+1,h=l-u,f=c-d;if(h!==f)throw new In("EC bytes mismatch");if(n!==o+i)throw new In("RS blocks mismatch");if(e!==(u+h)*o+(d+f)*i)throw new In("Total bytes mismatch");r<o?(a[0]=u,s[0]=h):(a[0]=d,s[0]=f)}static interleaveWithECBytes(e,t,n,r){if(e.getSizeInBytes()!==n)throw new In("Number of bits and data bytes does not match");let a=0,s=0,i=0;const o=new Array;for(let c=0;c<r;++c){const l=new Int32Array(1),u=new Int32Array(1);Mn.getNumDataBytesAndNumECBytesForBlockID(t,n,r,c,l,u);const d=l[0],h=new Uint8Array(d);e.toBytes(8*a,h,0,d);const f=Mn.generateECBytes(h,u[0]);o.push(new Tn(h,f)),s=Math.max(s,d),i=Math.max(i,f.length),a+=l[0]}if(n!==a)throw new In("Data bytes does not match offset");const l=new x;for(let c=0;c<s;++c)for(const e of o){const t=e.getDataBytes();c<t.length&&l.appendBits(t[c],8)}for(let c=0;c<i;++c)for(const e of o){const t=e.getErrorCorrectionBytes();c<t.length&&l.appendBits(t[c],8)}if(t!==l.getSizeInBytes())throw new In("Interleaving error: "+t+" and "+l.getSizeInBytes()+" differ.");return l}static generateECBytes(e,t){const n=e.length,r=new Int32Array(n+t);for(let s=0;s<n;s++)r[s]=255&e[s];new Sn(ee.QR_CODE_FIELD_256).encode(r,t);const a=new Uint8Array(t);for(let s=0;s<t;s++)a[s]=r[n+s];return a}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,n,r){const a=n.getCharacterCountBits(t);if(e>=1<<a)throw new In(e+" is bigger than "+((1<<a)-1));r.appendBits(e,a)}static appendBytes(e,t,n,r){switch(t){case Tt.NUMERIC:Mn.appendNumericBytes(e,n);break;case Tt.ALPHANUMERIC:Mn.appendAlphanumericBytes(e,n);break;case Tt.BYTE:Mn.append8BitBytes(e,n,r);break;case Tt.KANJI:Mn.appendKanjiBytes(e,n);break;default:throw new In("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=Mn.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const n=e.length;let r=0;for(;r<n;){const a=Mn.getDigit(e.charAt(r));if(r+2<n){const n=Mn.getDigit(e.charAt(r+1)),s=Mn.getDigit(e.charAt(r+2));t.appendBits(100*a+10*n+s,10),r+=3}else if(r+1<n){const n=Mn.getDigit(e.charAt(r+1));t.appendBits(10*a+n,7),r+=2}else t.appendBits(a,4),r++}}static appendAlphanumericBytes(e,t){const n=e.length;let r=0;for(;r<n;){const a=Mn.getAlphanumericCode(e.charCodeAt(r));if(-1===a)throw new In;if(r+1<n){const n=Mn.getAlphanumericCode(e.charCodeAt(r+1));if(-1===n)throw new In;t.appendBits(45*a+n,11),r+=2}else t.appendBits(a,6),r++}}static append8BitBytes(e,t,n){let r;try{r=A.encode(e,n)}catch(a){throw new In(a)}for(let s=0,i=r.length;s!==i;s++){const e=r[s];t.appendBits(e,8)}}static appendKanjiBytes(e,t){let n;try{n=A.encode(e,E.SJIS)}catch(a){throw new In(a)}const r=n.length;for(let s=0;s<r;s+=2){const e=(255&n[s])<<8&4294967295|255&n[s+1];let r=-1;if(e>=33088&&e<=40956?r=e-33088:e>=57408&&e<=60351&&(r=e-49472),-1===r)throw new In("Invalid byte sequence");const a=192*(r>>8)+(255&r);t.appendBits(a,13)}}static appendECI(e,t){t.appendBits(Tt.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}Mn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Mn.DEFAULT_BYTE_MODE_ENCODING=E.UTF8.getName();class Dn{write(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(0===e.length)throw new d("Found empty contents");if(t<0||n<0)throw new d("Requested dimensions are too small: "+t+"x"+n);let a=vt.L,s=Dn.QUIET_ZONE_SIZE;null!==r&&(void 0!==r.get(Cn.ERROR_CORRECTION)&&(a=vt.fromString(r.get(Cn.ERROR_CORRECTION).toString())),void 0!==r.get(Cn.MARGIN)&&(s=Number.parseInt(r.get(Cn.MARGIN).toString(),10)));const i=Mn.encode(e,a,r);return this.renderResult(i,t,n,s)}writeToDom(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;"string"===typeof e&&(e=document.querySelector(e));const s=this.write(t,n,r,a);e&&e.appendChild(s)}renderResult(e,t,n,r){const a=e.getMatrix();if(null===a)throw new ne;const s=a.getWidth(),i=a.getHeight(),o=s+2*r,l=i+2*r,c=Math.max(t,o),u=Math.max(n,l),d=Math.min(Math.floor(c/o),Math.floor(u/l)),h=Math.floor((c-s*d)/2),f=Math.floor((u-i*d)/2),m=this.createSVGElement(c,u);for(let p=0,g=f;p<i;p++,g+=d)for(let e=0,t=h;e<s;e++,t+=d)if(1===a.get(e,p)){const e=this.createSvgRectElement(t,g,d,d);m.appendChild(e)}return m}createSVGElement(e,t){const n=document.createElementNS(Dn.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",t.toString()),n}createSvgRectElement(e,t,n,r){const a=document.createElementNS(Dn.SVG_NS,"rect");return a.setAttributeNS(null,"x",e.toString()),a.setAttributeNS(null,"y",t.toString()),a.setAttributeNS(null,"height",n.toString()),a.setAttributeNS(null,"width",r.toString()),a.setAttributeNS(null,"fill","#000000"),a}}Dn.QUIET_ZONE_SIZE=4,Dn.SVG_NS="http://www.w3.org/2000/svg";class Rn{encode(e,t,n,r,a){if(0===e.length)throw new d("Found empty contents");if(t!==H.QR_CODE)throw new d("Can only encode QR_CODE, but got "+t);if(n<0||r<0)throw new d("Requested dimensions are too small: ".concat(n,"x").concat(r));let s=vt.L,i=Rn.QUIET_ZONE_SIZE;null!==a&&(void 0!==a.get(Cn.ERROR_CORRECTION)&&(s=vt.fromString(a.get(Cn.ERROR_CORRECTION).toString())),void 0!==a.get(Cn.MARGIN)&&(i=Number.parseInt(a.get(Cn.MARGIN).toString(),10)));const o=Mn.encode(e,s,a);return Rn.renderResult(o,n,r,i)}static renderResult(e,t,n,r){const a=e.getMatrix();if(null===a)throw new ne;const s=a.getWidth(),i=a.getHeight(),o=s+2*r,l=i+2*r,c=Math.max(t,o),u=Math.max(n,l),d=Math.min(Math.floor(c/o),Math.floor(u/l)),h=Math.floor((c-s*d)/2),f=Math.floor((u-i*d)/2),m=new T(c,u);for(let p=0,g=f;p<i;p++,g+=d)for(let e=0,t=h;e<s;e++,t+=d)1===a.get(e,p)&&m.setRegion(t,g,d,d);return m}}Rn.QUIET_ZONE_SIZE=4;class jn{encode(e,t,n,r,a){let s;if(t!==H.QR_CODE)throw new d("No encoder available for format "+t);return s=new Rn,s.encode(e,t,n,r,a)}}class On extends j{constructor(e,t,n,r,a,s,i,o){if(super(s,i),this.yuvData=e,this.dataWidth=t,this.dataHeight=n,this.left=r,this.top=a,r+s>t||a+i>n)throw new d("Crop rectangle does not fit within image data.");o&&this.reverseHorizontal(s,i)}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const n=this.getWidth();(null===t||void 0===t||t.length<n)&&(t=new Uint8ClampedArray(n));const r=(e+this.top)*this.dataWidth+this.left;return p.arraycopy(this.yuvData,r,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const n=e*t,r=new Uint8ClampedArray(n);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return p.arraycopy(this.yuvData,a,r,0,n),r;for(let s=0;s<t;s++){const t=s*e;p.arraycopy(this.yuvData,a,r,t,e),a+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new On(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,n,r,!1)}renderThumbnail(){const e=this.getWidth()/On.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/On.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(e*t),r=this.yuvData;let a=this.top*this.dataWidth+this.left;for(let s=0;s<t;s++){const t=s*e;for(let s=0;s<e;s++){const e=255&r[a+s*On.THUMBNAIL_SCALE_FACTOR];n[t+s]=4278190080|65793*e}a+=this.dataWidth*On.THUMBNAIL_SCALE_FACTOR}return n}getThumbnailWidth(){return this.getWidth()/On.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/On.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const n=this.yuvData;for(let r=0,a=this.top*this.dataWidth+this.left;r<t;r++,a+=this.dataWidth){const t=a+e/2;for(let r=a,s=a+e-1;r<t;r++,s--){const e=n[r];n[r]=n[s],n[s]=e}}}invert(){return new O(this)}}On.THUMBNAIL_SCALE_FACTOR=2;class kn extends j{constructor(e,t,n,r,a,s,i){if(super(t,n),this.dataWidth=r,this.dataHeight=a,this.left=s,this.top=i,4===e.BYTES_PER_ELEMENT){const r=t*n,a=new Uint8ClampedArray(r);for(let t=0;t<r;t++){const n=e[t],r=n>>16&255,s=n>>7&510,i=255&n;a[t]=(r+s+i)/4&255}this.luminances=a}else this.luminances=e;if(void 0===r&&(this.dataWidth=t),void 0===a&&(this.dataHeight=n),void 0===s&&(this.left=0),void 0===i&&(this.top=0),this.left+t>this.dataWidth||this.top+n>this.dataHeight)throw new d("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const n=this.getWidth();(null===t||void 0===t||t.length<n)&&(t=new Uint8ClampedArray(n));const r=(e+this.top)*this.dataWidth+this.left;return p.arraycopy(this.luminances,r,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const n=e*t,r=new Uint8ClampedArray(n);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return p.arraycopy(this.luminances,a,r,0,n),r;for(let s=0;s<t;s++){const t=s*e;p.arraycopy(this.luminances,a,r,t,e),a+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new kn(this.luminances,n,r,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new O(this)}}class Pn extends E{static forName(e){return this.getCharacterSetECIByName(e)}}class Ln{}Ln.ISO_8859_1=E.ISO8859_1;class Bn{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Fn{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class Un{constructor(e){this.previous=e}getPrevious(){return this.previous}}class zn extends Un{constructor(e,t,n){super(e),this.value=t,this.bitCount=n}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new zn(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new zn(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+b.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Hn extends zn{constructor(e,t,n){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=n}appendTo(e,t){for(let n=0;n<this.binaryShiftByteCount;n++)(0===n||31===n&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):0===n?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)}addBinaryShift(e,t){return new Hn(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Vn(e,t,n){return new Hn(e,t,n)}function Wn(e,t,n){return new zn(e,t,n)}const Gn=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Yn=0,Xn=1,Qn=2,qn=3,Zn=4,Kn=new zn(null,0,0),$n=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];function Jn(e){for(let t of e)w.fill(t,-1);return e[Yn][Zn]=0,e[Xn][Zn]=0,e[Xn][Yn]=28,e[qn][Zn]=0,e[Qn][Zn]=0,e[Qn][Yn]=15,e}const er=Jn(w.createInt32Array(6,6));class tr{constructor(e,t,n,r){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=r}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let n=this.bitCount,r=this.token;if(e!==this.mode){let t=$n[this.mode][e];r=Wn(r,65535&t,t>>16),n+=t>>16}let a=e===Qn?4:5;return r=Wn(r,t,a),new tr(r,e,0,n+a)}shiftAndAppend(e,t){let n=this.token,r=this.mode===Qn?4:5;return n=Wn(n,er[this.mode][e],r),n=Wn(n,t,5),new tr(n,this.mode,0,this.bitCount+r+5)}addBinaryShiftChar(e){let t=this.token,n=this.mode,r=this.bitCount;if(this.mode===Zn||this.mode===Qn){let e=$n[n][Yn];t=Wn(t,65535&e,e>>16),r+=e>>16,n=Yn}let a=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,s=new tr(t,n,this.binaryShiftByteCount+1,r+a);return 2078===s.binaryShiftByteCount&&(s=s.endBinaryShift(e+1)),s}endBinaryShift(e){if(0===this.binaryShiftByteCount)return this;let t=this.token;return t=Vn(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new tr(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+($n[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=tr.calculateBinaryShiftCost(e)-tr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let r=this.endBinaryShift(e.length).token;null!==r;r=r.getPrevious())t.unshift(r);let n=new x;for(const r of t)r.appendTo(n,e);return n}toString(){return I.format("%s bits=%d bytes=%d",Gn[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}function nr(e){const t=I.getCharCode(" "),n=I.getCharCode("."),r=I.getCharCode(",");e[Yn][t]=1;const a=I.getCharCode("Z"),s=I.getCharCode("A");for(let h=s;h<=a;h++)e[Yn][h]=h-s+2;e[Xn][t]=1;const i=I.getCharCode("z"),o=I.getCharCode("a");for(let h=o;h<=i;h++)e[Xn][h]=h-o+2;e[Qn][t]=1;const l=I.getCharCode("9"),c=I.getCharCode("0");for(let h=c;h<=l;h++)e[Qn][h]=h-c+2;e[Qn][r]=12,e[Qn][n]=13;const u=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let h=0;h<u.length;h++)e[qn][I.getCharCode(u[h])]=h;const d=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let h=0;h<d.length;h++)I.getCharCode(d[h])>0&&(e[Zn][I.getCharCode(d[h])]=h);return e}tr.INITIAL_STATE=new tr(Kn,Yn,0,0);const rr=nr(w.createInt32Array(5,256));class ar{constructor(e){this.text=e}encode(){const e=I.getCharCode(" "),t=I.getCharCode("\n");let n=Fn.singletonList(tr.INITIAL_STATE);for(let r=0;r<this.text.length;r++){let a,s=r+1<this.text.length?this.text[r+1]:0;switch(this.text[r]){case I.getCharCode("\r"):a=s===t?2:0;break;case I.getCharCode("."):a=s===e?3:0;break;case I.getCharCode(","):a=s===e?4:0;break;case I.getCharCode(":"):a=s===e?5:0;break;default:a=0}a>0?(n=ar.updateStateListForPair(n,r,a),r++):n=this.updateStateListForChar(n,r)}return Fn.min(n,((e,t)=>e.getBitCount()-t.getBitCount())).toBitArray(this.text)}updateStateListForChar(e,t){const n=[];for(let r of e)this.updateStateForChar(r,t,n);return ar.simplifyStates(n)}updateStateForChar(e,t,n){let r=255&this.text[t],a=rr[e.getMode()][r]>0,s=null;for(let i=0;i<=Zn;i++){let o=rr[i][r];if(o>0){if(null==s&&(s=e.endBinaryShift(t)),!a||i===e.getMode()||i===Qn){const e=s.latchAndAppend(i,o);n.push(e)}if(!a&&er[e.getMode()][i]>=0){const e=s.shiftAndAppend(i,o);n.push(e)}}}if(e.getBinaryShiftByteCount()>0||0===rr[e.getMode()][r]){let r=e.addBinaryShiftChar(t);n.push(r)}}static updateStateListForPair(e,t,n){const r=[];for(let a of e)this.updateStateForPair(a,t,n,r);return this.simplifyStates(r)}static updateStateForPair(e,t,n,r){let a=e.endBinaryShift(t);if(r.push(a.latchAndAppend(Zn,n)),e.getMode()!==Zn&&r.push(a.shiftAndAppend(Zn,n)),3===n||4===n){let e=a.latchAndAppend(Qn,16-n).latchAndAppend(Qn,1);r.push(e)}if(e.getBinaryShiftByteCount()>0){let n=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);r.push(n)}}static simplifyStates(e){let t=[];for(const n of e){let e=!0;for(const r of t){if(r.isBetterThanOrEqualTo(n)){e=!1;break}n.isBetterThanOrEqualTo(r)&&(t=t.filter((e=>e!==r)))}e&&t.push(n)}return t}}class sr{constructor(){}static encodeBytes(e){return sr.encode(e,sr.DEFAULT_EC_PERCENT,sr.DEFAULT_AZTEC_LAYERS)}static encode(e,t,n){let r,a,s,i,o,l=new ar(e).encode(),c=b.truncDivision(l.getSize()*t,100)+11,u=l.getSize()+c;if(n!==sr.DEFAULT_AZTEC_LAYERS){if(r=n<0,a=Math.abs(n),a>(r?sr.MAX_NB_BITS_COMPACT:sr.MAX_NB_BITS))throw new d(I.format("Illegal value %s for layers",n));s=sr.totalBitsInLayer(a,r),i=sr.WORD_SIZE[a];let e=s-s%i;if(o=sr.stuffBits(l,i),o.getSize()+c>e)throw new d("Data to large for user specified layer");if(r&&o.getSize()>64*i)throw new d("Data to large for user specified layer")}else{i=0,o=null;for(let e=0;;e++){if(e>sr.MAX_NB_BITS)throw new d("Data too large for an Aztec code");if(r=e<=3,a=r?e+1:e,s=sr.totalBitsInLayer(a,r),u>s)continue;null!=o&&i===sr.WORD_SIZE[a]||(i=sr.WORD_SIZE[a],o=sr.stuffBits(l,i));let t=s-s%i;if(!(r&&o.getSize()>64*i)&&o.getSize()+c<=t)break}}let h,f=sr.generateCheckWords(o,s,i),m=o.getSize()/i,p=sr.generateModeMessage(r,a,m),g=(r?11:14)+4*a,y=new Int32Array(g);if(r){h=g;for(let e=0;e<y.length;e++)y[e]=e}else{h=g+1+2*b.truncDivision(b.truncDivision(g,2)-1,15);let e=b.truncDivision(g,2),t=b.truncDivision(h,2);for(let n=0;n<e;n++){let r=n+b.truncDivision(n,15);y[e-n-1]=t-r-1,y[e+n]=t+r+1}}let w=new T(h);for(let d=0,b=0;d<a;d++){let e=4*(a-d)+(r?9:12);for(let t=0;t<e;t++){let n=2*t;for(let r=0;r<2;r++)f.get(b+n+r)&&w.set(y[2*d+r],y[2*d+t]),f.get(b+2*e+n+r)&&w.set(y[2*d+t],y[g-1-2*d-r]),f.get(b+4*e+n+r)&&w.set(y[g-1-2*d-r],y[g-1-2*d-t]),f.get(b+6*e+n+r)&&w.set(y[g-1-2*d-t],y[2*d+r])}b+=8*e}if(sr.drawModeMessage(w,r,h,p),r)sr.drawBullsEye(w,b.truncDivision(h,2),5);else{sr.drawBullsEye(w,b.truncDivision(h,2),7);for(let e=0,t=0;e<b.truncDivision(g,2)-1;e+=15,t+=16)for(let n=1&b.truncDivision(h,2);n<h;n+=2)w.set(b.truncDivision(h,2)-t,n),w.set(b.truncDivision(h,2)+t,n),w.set(n,b.truncDivision(h,2)-t),w.set(n,b.truncDivision(h,2)+t)}let x=new Bn;return x.setCompact(r),x.setSize(h),x.setLayers(a),x.setCodeWords(m),x.setMatrix(w),x}static drawBullsEye(e,t,n){for(let r=0;r<n;r+=2)for(let n=t-r;n<=t+r;n++)e.set(n,t-r),e.set(n,t+r),e.set(t-r,n),e.set(t+r,n);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)}static generateModeMessage(e,t,n){let r=new x;return e?(r.appendBits(t-1,2),r.appendBits(n-1,6),r=sr.generateCheckWords(r,28,4)):(r.appendBits(t-1,5),r.appendBits(n-1,11),r=sr.generateCheckWords(r,40,4)),r}static drawModeMessage(e,t,n,r){let a=b.truncDivision(n,2);if(t)for(let s=0;s<7;s++){let t=a-3+s;r.get(s)&&e.set(t,a-5),r.get(s+7)&&e.set(a+5,t),r.get(20-s)&&e.set(t,a+5),r.get(27-s)&&e.set(a-5,t)}else for(let s=0;s<10;s++){let t=a-5+s+b.truncDivision(s,5);r.get(s)&&e.set(t,a-7),r.get(s+10)&&e.set(a+7,t),r.get(29-s)&&e.set(t,a+7),r.get(39-s)&&e.set(a-7,t)}}static generateCheckWords(e,t,n){let r=e.getSize()/n,a=new Sn(sr.getGF(n)),s=b.truncDivision(t,n),i=sr.bitsToWords(e,n,s);a.encode(i,s-r);let o=t%n,l=new x;l.appendBits(0,o);for(const c of Array.from(i))l.appendBits(c,n);return l}static bitsToWords(e,t,n){let r,a,s=new Int32Array(n);for(r=0,a=e.getSize()/t;r<a;r++){let n=0;for(let a=0;a<t;a++)n|=e.get(r*t+a)?1<<t-a-1:0;s[r]=n}return s}static getGF(e){switch(e){case 4:return ee.AZTEC_PARAM;case 6:return ee.AZTEC_DATA_6;case 8:return ee.AZTEC_DATA_8;case 10:return ee.AZTEC_DATA_10;case 12:return ee.AZTEC_DATA_12;default:throw new d("Unsupported word size "+e)}}static stuffBits(e,t){let n=new x,r=e.getSize(),a=(1<<t)-2;for(let s=0;s<r;s+=t){let i=0;for(let n=0;n<t;n++)(s+n>=r||e.get(s+n))&&(i|=1<<t-1-n);(i&a)===a?(n.appendBits(i&a,t),s--):0===(i&a)?(n.appendBits(1|i,t),s--):n.appendBits(i,t)}return n}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}sr.DEFAULT_EC_PERCENT=33,sr.DEFAULT_AZTEC_LAYERS=0,sr.MAX_NB_BITS=32,sr.MAX_NB_BITS_COMPACT=4,sr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ir{encode(e,t,n,r){return this.encodeWithHints(e,t,n,r,null)}encodeWithHints(e,t,n,r,a){let s=Ln.ISO_8859_1,i=sr.DEFAULT_EC_PERCENT,o=sr.DEFAULT_AZTEC_LAYERS;return null!=a&&(a.has(Cn.CHARACTER_SET)&&(s=Pn.forName(a.get(Cn.CHARACTER_SET).toString())),a.has(Cn.ERROR_CORRECTION)&&(i=b.parseInt(a.get(Cn.ERROR_CORRECTION).toString())),a.has(Cn.AZTEC_LAYERS)&&(o=b.parseInt(a.get(Cn.AZTEC_LAYERS).toString()))),ir.encodeLayers(e,t,n,r,s,i,o)}static encodeLayers(e,t,n,r,a,s,i){if(t!==H.AZTEC)throw new d("Can only encode AZTEC, but got "+t);let o=sr.encode(I.getBytes(e,a),s,i);return ir.renderResult(o,n,r)}static renderResult(e,t,n){let r=e.getMatrix();if(null==r)throw new ne;let a=r.getWidth(),s=r.getHeight(),i=Math.max(t,a),o=Math.max(n,s),l=Math.min(i/a,o/s),c=(i-a*l)/2,u=(o-s*l)/2,d=new T(i,o);for(let h=0,f=u;h<s;h++,f+=l)for(let e=0,t=c;e<a;e++,t+=l)r.get(e,h)&&d.setRegion(t,f,l,l);return d}}e.AbstractExpandedDecoder=Ge,e.ArgumentException=u,e.ArithmeticException=J,e.AztecCode=Bn,e.AztecCodeReader=ye,e.AztecCodeWriter=ir,e.AztecDecoder=ae,e.AztecDetector=ge,e.AztecDetectorResult=ce,e.AztecEncoder=sr,e.AztecHighLevelEncoder=ar,e.AztecPoint=pe,e.BarcodeFormat=H,e.Binarizer=m,e.BinaryBitmap=h,e.BitArray=x,e.BitMatrix=T,e.BitSource=pt,e.BrowserAztecCodeReader=we,e.BrowserBarcodeReader=ct,e.BrowserCodeReader=F,e.BrowserDatamatrixCodeReader=xt,e.BrowserMultiFormatReader=wn,e.BrowserPDF417Reader=bn,e.BrowserQRCodeReader=xn,e.BrowserQRCodeSvgWriter=Dn,e.CharacterSetECI=E,e.ChecksumException=f,e.Code128Reader=xe,e.Code39Reader=ve,e.DataMatrixDecodedBitStreamParser=gt,e.DataMatrixReader=bt,e.DecodeHintType=C,e.DecoderResult=Z,e.DefaultGridSampler=fe,e.DetectorResult=le,e.EAN13Reader=_e,e.EncodeHintType=Cn,e.Exception=c,e.FormatException=S,e.GenericGF=ee,e.GenericGFPoly=$,e.GlobalHistogramBinarizer=D,e.GridSampler=de,e.GridSamplerInstance=me,e.HTMLCanvasElementLuminanceSource=k,e.HybridBinarizer=R,e.ITFReader=Ce,e.IllegalArgumentException=d,e.IllegalStateException=ne,e.InvertedLuminanceSource=O,e.LuminanceSource=j,e.MathUtils=se,e.MultiFormatOneDReader=lt,e.MultiFormatReader=yn,e.MultiFormatWriter=jn,e.NotFoundException=M,e.OneDReader=be,e.PDF417DecodedBitStreamParser=fn,e.PDF417DecoderErrorCorrection=Yt,e.PDF417Reader=pn,e.PDF417ResultMetadata=nn,e.PerspectiveTransform=he,e.PlanarYUVLuminanceSource=On,e.QRCodeByteMatrix=Nn,e.QRCodeDataMask=At,e.QRCodeDecodedBitStreamParser=Mt,e.QRCodeDecoderErrorCorrectionLevel=vt,e.QRCodeDecoderFormatInformation=Ct,e.QRCodeEncoder=Mn,e.QRCodeEncoderQRCode=An,e.QRCodeMaskUtil=En,e.QRCodeMatrixUtil=_n,e.QRCodeMode=Tt,e.QRCodeReader=Ft,e.QRCodeVersion=Nt,e.QRCodeWriter=Rn,e.RGBLuminanceSource=kn,e.RSS14Reader=ot,e.RSSExpandedReader=st,e.ReaderException=gn,e.ReedSolomonDecoder=re,e.ReedSolomonEncoder=Sn,e.ReedSolomonException=te,e.Result=U,e.ResultMetadataType=q,e.ResultPoint=oe,e.StringUtils=I,e.UnsupportedOperationException=N,e.VideoInputDevice=P,e.WhiteRectangleDetector=ue,e.WriterException=In,e.ZXingArrays=w,e.ZXingCharset=Pn,e.ZXingInteger=b,e.ZXingStandardCharsets=Ln,e.ZXingStringBuilder=_,e.ZXingStringEncoding=A,e.ZXingSystem=p,e.createAbstractExpandedDecoder=nt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},463:(e,t,n)=>{"use strict";var r=n(791),a=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(m,e)||!d.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,w);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,w);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,w);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,v=Symbol.for("react.element"),C=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),I=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function k(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var P,L=Object.assign;function B(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function z(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case C:return"Portal";case N:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){K(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function ve(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Se=null,Ee=null;function Ne(e){if(e=ba(e)){if("function"!==typeof Ce)throw Error(s(280));var t=e.stateNode;t&&(t=va(t),Ce(e.stateNode,e.type,t))}}function Ae(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ie(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function _e(e,t){return e(t)}function Te(){}var Me=!1;function De(e,t,n){if(Me)return e(t,n);Me=!0;try{return _e(e,t,n)}finally{Me=!1,(null!==Se||null!==Ee)&&(Te(),Ie())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=va(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var je=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){je=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){je=!1}function ke(e,t,n,r,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Pe=!1,Le=null,Be=!1,Fe=null,Ue={onError:function(e){Pe=!0,Le=e}};function ze(e,t,n,r,a,s,i,o,l){Pe=!1,Le=null,ke.apply(Ue,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return We(a),e;if(i===r)return We(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Xe=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,qe=a.unstable_shouldYield,Ze=a.unstable_requestPaint,Ke=a.unstable_now,$e=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~a;0!==o?r=dt(o):0!==(s&=i)&&(r=dt(s))}else 0!==(i=n&~a)?r=dt(i):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function wt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var vt,Ct,St,Et,Nt,At=!1,It=[],_t=null,Tt=null,Mt=null,Dt=new Map,Rt=new Map,jt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Pt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=wa(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Nt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ft(e,t,n){Bt(e)&&n.delete(t)}function Ut(){At=!1,null!==_t&&Bt(_t)&&(_t=null),null!==Tt&&Bt(Tt)&&(Tt=null),null!==Mt&&Bt(Mt)&&(Mt=null),Dt.forEach(Ft),Rt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Ht(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&zt(_t,e),null!==Tt&&zt(Tt,e),null!==Mt&&zt(Mt,e),Dt.forEach(t),Rt.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Lt(n),null===n.blockedOn&&jt.shift()}var Vt=x.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var a=bt,s=Vt.transition;Vt.transition=null;try{bt=1,Xt(e,t,n,r)}finally{bt=a,Vt.transition=s}}function Yt(e,t,n,r){var a=bt,s=Vt.transition;Vt.transition=null;try{bt=4,Xt(e,t,n,r)}finally{bt=a,Vt.transition=s}}function Xt(e,t,n,r){if(Wt){var a=qt(e,t,n,r);if(null===a)Wr(e,t,r,Qt,n),kt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return _t=Pt(_t,e,t,n,r,a),!0;case"dragenter":return Tt=Pt(Tt,e,t,n,r,a),!0;case"mouseover":return Mt=Pt(Mt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Dt.set(s,Pt(Dt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Rt.set(s,Pt(Rt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(kt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var s=ba(a);if(null!==s&&vt(s),null===(s=qt(e,t,n,r))&&Wr(e,t,r,Qt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function qt(e,t,n,r){if(Qt=null,null!==(e=wa(e=ve(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Kt=null,$t=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=$t,r=n.length,a="value"in Kt?Kt.value:Kt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),hn=an(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=an(fn),pn=an(L({},fn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),yn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(wn),xn=an(L({},cn,{data:0})),vn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Nn(){return En}var An=L({},dn,{key:function(e){if(e.key){var t=vn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(An),_n=an(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Mn=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Dn),jn=[9,13,27,32],On=u&&"CompositionEvent"in window,kn=null;u&&"documentMode"in document&&(kn=document.documentMode);var Pn=u&&"TextEvent"in window&&!kn,Ln=u&&(!On||kn&&8<kn&&11>=kn),Bn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ae(r),0<(t=Yr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Qn(e){Br(e,0)}function qn(e){if(X(xa(e)))return e}function Zn(e,t){if("change"===e)return t}var Kn=!1;if(u){var $n;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}$n=Jn}else $n=!1;Kn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Xn=Yn=null)}function nr(e){if("value"===e.propertyName&&qn(Xn)){var t=[];Gn(t,Xn,e,ve(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Xn)}function sr(e,t){if("click"===e)return qn(t)}function ir(e,t){if("input"===e||"change"===e)return qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ur(n,s);var i=ur(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,wr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&lr(wr,r)||(wr=r,0<(r=Yr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function vr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionend:vr("Transition","TransitionEnd")},Sr={},Er={};function Nr(e){if(Sr[e])return Sr[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var Ar=Nr("animationend"),Ir=Nr("animationiteration"),_r=Nr("animationstart"),Tr=Nr("transitionend"),Mr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Mr.set(e,t),l(t,[e])}for(var jr=0;jr<Dr.length;jr++){var Or=Dr[jr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Ar,"onAnimationEnd"),Rr(Ir,"onAnimationIteration"),Rr(_r,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,o,l,c){if(ze.apply(this,arguments),Pe){if(!Pe)throw Error(s(198));var u=Le;Pe=!1,Le=null,Be||(Be=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Lr(a,o,c),s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Lr(a,o,c),s=l}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fr(e,t){var n=t[pa];void 0===n&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[zr]){e[zr]=!0,i.forEach((function(t){"selectionchange"!==t&&(Pr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Zt(t)){case 1:var a=Gt;break;case 4:a=Yt;break;default:a=Xt}n=a.bind(null,t,n,e),a=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=wa(o)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}o=o.parentNode}}r=r.return}De((function(){var r=s,a=ve(n),i=[];e:{var o=Mr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Ar:case Ir:case _r:l=yn;break;case Tr:l=Mn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Re(m,h))&&u.push(Gr(m,p,f)))),d)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,a),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!wa(c)&&!c[ma])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?wa(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?o:xa(l),f=null==c?o:xa(c),(o=new u(p,m+"leave",l,n,a)).target=d,o.relatedTarget=f,p=null,wa(a)===r&&((u=new u(h,m+"enter",c,n,a)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=Xr(f))m++;for(f=0,p=h;p;p=Xr(p))f++;for(;0<m-f;)u=Xr(u),m--;for(;0<f-m;)h=Xr(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Xr(u),h=Xr(h)}u=null}else u=null;null!==l&&Qr(i,o,l,u,!1),null!==c&&null!==d&&Qr(i,d,c,u,!0)}if("select"===(l=(o=r?xa(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Zn;else if(Wn(o))if(Kn)g=ir;else{g=ar;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(i,g,n,a):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?xa(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,wr=null);break;case"focusout":wr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(i,n,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":xr(i,n,a)}var w;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(w=en()):($t="value"in(Kt=a)?Kt.value:Kt.textContent,Hn=!0)),0<(y=Yr(r,b)).length&&(b=new xn(b,e,null,n,a),i.push({event:b,listeners:y}),w?b.data=w:null!==(w=zn(n))&&(b.data=w))),(w=Pn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Jt=$t=Kt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=w))}Br(i,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Re(e,n))&&r.unshift(Gr(e,s,a)),null!=(s=Re(e,t))&&r.push(Gr(e,s,a))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Re(n,s))&&i.unshift(Gr(n,l,o)):a||null!=(l=Re(n,s))&&i.push(Gr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var qr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Kr(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace(Zr,"")}function $r(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(s(425))}function Jr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ht(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,ma="__reactContainer$"+da,pa="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function wa(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ha]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function va(e){return e[fa]||null}var Ca=[],Sa=-1;function Ea(e){return{current:e}}function Na(e){0>Sa||(e.current=Ca[Sa],Ca[Sa]=null,Sa--)}function Aa(e,t){Sa++,Ca[Sa]=e.current,e.current=t}var Ia={},_a=Ea(Ia),Ta=Ea(!1),Ma=Ia;function Da(e,t){var n=e.type.contextTypes;if(!n)return Ia;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ra(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ja(){Na(Ta),Na(_a)}function Oa(e,t,n){if(_a.current!==Ia)throw Error(s(168));Aa(_a,t),Aa(Ta,n)}function ka(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,V(e)||"Unknown",a));return L({},n,r)}function Pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ia,Ma=_a.current,Aa(_a,e),Aa(Ta,Ta.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=ka(e,t,Ma),r.__reactInternalMemoizedMergedChildContext=e,Na(Ta),Na(_a),Aa(_a,e)):Na(Ta),Aa(Ta,n)}var Ba=null,Fa=!1,Ua=!1;function za(e){null===Ba?Ba=[e]:Ba.push(e)}function Ha(){if(!Ua&&null!==Ba){Ua=!0;var e=0,t=bt;try{var n=Ba;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ba=null,Fa=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),Xe(Je,Ha),a}finally{bt=t,Ua=!1}}return null}var Va=[],Wa=0,Ga=null,Ya=0,Xa=[],Qa=0,qa=null,Za=1,Ka="";function $a(e,t){Va[Wa++]=Ya,Va[Wa++]=Ga,Ga=e,Ya=t}function Ja(e,t,n){Xa[Qa++]=Za,Xa[Qa++]=Ka,Xa[Qa++]=qa,qa=e;var r=Za;e=Ka;var a=32-it(r)-1;r&=~(1<<a),n+=1;var s=32-it(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Za=1<<32-it(t)+a|n<<a|r,Ka=s+e}else Za=1<<s|n<<a|r,Ka=e}function es(e){null!==e.return&&($a(e,1),Ja(e,1,0))}function ts(e){for(;e===Ga;)Ga=Va[--Wa],Va[Wa]=null,Ya=Va[--Wa],Va[Wa]=null;for(;e===qa;)qa=Xa[--Qa],Xa[Qa]=null,Ka=Xa[--Qa],Xa[Qa]=null,Za=Xa[--Qa],Xa[Qa]=null}var ns=null,rs=null,as=!1,ss=null;function is(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==qa?{id:Za,overflow:Ka}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&os(e,t)?is(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=ca(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ca(e.nextSibling)}function fs(){rs=ns=null,as=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var ps=x.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ys=Ea(null),ws=null,bs=null,xs=null;function vs(){xs=bs=ws=null}function Cs(e){var t=ys.current;Na(ys),e._currentValue=t}function Ss(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){ws=e,xs=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function Ns(e){var t=e._currentValue;if(xs!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===ws)throw Error(s(308));bs=e,ws.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var As=null;function Is(e){null===As?As=[e]:As.push(e)}function _s(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Is(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ts(e,r)}function Ts(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ts(e,n)}return null===(a=r.interleaved)?(t.next=t,Is(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ts(e,n)}function ks(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}function Ps(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ls(e,t,n,r){var a=e.updateQueue;Ms=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,d,h):m)||void 0===h)break e;d=L({},d,h);break e;case 2:Ms=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Ll|=i,e.lanes=i,e.memoizedState=d}}function Bs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Fs=(new r.Component).refs;function Us(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),s=js(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,a))&&(rc(t,e,a,r),ks(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),s=js(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,a))&&(rc(t,e,a,r),ks(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),a=js(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Os(e,a,r))&&(rc(t,e,r,n),ks(t,e,r))}};function Hs(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function Vs(e,t,n){var r=!1,a=Ia,s=t.contextType;return"object"===typeof s&&null!==s?s=Ns(s):(a=Ra(t)?Ma:_a.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Da(e,a):Ia),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ws(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Gs(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Fs,Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Ns(s):(s=Ra(t)?Ma:_a.current,a.context=Da(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Us(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&zs.enqueueReplaceState(a,a.state,null),Ls(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Ys(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;t===Fs&&(t=a.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Xs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function qs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Qs(s)===t.type)?((r=a(t,n.props)).ref=Ys(e,t,n),r.return=e,r):((r=kc(n.type,n.key,n.props,null,e.mode,r)).ref=Ys(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case v:return(n=kc(t.type,t.key,t.props,null,e.mode,n)).ref=Ys(e,null,t),n.return=e,n;case C:return(t=Fc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||k(t))return(t=Pc(t,e.mode,n,null)).return=e,t;Xs(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case v:return n.key===a?c(e,t,n,r):null;case C:return n.key===a?u(e,t,n,r):null;case R:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||k(n))return null!==a?null:d(e,t,n,r,null);Xs(e,n)}return null}function m(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case v:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case R:return m(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||k(r))return d(t,e=e.get(n)||null,r,a,null);Xs(t,r)}return null}function p(a,s,o,l){for(var c=null,u=null,d=s,p=s=0,g=null;null!==d&&p<o.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var y=f(a,d,o[p],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),s=i(y,s,p),null===u?c=y:u.sibling=y,u=y,d=g}if(p===o.length)return n(a,d),as&&$a(a,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(a,o[p],l))&&(s=i(d,s,p),null===u?c=d:u.sibling=d,u=d);return as&&$a(a,p),c}for(d=r(a,d);p<o.length;p++)null!==(g=m(d,a,p,o[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),s=i(g,s,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(a,e)})),as&&$a(a,p),c}function g(a,o,l,c){var u=k(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,p=o,g=o=0,y=null,w=l.next();null!==p&&!w.done;g++,w=l.next()){p.index>g?(y=p,p=null):y=p.sibling;var b=f(a,p,w.value,c);if(null===b){null===p&&(p=y);break}e&&p&&null===b.alternate&&t(a,p),o=i(b,o,g),null===d?u=b:d.sibling=b,d=b,p=y}if(w.done)return n(a,p),as&&$a(a,g),u;if(null===p){for(;!w.done;g++,w=l.next())null!==(w=h(a,w.value,c))&&(o=i(w,o,g),null===d?u=w:d.sibling=w,d=w);return as&&$a(a,g),u}for(p=r(a,p);!w.done;g++,w=l.next())null!==(w=m(p,a,g,w.value,c))&&(e&&null!==w.alternate&&p.delete(null===w.key?g:w.key),o=i(w,o,g),null===d?u=w:d.sibling=w,d=w);return e&&p.forEach((function(e){return t(a,e)})),as&&$a(a,g),u}return function e(r,s,i,l){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case v:e:{for(var c=i.key,u=s;null!==u;){if(u.key===c){if((c=i.type)===S){if(7===u.tag){n(r,u.sibling),(s=a(u,i.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qs(c)===u.type){n(r,u.sibling),(s=a(u,i.props)).ref=Ys(r,u,i),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===S?((s=Pc(i.props.children,r.mode,l,i.key)).return=r,r=s):((l=kc(i.type,i.key,i.props,null,r.mode,l)).ref=Ys(r,s,i),l.return=r,r=l)}return o(r);case C:e:{for(u=i.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(i,r.mode,l)).return=r,r=s}return o(r);case R:return e(r,s,(u=i._init)(i._payload),l)}if(te(i))return p(r,s,i,l);if(k(i))return g(r,s,i,l);Xs(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,i)).return=r,r=s):(n(r,s),(s=Bc(i,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Zs=qs(!0),Ks=qs(!1),$s={},Js=Ea($s),ei=Ea($s),ti=Ea($s);function ni(e){if(e===$s)throw Error(s(174));return e}function ri(e,t){switch(Aa(ti,t),Aa(ei,e),Aa(Js,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Na(Js),Aa(Js,t)}function ai(){Na(Js),Na(ei),Na(ti)}function si(e){ni(ti.current);var t=ni(Js.current),n=le(t,e.type);t!==n&&(Aa(ei,e),Aa(Js,n))}function ii(e){ei.current===e&&(Na(Js),Na(ei))}var oi=Ea(0);function li(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ci=[];function ui(){for(var e=0;e<ci.length;e++)ci[e]._workInProgressVersionPrimary=null;ci.length=0}var di=x.ReactCurrentDispatcher,hi=x.ReactCurrentBatchConfig,fi=0,mi=null,pi=null,gi=null,yi=!1,wi=!1,bi=0,xi=0;function vi(){throw Error(s(321))}function Ci(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function Si(e,t,n,r,a,i){if(fi=i,mi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,di.current=null===e||null===e.memoizedState?io:oo,e=n(r,a),wi){i=0;do{if(wi=!1,bi=0,25<=i)throw Error(s(301));i+=1,gi=pi=null,t.updateQueue=null,di.current=lo,e=n(r,a)}while(wi)}if(di.current=so,t=null!==pi&&null!==pi.next,fi=0,gi=pi=mi=null,yi=!1,t)throw Error(s(300));return e}function Ei(){var e=0!==bi;return bi=0,e}function Ni(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===gi?mi.memoizedState=gi=e:gi=gi.next=e,gi}function Ai(){if(null===pi){var e=mi.alternate;e=null!==e?e.memoizedState:null}else e=pi.next;var t=null===gi?mi.memoizedState:gi.next;if(null!==t)gi=t,pi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(pi=e).memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},null===gi?mi.memoizedState=gi=e:gi=gi.next=e}return gi}function Ii(e,t){return"function"===typeof t?t(e):t}function _i(e){var t=Ai(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=pi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((fi&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,mi.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=l,or(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,mi.lanes|=i,Ll|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ti(e){var t=Ai(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);or(i,t.memoizedState)||(xo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Mi(){}function Di(e,t){var n=mi,r=Ai(),a=t(),i=!or(r.memoizedState,a);if(i&&(r.memoizedState=a,xo=!0),r=r.queue,Vi(Oi.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==gi&&1&gi.memoizedState.tag){if(n.flags|=2048,Bi(9,ji.bind(null,n,r,a,t),void 0,null),null===Ml)throw Error(s(349));0!==(30&fi)||Ri(n,t,a)}return a}function Ri(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ji(e,t,n,r){t.value=n,t.getSnapshot=r,ki(t)&&Pi(e)}function Oi(e,t,n){return n((function(){ki(t)&&Pi(e)}))}function ki(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Pi(e){var t=Ts(e,1);null!==t&&rc(t,e,1,-1)}function Li(e){var t=Ni();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,mi,e),[t.memoizedState,e]}function Bi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fi(){return Ai().memoizedState}function Ui(e,t,n,r){var a=Ni();mi.flags|=e,a.memoizedState=Bi(1|t,n,void 0,void 0===r?null:r)}function zi(e,t,n,r){var a=Ai();r=void 0===r?null:r;var s=void 0;if(null!==pi){var i=pi.memoizedState;if(s=i.destroy,null!==r&&Ci(r,i.deps))return void(a.memoizedState=Bi(t,n,s,r))}mi.flags|=e,a.memoizedState=Bi(1|t,n,s,r)}function Hi(e,t){return Ui(8390656,8,e,t)}function Vi(e,t){return zi(2048,8,e,t)}function Wi(e,t){return zi(4,2,e,t)}function Gi(e,t){return zi(4,4,e,t)}function Yi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zi(4,4,Yi.bind(null,t,e),n)}function Qi(){}function qi(e,t){var n=Ai();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ci(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zi(e,t){var n=Ai();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ci(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ki(e,t,n){return 0===(21&fi)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(or(n,t)||(n=pt(),mi.lanes|=n,Ll|=n,e.baseState=!0),t)}function $i(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=hi.transition;hi.transition={};try{e(!1),t()}finally{bt=n,hi.transition=r}}function Ji(){return Ai().memoizedState}function eo(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=_s(e,t,n,r))){rc(n,e,r,tc()),ao(n,t,r)}}function to(e,t,n){var r=nc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(a.next=a,Is(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=_s(e,t,a,r))&&(rc(n,e,r,a=tc()),ao(n,t,r))}}function no(e){var t=e.alternate;return e===mi||null!==t&&t===mi}function ro(e,t){wi=yi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ao(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}var so={readContext:Ns,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useInsertionEffect:vi,useLayoutEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useMutableSource:vi,useSyncExternalStore:vi,useId:vi,unstable_isNewReconciler:!1},io={readContext:Ns,useCallback:function(e,t){return Ni().memoizedState=[e,void 0===t?null:t],e},useContext:Ns,useEffect:Hi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ui(4194308,4,Yi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ui(4,2,e,t)},useMemo:function(e,t){var n=Ni();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ni();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,mi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ni().memoizedState=e},useState:Li,useDebugValue:Qi,useDeferredValue:function(e){return Ni().memoizedState=e},useTransition:function(){var e=Li(!1),t=e[0];return e=$i.bind(null,e[1]),Ni().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mi,a=Ni();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ml)throw Error(s(349));0!==(30&fi)||Ri(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Hi(Oi.bind(null,r,i,e),[e]),r.flags|=2048,Bi(9,ji.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ni(),t=Ml.identifierPrefix;if(as){var n=Ka;t=":"+t+"R"+(n=(Za&~(1<<32-it(Za)-1)).toString(32)+n),0<(n=bi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Ns,useCallback:qi,useContext:Ns,useEffect:Vi,useImperativeHandle:Xi,useInsertionEffect:Wi,useLayoutEffect:Gi,useMemo:Zi,useReducer:_i,useRef:Fi,useState:function(){return _i(Ii)},useDebugValue:Qi,useDeferredValue:function(e){return Ki(Ai(),pi.memoizedState,e)},useTransition:function(){return[_i(Ii)[0],Ai().memoizedState]},useMutableSource:Mi,useSyncExternalStore:Di,useId:Ji,unstable_isNewReconciler:!1},lo={readContext:Ns,useCallback:qi,useContext:Ns,useEffect:Vi,useImperativeHandle:Xi,useInsertionEffect:Wi,useLayoutEffect:Gi,useMemo:Zi,useReducer:Ti,useRef:Fi,useState:function(){return Ti(Ii)},useDebugValue:Qi,useDeferredValue:function(e){var t=Ai();return null===pi?t.memoizedState=e:Ki(t,pi.memoizedState,e)},useTransition:function(){return[Ti(Ii)[0],Ai().memoizedState]},useMutableSource:Mi,useSyncExternalStore:Di,useId:Ji,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,n){(n=js(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Yl=r),ho(0,t)},n}function po(e,t,n){(n=js(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function wo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=js(-1,1)).tag=2,Os(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bo=x.ReactCurrentOwner,xo=!1;function vo(e,t,n,r){t.child=null===e?Ks(t,null,n,r):Zs(t,e.child,n,r)}function Co(e,t,n,r,a){n=n.render;var s=t.ref;return Es(t,a),r=Si(e,t,n,r,s,a),n=Ei(),null===e||xo?(as&&n&&es(t),t.flags|=1,vo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Go(e,t,a))}function So(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||jc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=kc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Eo(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Go(e,t,a)}return t.flags|=1,(e=Oc(s,r)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Go(e,t,a);0!==(131072&e.flags)&&(xo=!0)}}return Io(e,t,n,r,a)}function No(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Aa(Ol,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Aa(Ol,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Aa(Ol,jl),jl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Aa(Ol,jl),jl|=r;return vo(e,t,a,n),t.child}function Ao(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Io(e,t,n,r,a){var s=Ra(n)?Ma:_a.current;return s=Da(t,s),Es(t,a),n=Si(e,t,n,r,s,a),r=Ei(),null===e||xo?(as&&r&&es(t),t.flags|=1,vo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Go(e,t,a))}function _o(e,t,n,r,a){if(Ra(n)){var s=!0;Pa(t)}else s=!1;if(Es(t,a),null===t.stateNode)Wo(e,t),Vs(t,n,r),Gs(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ns(c):c=Da(t,c=Ra(n)?Ma:_a.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&Ws(t,i,r,c),Ms=!1;var h=t.memoizedState;i.state=h,Ls(t,r,i,a),l=t.memoizedState,o!==r||h!==l||Ta.current||Ms?("function"===typeof u&&(Us(t,n,u,r),l=t.memoizedState),(o=Ms||Hs(t,n,o,r,h,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Rs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:gs(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ns(l):l=Da(t,l=Ra(n)?Ma:_a.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&Ws(t,i,r,l),Ms=!1,h=t.memoizedState,i.state=h,Ls(t,r,i,a);var m=t.memoizedState;o!==d||h!==m||Ta.current||Ms?("function"===typeof f&&(Us(t,n,f,r),m=t.memoizedState),(c=Ms||Hs(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,s,a)}function To(e,t,n,r,a,s){Ao(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&La(t,n,!1),Go(e,t,s);r=t.stateNode,bo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Zs(t,e.child,null,s),t.child=Zs(t,null,o,s)):vo(e,t,o,s),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Mo(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),ri(e,t.containerInfo)}function Do(e,t,n,r,a){return fs(),ms(a),t.flags|=256,vo(e,t,n,r),t.child}var Ro,jo,Oo,ko,Po={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bo(e,t,n){var r,a=t.pendingProps,i=oi.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Aa(oi,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,a,0,null),e=Pc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Po,e):Fo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Lc({mode:"visible",children:r.children},a,0,null),(i=Pc(i,a,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&Zs(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Po,i);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=uo(i=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(r=Ml)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Ts(e,a),rc(r,e,a,-1))}return gc(),Uo(e,t,o,r=uo(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Xa[Qa++]=Za,Xa[Qa++]=Ka,Xa[Qa++]=qa,Za=e.id,Ka=e.overflow,qa=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(o){o=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Oc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Oc(r,o):(o=Pc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Po,a}return e=(o=e.child).sibling,a=Oc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&ms(r),Zs(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ss(e.return,t,n)}function Ho(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Vo(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(vo(e,t,r.children,n),0!==(2&(r=oi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Aa(oi,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===li(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ho(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===li(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ho(t,!0,n,null,s);break;case"together":Ho(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Go(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xo(t),null;case 1:case 17:return Ra(t.type)&&ja(),Xo(t),null;case 3:return r=t.stateNode,ai(),Na(Ta),Na(_a),ui(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),jo(e,t),Xo(t),null;case 5:ii(t);var a=ni(ti.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Xo(t),null}if(e=ni(Js.current),ds(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ha]=t,r[fa]=i,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<kr.length;a++)Fr(kr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Z(r,i),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fr("invalid",r);break;case"textarea":ae(r,i),Fr("invalid",r)}for(var l in we(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&$r(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&$r(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":Y(r),J(r,i,!0);break;case"textarea":Y(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Jr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<kr.length;a++)Fr(kr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":Z(e,r),a=q(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(i in we(n,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Fr("scroll",e):null!=u&&b(e,i,u,l))}switch(n){case"input":Y(e),J(e,r,!1);break;case"textarea":Y(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xo(t),null;case 6:if(e&&null!=t.stateNode)ko(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=ni(ti.current),ni(Js.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(i=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Xo(t),null;case 13:if(Na(oi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,i=!1;else if(i=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xo(t),i=!1}else null!==ss&&(oc(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oi.current)?0===kl&&(kl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Xo(t),null);case 4:return ai(),jo(e,t),null===e&&Hr(t.stateNode.containerInfo),Xo(t),null;case 10:return Cs(t.type._context),Xo(t),null;case 19:if(Na(oi),null===(i=t.memoizedState))return Xo(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Yo(i,!1);else{if(0!==kl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=li(e))){for(t.flags|=128,Yo(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Aa(oi,1&oi.current|2),t.child}e=e.sibling}null!==i.tail&&Ke()>Vl&&(t.flags|=128,r=!0,Yo(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=li(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Yo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!as)return Xo(t),null}else 2*Ke()-i.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Yo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ke(),t.sibling=null,n=oi.current,Aa(oi,r?1&n|2:1&n),t):(Xo(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(Xo(t),6&t.subtreeFlags&&(t.flags|=8192)):Xo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function qo(e,t){switch(ts(t),t.tag){case 1:return Ra(t.type)&&ja(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ai(),Na(Ta),Na(_a),ui(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ii(t),null;case 13:if(Na(oi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Na(oi),null;case 4:return ai(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},jo=function(){},Oo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ni(Js.current);var s,i=null;switch(n){case"input":a=q(e,a),r=q(e,r),i=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in we(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},ko=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zo=!1,Ko=!1,$o="function"===typeof WeakSet?WeakSet:Set,Jo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Nc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&tl(t,n,s)}a=a.next}while(a!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[pa],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Ko||el(n,t);case 6:var r=dl,a=hl;dl=null,fl(e,t,n),hl=a,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Ht(e)):la(dl,n.stateNode));break;case 4:r=dl,a=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=a;break;case 0:case 11:case 14:case 15:if(!Ko&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&tl(n,t,i),a=a.next}while(a!==r)}fl(e,t,n);break;case 1:if(!Ko&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nc(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ko=(r=Ko)||null!==n.memoizedState,fl(e,t,n),Ko=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));ml(i,o,a),dl=null,hl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Nc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),wl(e),4&r){try{rl(3,e,e.return),al(3,e)}catch(g){Nc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:gl(t,e),wl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),wl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Nc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&K(a,i),be(l,o);var u=be(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,u)}switch(l){case"input":$(a,i);break;case"textarea":se(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?ne(a,!!i.multiple,m,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(g){Nc(e,e.return,g)}}break;case 6:if(gl(t,e),wl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Nc(e,e.return,g)}}break;case 3:if(gl(t,e),wl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:gl(t,e),wl(e);break;case 13:gl(t,e),wl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Hl=Ke())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ko=(u=Ko)||d,gl(t,e),Ko=u):gl(t,e),wl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Jo=e,d=e.child;null!==d;){for(h=Jo=d;null!==Jo;){switch(m=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Nc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Cl(h);continue}}null!==m?(m.return=f,Jo=m):Cl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){Nc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),wl(e),4&r&&pl(e);case 21:}}function wl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),ul(e,ll(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;cl(e,ll(e),i);break;default:throw Error(s(161))}}catch(o){Nc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Jo=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var a=Jo,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Zo;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Ko;o=Zo;var c=Ko;if(Zo=i,(Ko=l)&&!c)for(Jo=a;null!==Jo;)l=(i=Jo).child,22===i.tag&&null!==i.memoizedState?Sl(a):null!==l?(l.return=i,Jo=l):Sl(a);for(;null!==s;)Jo=s,xl(s,t,n),s=s.sibling;Jo=a,Zo=o,Ko=c}vl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Jo=s):vl(e)}}function vl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ko||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ko)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Bs(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(s(163))}Ko||512&t.flags&&sl(t)}catch(f){Nc(t,t.return,f)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function Cl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function Sl(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Nc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Nc(t,a,l)}}var s=t.return;try{sl(t)}catch(l){Nc(t,s,l)}break;case 5:var i=t.return;try{sl(t)}catch(l){Nc(t,i,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var El,Nl=Math.ceil,Al=x.ReactCurrentDispatcher,Il=x.ReactCurrentOwner,_l=x.ReactCurrentBatchConfig,Tl=0,Ml=null,Dl=null,Rl=0,jl=0,Ol=Ea(0),kl=0,Pl=null,Ll=0,Bl=0,Fl=0,Ul=null,zl=null,Hl=0,Vl=1/0,Wl=null,Gl=!1,Yl=null,Xl=null,Ql=!1,ql=null,Zl=0,Kl=0,$l=null,Jl=-1,ec=0;function tc(){return 0!==(6&Tl)?Ke():-1!==Jl?Jl:Jl=Ke()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Rl?Rl&-Rl:null!==ps.transition?(0===ec&&(ec=pt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function rc(e,t,n,r){if(50<Kl)throw Kl=0,$l=null,Error(s(185));yt(e,n,r),0!==(2&Tl)&&e===Ml||(e===Ml&&(0===(2&Tl)&&(Bl|=n),4===kl&&lc(e,Rl)),ac(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Vl=Ke()+500,Fa&&Ha()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Ml?Rl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fa=!0,za(e)}(cc.bind(null,e)):za(cc.bind(null,e)),ia((function(){0===(6&Tl)&&Ha()})),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Mc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Jl=-1,ec=0,0!==(6&Tl))throw Error(s(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ml?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var a=Tl;Tl|=2;var i=pc();for(Ml===e&&Rl===t||(Wl=null,Vl=Ke()+500,fc(e,t));;)try{bc();break}catch(l){mc(e,l)}vs(),Al.current=i,Tl=a,null!==Dl?t=0:(Ml=null,Rl=0,t=kl)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(r=a,t=ic(e,a))),1===t)throw n=Pl,fc(e,0),lc(e,r),ac(e,Ke()),n;if(6===t)lc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!or(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=yc(e,r))&&(0!==(i=mt(e))&&(r=i,t=ic(e,i))),1===t))throw n=Pl,fc(e,0),lc(e,r),ac(e,Ke()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Cc(e,zl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Hl+500-Ke())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(Cc.bind(null,e,zl,Wl),t);break}Cc(e,zl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>a&&(a=o),r&=~i}if(r=a,10<(r=(120>(r=Ke()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=ra(Cc.bind(null,e,zl,Wl),r);break}Cc(e,zl,Wl);break;default:throw Error(s(329))}}}return ac(e,Ke()),e.callbackNode===n?sc.bind(null,e):null}function ic(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Fl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Tl))throw Error(s(327));Sc();var t=ht(e,0);if(0===(1&t))return ac(e,Ke()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Pl,fc(e,0),lc(e,t),ac(e,Ke()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cc(e,zl,Wl),ac(e,Ke()),null}function uc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Vl=Ke()+500,Fa&&Ha())}}function dc(e){null!==ql&&0===ql.tag&&0===(6&Tl)&&Sc();var t=Tl;Tl|=1;var n=_l.transition,r=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=r,_l.transition=n,0===(6&(Tl=t))&&Ha()}}function hc(){jl=Ol.current,Na(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ja();break;case 3:ai(),Na(Ta),Na(_a),ui();break;case 5:ii(r);break;case 4:ai();break;case 13:case 19:Na(oi);break;case 10:Cs(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ml=e,Dl=e=Oc(e.current,null),Rl=jl=t,kl=0,Pl=null,Fl=Bl=Ll=0,zl=Ul=null,null!==As){for(t=0;t<As.length;t++)if(null!==(r=(n=As[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}As=null}return e}function mc(e,t){for(;;){var n=Dl;try{if(vs(),di.current=so,yi){for(var r=mi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yi=!1}if(fi=0,gi=pi=mi=null,wi=!1,bi=0,Il.current=null,null===n||null===n.return){kl=1,Pl=t,Dl=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=yo(o);if(null!==m){m.flags&=-257,wo(m,o,l,0,t),1&m.mode&&go(i,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){go(i,u,t),gc();break e}c=Error(s(426))}else if(as&&1&l.mode){var y=yo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),wo(y,o,l,0,t),ms(co(c,l));break e}}i=c=co(c,l),4!==kl&&(kl=2),null===Ul?Ul=[i]:Ul.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ps(i,mo(0,c,t));break e;case 1:l=c;var w=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof w.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xl||!Xl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Ps(i,po(i,l,t));break e}}i=i.return}while(null!==i)}vc(n)}catch(x){t=x,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function pc(){var e=Al.current;return Al.current=so,null===e?so:e}function gc(){0!==kl&&3!==kl&&2!==kl||(kl=4),null===Ml||0===(268435455&Ll)&&0===(268435455&Bl)||lc(Ml,Rl)}function yc(e,t){var n=Tl;Tl|=2;var r=pc();for(Ml===e&&Rl===t||(Wl=null,fc(e,t));;)try{wc();break}catch(a){mc(e,a)}if(vs(),Tl=n,Al.current=r,null!==Dl)throw Error(s(261));return Ml=null,Rl=0,kl}function wc(){for(;null!==Dl;)xc(Dl)}function bc(){for(;null!==Dl&&!qe();)xc(Dl)}function xc(e){var t=El(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?vc(e):Dl=t,Il.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,jl)))return void(Dl=n)}else{if(null!==(n=qo(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return kl=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===kl&&(kl=5)}function Cc(e,t,n){var r=bt,a=_l.transition;try{_l.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==ql);if(0!==(6&Tl))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,i),e===Ml&&(Dl=Ml=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Mc(tt,(function(){return Sc(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=_l.transition,_l.transition=null;var o=bt;bt=1;var l=Tl;Tl|=4,Il.current=null,function(e,t){if(ea=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(v){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Wt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,y=p.memoizedState,w=t.stateNode,b=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),y);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(v){Nc(t,t.return,v)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}p=nl,nl=!1}(e,n),yl(n,e),mr(ta),Wt=!!ea,ta=ea=null,e.current=n,bl(n,e,a),Ze(),Tl=l,bt=o,_l.transition=i}else e.current=n;if(Ql&&(Ql=!1,ql=e,Zl=a),i=e.pendingLanes,0===i&&(Xl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Ke()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Gl)throw Gl=!1,e=Yl,Yl=null,e;0!==(1&Zl)&&0!==e.tag&&Sc(),i=e.pendingLanes,0!==(1&i)?e===$l?Kl++:(Kl=0,$l=e):Kl=0,Ha()}(e,t,n,r)}finally{_l.transition=a,bt=r}return null}function Sc(){if(null!==ql){var e=xt(Zl),t=_l.transition,n=bt;try{if(_l.transition=null,bt=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Zl=0,0!==(6&Tl))throw Error(s(331));var a=Tl;for(Tl|=4,Jo=e.current;null!==Jo;){var i=Jo,o=i.child;if(0!==(16&Jo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var d=Jo;switch(d.tag){case 0:case 11:case 15:rl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Jo=h;else for(;null!==Jo;){var f=(d=Jo).sibling,m=d.return;if(il(d),d===u){Jo=null;break}if(null!==f){f.return=m,Jo=f;break}Jo=m}}}var p=i.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Jo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(i=Jo).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var w=i.sibling;if(null!==w){w.return=i.return,Jo=w;break e}Jo=i.return}}var b=e.current;for(Jo=b;null!==Jo;){var x=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Jo=x;else e:for(o=b;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(C){Nc(l,l.return,C)}if(l===o){Jo=null;break e}var v=l.sibling;if(null!==v){v.return=l.return,Jo=v;break e}Jo=l.return}}if(Tl=a,Ha(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(C){}r=!0}return r}finally{bt=n,_l.transition=t}}return!1}function Ec(e,t,n){e=Os(e,t=mo(0,t=co(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ac(e,t))}function Nc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){t=Os(t,e=po(t,e=co(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ac(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Rl&n)===n&&(4===kl||3===kl&&(130023424&Rl)===Rl&&500>Ke()-Hl?fc(e,0):Fl|=n),ac(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ts(e,t))&&(yt(e,t,n),ac(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ic(e,n)}function Mc(e,t){return Xe(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Dc(e,t,n,r)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function kc(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)jc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Pc(n.children,a,i,t);case E:o=8,a|=8;break;case N:return(e=Rc(12,n,t,2|a)).elementType=N,e.lanes=i,e;case T:return(e=Rc(13,n,t,a)).elementType=T,e.lanes=i,e;case M:return(e=Rc(19,n,t,a)).elementType=M,e.lanes=i,e;case j:return Lc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:o=10;break e;case I:o=9;break e;case _:o=11;break e;case D:o=14;break e;case R:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Pc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,a,s,i,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function Hc(e){if(!e)return Ia;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ra(n))return ka(e,n,t)}return t}function Vc(e,t,n,r,a,s,i,o,l){return(e=zc(n,r,!0,e,0,s,0,o,l)).context=Hc(null),n=e.current,(s=js(r=tc(),a=nc(n))).callback=void 0!==t&&null!==t?t:null,Os(n,s,a),e.current.lanes=a,yt(e,a,r),ac(e,r),e}function Wc(e,t,n,r){var a=t.current,s=tc(),i=nc(a);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=js(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Os(a,t,i))&&(rc(e,a,i,s),ks(e,a,i)),i}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:Mo(t),fs();break;case 5:si(t);break;case 1:Ra(t.type)&&Pa(t);break;case 4:ri(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Aa(ys,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Aa(oi,1&oi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(Aa(oi,1&oi.current),null!==(e=Go(e,t,n))?e.sibling:null);Aa(oi,1&oi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Aa(oi,oi.current),r)break;return null;case 22:case 23:return t.lanes=0,No(e,t,n)}return Go(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,as&&0!==(1048576&t.flags)&&Ja(t,Ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var a=Da(t,_a.current);Es(t,n),a=Si(null,t,r,e,a,n);var i=Ei();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ra(r)?(i=!0,Pa(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ds(t),a.updater=zs,t.stateNode=a,a._reactInternals=t,Gs(t,r,e,n),t=To(null,t,r,!0,i,n)):(t.tag=0,as&&i&&es(t),vo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===D)return 14}return 2}(r),e=gs(r,e),a){case 0:t=Io(null,t,r,e,n);break e;case 1:t=_o(null,t,r,e,n);break e;case 11:t=Co(null,t,r,e,n);break e;case 14:t=So(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Io(e,t,r,a=t.elementType===r?a:gs(r,a),n);case 1:return r=t.type,a=t.pendingProps,_o(e,t,r,a=t.elementType===r?a:gs(r,a),n);case 3:e:{if(Mo(t),null===e)throw Error(s(387));r=t.pendingProps,a=(i=t.memoizedState).element,Rs(e,t),Ls(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Do(e,t,r,n,a=co(Error(s(423)),t));break e}if(r!==a){t=Do(e,t,r,n,a=co(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=Ks(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=Go(e,t,n);break e}vo(e,t,r,n)}t=t.child}return t;case 5:return si(t),null===e&&cs(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==i&&na(r,i)&&(t.flags|=32),Ao(e,t),vo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Bo(e,t,n);case 4:return ri(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Zs(t,null,r,n):vo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Co(e,t,r,a=t.elementType===r?a:gs(r,a),n);case 7:return vo(e,t,t.pendingProps,n),t.child;case 8:case 12:return vo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Aa(ys,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===a.children&&!Ta.current){t=Go(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=js(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ss(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ss(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}vo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Es(t,n),r=r(a=Ns(a)),t.flags|=1,vo(e,t,r,n),t.child;case 14:return a=gs(r=t.type,t.pendingProps),So(e,t,r,a=gs(r.type,a),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:gs(r,a),Wo(e,t),t.tag=1,Ra(r)?(e=!0,Pa(t)):e=!1,Es(t,n),Vs(t,r,a),Gs(t,r,a,n),To(null,t,r,!0,e,n);case 19:return Vo(e,t,n);case 22:return No(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Zc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eu(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=Gc(i);o.call(e)}}Wc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Gc(i);s.call(e)}}var i=Vc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[ma]=i.current,Hr(8===e.nodeType?e.parentNode:e),dc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Gc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[ma]=l.current,Hr(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,l,n,r)})),l}(n,t,e,a,r);return Gc(i)}Zc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Zc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[ma]=null}},Zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Lt(e)}},vt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(wt(t,1|n),ac(t,Ke()),0===(6&Tl)&&(Vl=Ke()+500,Ha()))}break;case 13:dc((function(){var t=Ts(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Xc(e,1)}},Ct=function(e){if(13===e.tag){var t=Ts(e,134217728);if(null!==t)rc(t,e,134217728,tc());Xc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Ts(e,t);if(null!==n)rc(n,e,t,tc());Xc(e,t)}},Et=function(){return bt},Nt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ce=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=va(r);if(!a)throw Error(s(90));X(r),$(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=uc,Te=dc;var tu={usingClientEntryPoint:!1,Events:[ba,xa,va,Ae,Ie,uc]},nu={findFiberByHostInstance:wa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{at=au.inject(ru),st=au}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(s(299));var n=!1,r="",a=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,a),e[ma]=t.current,Hr(8===e.nodeType?e.parentNode:e),new qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,a,0,i,o),e[ma]=t.current,Hr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Zc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[ma]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,p=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,w=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case s:case o:case i:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case p:case l:return e;default:return t}}case a:return t}}}function C(e){return v(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=s,t.Lazy=g,t.Memo=p,t.Portal=a,t.Profiler=o,t.StrictMode=i,t.Suspense=f,t.isAsyncMode=function(e){return C(e)||v(e)===u},t.isConcurrentMode=C,t.isContextConsumer=function(e){return v(e)===c},t.isContextProvider=function(e){return v(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return v(e)===h},t.isFragment=function(e){return v(e)===s},t.isLazy=function(e){return v(e)===g},t.isMemo=function(e){return v(e)===p},t.isPortal=function(e){return v(e)===a},t.isProfiler=function(e){return v(e)===o},t.isStrictMode=function(e){return v(e)===i},t.isSuspense=function(e){return v(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===d||e===o||e===i||e===f||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===p||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===w||e.$$typeof===b||e.$$typeof===x||e.$$typeof===y)},t.typeOf=v},441:(e,t,n)=>{"use strict";e.exports=n(372)},459:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case s:case o:case i:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case p:case m:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference")},900:(e,t,n)=>{"use strict";n(459)},97:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var r=n("react"),a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function o(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var l=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return a(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,o()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(o()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),a=e.minScreenshotWidth!==t.minScreenshotWidth,s=e.minScreenshotHeight!==t.minScreenshotHeight;(r||a||s)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().map((function(t){e.removeTrack(t),t.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,a=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var s=r/a;a=(r=n.minScreenshotWidth||this.video.clientWidth)/s,n.minScreenshotHeight&&a<n.minScreenshotHeight&&(r=(a=n.minScreenshotHeight)*s)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||r,this.canvas.height=(null===e||void 0===e?void 0:e.height)||a,this.ctx=this.canvas.getContext("2d")}var i=this.ctx,o=this.canvas;return i&&o&&(o.width=(null===e||void 0===e?void 0:e.width)||o.width,o.height=(null===e||void 0===e?void 0:e.height)||o.height,n.mirrored&&(i.translate(o.width,0),i.scale(-1,1)),i.imageSmoothingEnabled=n.imageSmoothing,i.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||o.width,(null===e||void 0===e?void 0:e.height)||o.height),n.mirrored&&(i.scale(-1,1),i.translate(-o.width,0))),o},t.prototype.requestUserMedia=function(){var e=this,n=this.props,r=function(r,a){var s={video:"undefined"===typeof a||a};n.audio&&(s.audio="undefined"===typeof r||r),e.requestUserMediaId++;var i=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(s).then((function(n){e.unmounted||i!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var a=function(e){return{optional:[{sourceId:e}]}},s=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,i=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(i=e.id)}));var o=s(n.audioConstraints);o&&(t=o);var l=s(n.videoConstraints);l&&(i=l),r(a(t),a(i))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,a=n.audio,o=(n.forceScreenshotSourceSize,n.disablePictureInPicture),l=(n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),c=n.style,u=void 0===c?{}:c,d=n.children,h=i(n,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),f=l?s(s({},u),{transform:(u.transform||"")+" scaleX(-1)"}):u,m={getScreenshot:this.getScreenshot.bind(this)};return r.createElement(r.Fragment,null,r.createElement("video",s({autoPlay:!0,disablePictureInPicture:o,src:t.src,muted:!a,playsInline:!0,ref:function(t){e.video=t},style:f},h)),d&&d(m))},t.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(r.Component);t.default=l},react:function(t,n){t.exports=e}}).default},e.exports=r(n(791))},374:(e,t,n)=>{"use strict";var r=n(791),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function w(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=y.prototype;var x=b.prototype=new w;x.constructor=b,p(x,y.prototype),x.isPureReactComponent=!0;var v=Array.isArray,C=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)C.call(t,a)&&!E.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:S.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+_(l,0):s,v(i)?(a="",null!=e&&(a=e.replace(I,"$&/")+"/"),T(i,t,a,"",(function(e){return e}))):null!=i&&(A(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(I,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",v(e))for(var c=0;c<e.length;c++){var u=s+_(o=e[c],c);l+=T(o,t,a,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,a,u=s+_(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},j={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:j,ReactCurrentOwner:S};t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=p({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)C.call(t,c)&&!E.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function v(e){if(g=!1,x(e),!p)if(null!==r(c))p=!0,j(C);else{var t=r(u);null!==t&&O(v,t.startTime-e)}}function C(e,n){p=!1,g&&(g=!1,w(A),A=-1),m=!0;var s=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&a(c),x(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(v,d.startTime-n),l=!1}return l}finally{h=null,f=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,N=null,A=-1,I=5,_=-1;function T(){return!(t.unstable_now()-_<I)}function M(){if(null!==N){var e=t.unstable_now();_=e;var n=!0;try{n=N(!0,e)}finally{n?S():(E=!1,N=null)}}else E=!1}if("function"===typeof b)S=function(){b(M)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=M,S=function(){R.postMessage(null)}}else S=function(){y(M,0)};function j(e){N=e,E||(E=!0,S())}function O(e,n){A=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,j(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(w(A),A=-1):g=!0,O(v,s-i))):(e.sortIndex=o,n(c,e),p||m||(p=!0,j(C))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},561:(e,t,n)=>{"use strict";var r=n(791);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useState,i=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return o((function(){a.value=n,a.getSnapshot=t,c(a)&&u({inst:a})}),[e,n,t]),i((function(){return c(a)&&u({inst:a}),e((function(){c(a)&&u({inst:a})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},595:(e,t,n)=>{"use strict";var r=n(791),a=n(248);var s="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=a.useSyncExternalStore,o=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function e(e){if(!l){if(l=!0,i=e,e=r(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return o=t}return o=e}if(t=o,s(i,e))return t;var n=r(e);return void 0!==a&&a(t,n)?t:(i=e,o=n)}var i,o,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,a]);var f=i(e,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=f}),[f]),u(f),f}},248:(e,t,n)=>{"use strict";e.exports=n(561)},327:(e,t,n)=>{"use strict";e.exports=n(595)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(s,i),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Or,hasStandardBrowserEnv:()=>kr,hasStandardBrowserWebWorkerEnv:()=>Lr});var t=n(791),r=n.t(t,2),a=n(250),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=t.createContext&&t.createContext(s),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function c(e){return e&&e.map((function(e,n){return t.createElement(e.tag,o({key:n},e.attr),c(e.child))}))}function u(e){return function(n){return t.createElement(d,o({attr:o({},e.attr)},n),c(e.child))}}function d(e){var n=function(n){var r,a=e.attr,s=e.size,i=e.title,c=l(e,["attr","size","title"]),u=s||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,c,{className:r,style:o(o({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&t.createElement("title",null,i),e.children)};return void 0!==i?t.createElement(i.Consumer,null,(function(e){return n(e)})):n(s)}function h(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(e)}function f(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(e)}function m(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}},{tag:"polyline",attr:{points:"10 17 15 12 10 7"}},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"}}]})(e)}function p(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}},{tag:"polyline",attr:{points:"16 17 21 12 16 7"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"}}]})(e)}function g(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function y(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(e)}var w,b=n(164),x=n.t(b,2);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(w||(w={}));const C="popstate";function S(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function E(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(He){}}}function N(e,t){return{usr:e.state,key:e.key,idx:t}}function A(e,t,n,r){return void 0===n&&(n=null),v({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?_(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function I(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function _(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function T(e,t,n,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:s=!1}=r,i=a.history,o=w.Pop,l=null,c=u();function u(){return(i.state||{idx:null}).idx}function d(){o=w.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:f.location,delta:t})}function h(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:I(e);return S(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,i.replaceState(v({},i.state,{idx:c}),""));let f={get action(){return o},get location(){return e(a,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(C,d),l=e,()=>{a.removeEventListener(C,d),l=null}},createHref:e=>t(a,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=w.Push;let r=A(f.location,e,t);n&&n(r,e),c=u()+1;let d=N(r,c),h=f.createHref(r);try{i.pushState(d,"",h)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;a.location.assign(h)}s&&l&&l({action:o,location:f.location,delta:1})},replace:function(e,t){o=w.Replace;let r=A(f.location,e,t);n&&n(r,e),c=u();let a=N(r,c),d=f.createHref(r);i.replaceState(a,"",d),s&&l&&l({action:o,location:f.location,delta:0})},go:e=>i.go(e)};return f}var M;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(M||(M={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function D(e,t,n){void 0===n&&(n="/");let r=G(("string"===typeof t?_(t):t).pathname||"/",n);if(null==r)return null;let a=R(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let s=null;for(let i=0;null==s&&i<a.length;++i)s=H(a[i],W(r));return s}function R(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(S(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=q([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(S(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),R(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:z(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of j(e.path))a(e,t,r);else a(e,t)})),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=j(r.join("/")),o=[];return o.push(...i.map((e=>""===e?s:[s,e].join("/")))),a&&o.push(...i),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const O=/^:\w+$/,k=3,P=2,L=1,B=10,F=-2,U=e=>"*"===e;function z(e,t){let n=e.split("/"),r=n.length;return n.some(U)&&(r+=F),t&&(r+=P),n.filter((e=>!U(e))).reduce(((e,t)=>e+(O.test(t)?k:""===t?L:B)),r)}function H(e,t){let{routesMeta:n}=e,r={},a="/",s=[];for(let i=0;i<n.length;++i){let e=n[i],o=i===n.length-1,l="/"===a?t:t.slice(a.length)||"/",c=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:q([a,c.pathname]),pathnameBase:Z(q([a,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(a=q([a,c.pathnameBase]))}return s}function V(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);E("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return E(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:s,pathnameBase:i,pattern:e}}function W(e){try{return decodeURI(e)}catch(t){return E(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function G(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Y(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function X(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Q(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=_(e):(a=v({},e),S(!a.pathname||!a.pathname.includes("?"),Y("?","pathname","search",a)),S(!a.pathname||!a.pathname.includes("#"),Y("#","pathname","hash",a)),S(!a.search||!a.search.includes("#"),Y("#","search","hash",a)));let s,i=""===e||""===a.pathname,o=i?"/":a.pathname;if(null==o)s=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e.pop();a.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?_(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:K(r),hash:$(a)}}(a,s),c=o&&"/"!==o&&o.endsWith("/"),u=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const q=e=>e.join("/").replace(/\/\/+/g,"/"),Z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const ee=["post","put","patch","delete"],te=(new Set(ee),["get",...ee]);new Set(te),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}const re=t.createContext(null);const ae=t.createContext(null);const se=t.createContext(null);const ie=t.createContext(null);const oe=t.createContext({outlet:null,matches:[],isDataRoute:!1});const le=t.createContext(null);function ce(){return null!=t.useContext(ie)}function ue(){return ce()||S(!1),t.useContext(ie).location}function de(e){t.useContext(se).static||t.useLayoutEffect(e)}function he(){let{isDataRoute:e}=t.useContext(oe);return e?function(){let{router:e}=Ce(xe.UseNavigateStable),n=Ee(ve.UseNavigateStable),r=t.useRef(!1);return de((()=>{r.current=!0})),t.useCallback((function(t,a){void 0===a&&(a={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,ne({fromRouteId:n},a)))}),[e,n])}():function(){ce()||S(!1);let e=t.useContext(re),{basename:n,navigator:r}=t.useContext(se),{matches:a}=t.useContext(oe),{pathname:s}=ue(),i=JSON.stringify(X(a).map((e=>e.pathnameBase))),o=t.useRef(!1);return de((()=>{o.current=!0})),t.useCallback((function(t,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof t)return void r.go(t);let l=Q(t,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:q([n,l.pathname])),(a.replace?r.replace:r.push)(l,a.state,a)}),[n,r,i,s,e])}()}function fe(e,n){let{relative:r}=void 0===n?{}:n,{matches:a}=t.useContext(oe),{pathname:s}=ue(),i=JSON.stringify(X(a).map(((e,t)=>t===a.length-1?e.pathname:e.pathnameBase)));return t.useMemo((()=>Q(e,JSON.parse(i),s,"path"===r)),[e,i,s,r])}function me(e,n,r){ce()||S(!1);let{navigator:a}=t.useContext(se),{matches:s}=t.useContext(oe),i=s[s.length-1],o=i?i.params:{},l=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let c,u=ue();if(n){var d;let e="string"===typeof n?_(n):n;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||S(!1),c=e}else c=u;let h=c.pathname||"/",f=D(e,{pathname:"/"===l?h:h.slice(l.length)||"/"});let m=be(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:q([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:q([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r);return n&&m?t.createElement(ie.Provider,{value:{location:ne({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:w.Pop}},m):m}function pe(){let e=function(){var e;let n=t.useContext(le),r=Se(ve.UseRouteError),a=Ee(ve.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[a]}(),n=J(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const ge=t.createElement(pe,null);class ye extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(oe.Provider,{value:this.props.routeContext},t.createElement(le.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function we(e){let{routeContext:n,match:r,children:a}=e,s=t.useContext(re);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(oe.Provider,{value:n},a)}function be(e,n,r){var a;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var s;if(null==(s=r)||!s.errors)return null;e=r.matches}let i=e,o=null==(a=r)?void 0:a.errors;if(null!=o){let e=i.findIndex((e=>e.route.id&&(null==o?void 0:o[e.route.id])));e>=0||S(!1),i=i.slice(0,Math.min(i.length,e+1))}return i.reduceRight(((e,a,s)=>{let l=a.route.id?null==o?void 0:o[a.route.id]:null,c=null;r&&(c=a.route.errorElement||ge);let u=n.concat(i.slice(0,s+1)),d=()=>{let n;return n=l?c:a.route.Component?t.createElement(a.route.Component,null):a.route.element?a.route.element:e,t.createElement(we,{match:a,routeContext:{outlet:e,matches:u,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===s)?t.createElement(ye,{location:r.location,revalidation:r.revalidation,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}var xe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xe||{}),ve=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ve||{});function Ce(e){let n=t.useContext(re);return n||S(!1),n}function Se(e){let n=t.useContext(ae);return n||S(!1),n}function Ee(e){let n=function(e){let n=t.useContext(oe);return n||S(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||S(!1),r.route.id}r.startTransition;function Ne(e){S(!1)}function Ae(e){let{basename:n="/",children:r=null,location:a,navigationType:s=w.Pop,navigator:i,static:o=!1}=e;ce()&&S(!1);let l=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:l,navigator:i,static:o})),[l,i,o]);"string"===typeof a&&(a=_(a));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=a,p=t.useMemo((()=>{let e=G(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:m},navigationType:s}}),[l,u,d,h,f,m,s]);return null==p?null:t.createElement(se.Provider,{value:c},t.createElement(ie.Provider,{children:r,value:p}))}function Ie(e){let{children:t,location:n}=e;return me(_e(t),n)}new Promise((()=>{}));t.Component;function _e(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,a)=>{if(!t.isValidElement(e))return;let s=[...n,a];if(e.type===t.Fragment)return void r.push.apply(r,_e(e.props.children,s));e.type!==Ne&&S(!1),e.props.index&&e.props.children&&S(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=_e(e.props.children,s)),r.push(i)})),r}function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(this,arguments)}function Me(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function De(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Re=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const je=r.startTransition;x.flushSync;function Oe(e){let{basename:n,children:r,future:a,window:s}=e,i=t.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),T((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return A("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:I(t)}),null,o)));let l=i.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=a||{},h=t.useCallback((e=>{d&&je?je((()=>u(e))):u(e)}),[u,d]);return t.useLayoutEffect((()=>l.listen(h)),[l,h]),t.createElement(Ae,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l})}const ke="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=t.forwardRef((function(e,n){let r,{onClick:a,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=Me(e,Re),{basename:m}=t.useContext(se),p=!1;if("string"===typeof u&&Pe.test(u)&&(r=u,ke))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=G(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:p=!0}catch(He){}let g=function(e,n){let{relative:r}=void 0===n?{}:n;ce()||S(!1);let{basename:a,navigator:s}=t.useContext(se),{hash:i,pathname:o,search:l}=fe(e,{relative:r}),c=o;return"/"!==a&&(c="/"===o?a:q([a,o])),s.createHref({pathname:c,search:l,hash:i})}(u,{relative:s}),y=function(e,n){let{target:r,replace:a,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l}=void 0===n?{}:n,c=he(),u=ue(),d=fe(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==a?a:I(u)===I(d);c(e,{replace:n,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l})}}),[u,c,d,a,s,r,e,i,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:h});return t.createElement("a",Te({},f,{href:r||g,onClick:p||i?a:function(e){a&&a(e),e.defaultPrevented||y(e)},ref:n,target:c}))}));var Be,Fe;function Ue(e){let n=t.useRef(De(e)),r=t.useRef(!1),a=ue(),s=t.useMemo((()=>function(e,t){let n=De(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(a.search,r.current?null:n.current)),[a.search]),i=he(),o=t.useCallback(((e,t)=>{const n=De("function"===typeof e?e(s):e);r.current=!0,i("?"+n,t)}),[i,s]);return[s,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Be||(Be={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Fe||(Fe={}));function ze(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let He={data:""},Ve=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||He,We=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ge=/\/\*[^]*?\*\/|  +/g,Ye=/\n+/g,Xe=(e,t)=>{let n="",r="",a="";for(let s in e){let i=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+i+";":r+="f"==s[1]?Xe(i,s):s+"{"+Xe(i,"k"==s[1]?"":t)+"}":"object"==typeof i?r+=Xe(i,t?t.replace(/([^,])+/g,(e=>s.replace(/(^:.*)|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):s):null!=i&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Xe.p?Xe.p(s,i):s+":"+i+";")}return n+(t&&a?t+"{"+a+"}":a)+r},Qe={},qe=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+qe(e[n]);return t}return e},Ze=(e,t,n,r,a)=>{let s=qe(e),i=Qe[s]||(Qe[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!Qe[i]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=We.exec(e.replace(Ge,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Ye," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Ye," ").trim();return r[0]})(e);Qe[i]=Xe(a?{["@keyframes "+i]:t}:t,n?"":"."+i)}let o=n&&Qe.g?Qe.g:null;return n&&(Qe.g=Qe[i]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Qe[i],t,r,o),i},Ke=(e,t,n)=>e.reduce(((e,r,a)=>{let s=t[a];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":Xe(e,""):!1===e?"":e}return e+r+(null==s?"":s)}),"");function $e(e){let t=this||{},n=e.call?e(t.p):e;return Ze(n.unshift?n.raw?Ke(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,Ve(t.target),t.g,t.o,t.k)}$e.bind({g:1});let Je,et,tt,nt=$e.bind({k:1});function rt(e,t){let n=this||{};return function(){let r=arguments;function a(s,i){let o=Object.assign({},s),l=o.className||a.className;n.p=Object.assign({theme:et&&et()},o),n.o=/ *go\d+/.test(l),o.className=$e.apply(n,r)+(l?" "+l:""),t&&(o.ref=i);let c=e;return e[0]&&(c=o.as||e,delete o.as),tt&&c[0]&&tt(o),Je(c,o)}return t?t(a):a}}var at,st,it,ot,lt,ct,ut,dt,ht,ft,mt,pt,gt,yt,wt,bt,xt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,vt=(()=>{let e=0;return()=>(++e).toString()})(),Ct=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),St=new Map,Et=e=>{if(St.has(e))return;let t=setTimeout((()=>{St.delete(e),_t({type:4,toastId:e})}),1e3);St.set(e,t)},Nt=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&(e=>{let t=St.get(e);t&&clearTimeout(t)})(t.toast.id),{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return e.toasts.find((e=>e.id===n.id))?Nt(e,{type:1,toast:n}):Nt(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?Et(r):e.toasts.forEach((e=>{Et(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+a})))}}},At=[],It={toasts:[],pausedAt:void 0},_t=e=>{It=Nt(It,e),At.forEach((e=>{e(It)}))},Tt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Mt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||vt()}}(t,e,n);return _t({type:2,toast:r}),r.id},Dt=(e,t)=>Mt("blank")(e,t);Dt.error=Mt("error"),Dt.success=Mt("success"),Dt.loading=Mt("loading"),Dt.custom=Mt("custom"),Dt.dismiss=e=>{_t({type:3,toastId:e})},Dt.remove=e=>_t({type:4,toastId:e}),Dt.promise=(e,t,n)=>{let r=Dt.loading(t.loading,{...n,...null==n?void 0:n.loading});return e.then((e=>(Dt.success(xt(t.success,e),{id:r,...n,...null==n?void 0:n.success}),e))).catch((e=>{Dt.error(xt(t.error,e),{id:r,...n,...null==n?void 0:n.error})})),e};var Rt=(e,t)=>{_t({type:1,toast:{id:e,height:t}})},jt=()=>{_t({type:5,time:Date.now()})},Ot=e=>{let{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,r]=(0,t.useState)(It);(0,t.useEffect)((()=>(At.push(r),()=>{let e=At.indexOf(r);e>-1&&At.splice(e,1)})),[n]);let a=n.toasts.map((t=>{var n,r;return{...e,...e[t.type],...t,duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||Tt[t.type],style:{...e.style,...null==(r=e[t.type])?void 0:r.style,...t.style}}}));return{...n,toasts:a}}(e);(0,t.useEffect)((()=>{if(r)return;let e=Date.now(),t=n.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>Dt.dismiss(t.id)),n);t.visible&&Dt.dismiss(t.id)}));return()=>{t.forEach((e=>e&&clearTimeout(e)))}}),[n,r]);let a=(0,t.useCallback)((()=>{r&&_t({type:6,time:Date.now()})}),[r]),s=(0,t.useCallback)(((e,t)=>{let{reverseOrder:r=!1,gutter:a=8,defaultPosition:s}=t||{},i=n.filter((t=>(t.position||s)===(e.position||s)&&t.height)),o=i.findIndex((t=>t.id===e.id)),l=i.filter(((e,t)=>t<o&&e.visible)).length;return i.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+a),0)}),[n]);return{toasts:n,handlers:{updateHeight:Rt,startPause:jt,endPause:a,calculateOffset:s}}},kt=nt(at||(at=ze(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Pt=nt(st||(st=ze(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Lt=nt(it||(it=ze(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Bt=rt("div")(ot||(ot=ze(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(e=>e.primary||"#ff4b4b"),kt,Pt,(e=>e.secondary||"#fff"),Lt),Ft=nt(lt||(lt=ze(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Ut=rt("div")(ct||(ct=ze(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(e=>e.secondary||"#e0e0e0"),(e=>e.primary||"#616161"),Ft),zt=nt(ut||(ut=ze(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Ht=nt(dt||(dt=ze(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Vt=rt("div")(ht||(ht=ze(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(e=>e.primary||"#61d345"),zt,Ht,(e=>e.secondary||"#fff")),Wt=rt("div")(ft||(ft=ze(["\n  position: absolute;\n"]))),Gt=rt("div")(mt||(mt=ze(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Yt=nt(pt||(pt=ze(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Xt=rt("div")(gt||(gt=ze(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Yt),Qt=e=>{let{toast:n}=e,{icon:r,type:a,iconTheme:s}=n;return void 0!==r?"string"==typeof r?t.createElement(Xt,null,r):r:"blank"===a?null:t.createElement(Gt,null,t.createElement(Ut,{...s}),"loading"!==a&&t.createElement(Wt,null,"error"===a?t.createElement(Bt,{...s}):t.createElement(Vt,{...s})))},qt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Zt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Kt=rt("div")(yt||(yt=ze(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),$t=rt("div")(wt||(wt=ze(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Jt=t.memo((e=>{let{toast:n,position:r,style:a,children:s}=e,i=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,a]=Ct()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[qt(n),Zt(n)];return{animation:t?"".concat(nt(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(nt(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(n.position||r||"top-center",n.visible):{opacity:0},o=t.createElement(Qt,{toast:n}),l=t.createElement($t,{...n.ariaProps},xt(n.message,n));return t.createElement(Kt,{className:n.className,style:{...i,...a,...n.style}},"function"==typeof s?s({icon:o,message:l}):t.createElement(t.Fragment,null,o,l))}));!function(e,t,n,r){Xe.p=t,Je=e,et=n,tt=r}(t.createElement);var en=e=>{let{id:n,className:r,style:a,onHeightUpdate:s,children:i}=e,o=t.useCallback((e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;s(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[n,s]);return t.createElement("div",{ref:o,className:r,style:a},i)},tn=$e(bt||(bt=ze(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),nn=e=>{let{reverseOrder:n,position:r="top-center",toastOptions:a,gutter:s,children:i,containerStyle:o,containerClassName:l}=e,{toasts:c,handlers:u}=Ot(a);return t.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map((e=>{let a=e.position||r,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ct()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)"),...r,...a}})(a,u.calculateOffset(e,{reverseOrder:n,gutter:s,defaultPosition:r}));return t.createElement(en,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?tn:"",style:o},"custom"===e.type?xt(e.message,e):i?i(e):t.createElement(Jt,{toast:e,position:a}))})))},rn=Dt;const an="USER_TOKEN",sn="USER_DATA",on=e=>({type:sn,payload:e});var ln=n(248),cn=n(327);let un=function(e){e()};const dn=()=>un,hn=Symbol.for("react-redux-context"),fn="undefined"!==typeof globalThis?globalThis:{};function mn(){var e;if(!t.createContext)return{};const n=null!=(e=fn[hn])?e:fn[hn]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}const pn=mn();function gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn;return function(){return(0,t.useContext)(e)}}const yn=gn();let wn=()=>{throw new Error("uSES not initialized!")};const bn=(e,t)=>e===t;function xn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn;const n=e===pn?yn:gn(e);return function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:a=bn,stabilityCheck:s,noopCheck:i}="function"===typeof r?{equalityFn:r}:r;const{store:o,subscription:l,getServerState:c,stabilityCheck:u,noopCheck:d}=n(),h=((0,t.useRef)(!0),(0,t.useCallback)({[e.name]:t=>e(t)}[e.name],[e,u,s])),f=wn(l.addNestedSub,o.getState,c||o.getState,h,a);return(0,t.useDebugValue)(f),f}}const vn=xn();n(110),n(900);const Cn={notify(){},get:()=>[]};function Sn(e,t){let n,r=Cn,a=0,s=!1;function i(){c.onStateChange&&c.onStateChange()}function o(){a++,n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){const e=dn();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,a=n={callback:e,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){r&&null!==t&&(r=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}function l(){a--,n&&0===a&&(n(),n=void 0,r.clear(),r=Cn)}const c={addNestedSub:function(e){o();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,o())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>r};return c}const En=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;let Nn=null;const An=function(e){let{store:n,context:r,children:a,serverState:s,stabilityCheck:i="once",noopCheck:o="once"}=e;const l=t.useMemo((()=>{const e=Sn(n);return{store:n,subscription:e,getServerState:s?()=>s:void 0,stabilityCheck:i,noopCheck:o}}),[n,s,i,o]),c=t.useMemo((()=>n.getState()),[n]);En((()=>{const{subscription:e}=l;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==n.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,c]);const u=r||pn;return t.createElement(u.Provider,{value:l},a)};function In(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn;const t=e===pn?yn:gn(e);return function(){const{store:e}=t();return e}}const _n=In();function Tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn;const t=e===pn?_n:In(e);return function(){return t().dispatch}}const Mn=Tn();var Dn,Rn;Dn=cn.useSyncExternalStoreWithSelector,wn=Dn,(e=>{Nn=e})(ln.useSyncExternalStore),Rn=b.unstable_batchedUpdates,un=Rn;var jn=n(184);const On=e=>{let{children:t,onClick:n,type:r="button",disabled:a=!1,className:s="",variant:i="primary"}=e;return(0,jn.jsx)("button",{type:r,onClick:n,disabled:a,className:"\n        px-4 py-2 rounded-md\n        font-medium text-sm\n        transition-all duration-300 ease-in-out\n        shadow-md hover:shadow-lg\n        transform hover:-translate-y-0.5\n        disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\n        ".concat((()=>{switch(i){case"primary":default:return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"danger":return"bg-red-500 text-white hover:bg-red-600"}})(),"\n        ").concat(s,"\n      "),children:t})};function kn(e,t){return function(){return e.apply(t,arguments)}}const{toString:Pn}=Object.prototype,{getPrototypeOf:Ln}=Object,Bn=(Fn=Object.create(null),e=>{const t=Pn.call(e);return Fn[t]||(Fn[t]=t.slice(8,-1).toLowerCase())});var Fn;const Un=e=>(e=e.toLowerCase(),t=>Bn(t)===e),zn=e=>t=>typeof t===e,{isArray:Hn}=Array,Vn=zn("undefined");const Wn=Un("ArrayBuffer");const Gn=zn("string"),Yn=zn("function"),Xn=zn("number"),Qn=e=>null!==e&&"object"===typeof e,qn=e=>{if("object"!==Bn(e))return!1;const t=Ln(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Zn=Un("Date"),Kn=Un("File"),$n=Un("Blob"),Jn=Un("FileList"),er=Un("URLSearchParams");function tr(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Hn(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let i;for(n=0;n<s;n++)i=r[n],t.call(null,e[i],i,e)}}function nr(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const rr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ar=e=>!Vn(e)&&e!==rr;const sr=(ir="undefined"!==typeof Uint8Array&&Ln(Uint8Array),e=>ir&&e instanceof ir);var ir;const or=Un("HTMLFormElement"),lr=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),cr=Un("RegExp"),ur=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};tr(n,((n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)})),Object.defineProperties(e,r)},dr="abcdefghijklmnopqrstuvwxyz",hr="0123456789",fr={DIGIT:hr,ALPHA:dr,ALPHA_DIGIT:dr+dr.toUpperCase()+hr};const mr=Un("AsyncFunction"),pr={isArray:Hn,isArrayBuffer:Wn,isBuffer:function(e){return null!==e&&!Vn(e)&&null!==e.constructor&&!Vn(e.constructor)&&Yn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Yn(e.append)&&("formdata"===(t=Bn(e))||"object"===t&&Yn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Wn(e.buffer),t},isString:Gn,isNumber:Xn,isBoolean:e=>!0===e||!1===e,isObject:Qn,isPlainObject:qn,isUndefined:Vn,isDate:Zn,isFile:Kn,isBlob:$n,isRegExp:cr,isFunction:Yn,isStream:e=>Qn(e)&&Yn(e.pipe),isURLSearchParams:er,isTypedArray:sr,isFileList:Jn,forEach:tr,merge:function e(){const{caseless:t}=ar(this)&&this||{},n={},r=(r,a)=>{const s=t&&nr(n,a)||a;qn(n[s])&&qn(r)?n[s]=e(n[s],r):qn(r)?n[s]=e({},r):Hn(r)?n[s]=r.slice():n[s]=r};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&tr(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return tr(t,((t,r)=>{n&&Yn(t)?e[r]=kn(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,i;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],r&&!r(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==n&&Ln(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Bn,kindOfTest:Un,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Hn(e))return e;let t=e.length;if(!Xn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:or,hasOwnProperty:lr,hasOwnProp:lr,reduceDescriptors:ur,freezeMethods:e=>{ur(e,((t,n)=>{if(Yn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Yn(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Hn(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:nr,global:rr,isContextDefined:ar,ALPHABET:fr,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fr.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Yn(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Qn(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const a=Hn(e)?[]:{};return tr(e,((e,t)=>{const s=n(e,r+1);!Vn(s)&&(a[t]=s)})),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:mr,isThenable:e=>e&&(Qn(e)||Yn(e))&&Yn(e.then)&&Yn(e.catch)};function gr(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}pr.inherits(gr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pr.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const yr=gr.prototype,wr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{wr[e]={value:e}})),Object.defineProperties(gr,wr),Object.defineProperty(yr,"isAxiosError",{value:!0}),gr.from=(e,t,n,r,a,s)=>{const i=Object.create(yr);return pr.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),gr.call(i,e.message,t,n,r,a),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};const br=gr;function xr(e){return pr.isPlainObject(e)||pr.isArray(e)}function vr(e){return pr.endsWith(e,"[]")?e.slice(0,-2):e}function Cr(e,t,n){return e?e.concat(t).map((function(e,t){return e=vr(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Sr=pr.toFlatObject(pr,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Er=function(e,t,n){if(!pr.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=pr.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!pr.isUndefined(t[e])}))).metaTokens,a=n.visitor||c,s=n.dots,i=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&pr.isSpecCompliantForm(t);if(!pr.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(pr.isDate(e))return e.toISOString();if(!o&&pr.isBlob(e))throw new br("Blob is not supported. Use a Buffer instead.");return pr.isArrayBuffer(e)||pr.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let o=e;if(e&&!a&&"object"===typeof e)if(pr.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(pr.isArray(e)&&function(e){return pr.isArray(e)&&!e.some(xr)}(e)||(pr.isFileList(e)||pr.endsWith(n,"[]"))&&(o=pr.toArray(e)))return n=vr(n),o.forEach((function(e,r){!pr.isUndefined(e)&&null!==e&&t.append(!0===i?Cr([n],r,s):null===i?n:n+"[]",l(e))})),!1;return!!xr(e)||(t.append(Cr(a,n,s),l(e)),!1)}const u=[],d=Object.assign(Sr,{defaultVisitor:c,convertValue:l,isVisitable:xr});if(!pr.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!pr.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),pr.forEach(n,(function(n,s){!0===(!(pr.isUndefined(n)||null===n)&&a.call(t,n,pr.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function Nr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ar(e,t){this._pairs=[],e&&Er(e,this,t)}const Ir=Ar.prototype;Ir.append=function(e,t){this._pairs.push([e,t])},Ir.toString=function(e){const t=e?function(t){return e.call(this,t,Nr)}:Nr;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const _r=Ar;function Tr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mr(e,t,n){if(!t)return e;const r=n&&n.encode||Tr,a=n&&n.serialize;let s;if(s=a?a(t,n):pr.isURLSearchParams(t)?t.toString():new _r(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Dr=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){pr.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Rr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jr={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:_r,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Or="undefined"!==typeof window&&"undefined"!==typeof document,kr=(Pr="undefined"!==typeof navigator&&navigator.product,Or&&["ReactNative","NativeScript","NS"].indexOf(Pr)<0);var Pr;const Lr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Br={...e,...jr};const Fr=function(e){function t(e,n,r,a){let s=e[a++];const i=Number.isFinite(+s),o=a>=e.length;if(s=!s&&pr.isArray(r)?r.length:s,o)return pr.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!i;r[s]&&pr.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&pr.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!i}if(pr.isFormData(e)&&pr.isFunction(e.entries)){const n={};return pr.forEachEntry(e,((e,r)=>{t(function(e){return pr.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Ur={transitional:Rr,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=pr.isObject(e);a&&pr.isHTMLForm(e)&&(e=new FormData(e));if(pr.isFormData(e))return r&&r?JSON.stringify(Fr(e)):e;if(pr.isArrayBuffer(e)||pr.isBuffer(e)||pr.isStream(e)||pr.isFile(e)||pr.isBlob(e))return e;if(pr.isArrayBufferView(e))return e.buffer;if(pr.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Er(e,new Br.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Br.isNode&&pr.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=pr.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Er(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(pr.isString(e))try{return(t||JSON.parse)(e),pr.trim(e)}catch(He){if("SyntaxError"!==He.name)throw He}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ur.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&pr.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(He){if(n){if("SyntaxError"===He.name)throw br.from(He,br.ERR_BAD_RESPONSE,this,null,this.response);throw He}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Br.classes.FormData,Blob:Br.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pr.forEach(["delete","get","head","post","put","patch"],(e=>{Ur.headers[e]={}}));const zr=Ur,Hr=pr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vr=Symbol("internals");function Wr(e){return e&&String(e).trim().toLowerCase()}function Gr(e){return!1===e||null==e?e:pr.isArray(e)?e.map(Gr):String(e)}function Yr(e,t,n,r,a){return pr.isFunction(r)?r.call(this,t,n):(a&&(t=n),pr.isString(t)?pr.isString(r)?-1!==t.indexOf(r):pr.isRegExp(r)?r.test(t):void 0:void 0)}class Xr{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=Wr(t);if(!a)throw new Error("header name must be a non-empty string");const s=pr.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Gr(e))}const s=(e,t)=>pr.forEach(e,((e,n)=>a(e,n,t)));return pr.isPlainObject(e)||e instanceof this.constructor?s(e,t):pr.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&Hr[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&a(t,e,n),this}get(e,t){if(e=Wr(e)){const n=pr.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(pr.isFunction(t))return t.call(this,e,n);if(pr.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Wr(e)){const n=pr.findKey(this,e);return!(!n||void 0===this[n]||t&&!Yr(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=Wr(e)){const a=pr.findKey(n,e);!a||t&&!Yr(0,n[a],a,t)||(delete n[a],r=!0)}}return pr.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!Yr(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return pr.forEach(this,((r,a)=>{const s=pr.findKey(n,a);if(s)return t[s]=Gr(r),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(a):String(a).trim();i!==a&&delete t[a],t[i]=Gr(r),n[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return pr.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&pr.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Vr]=this[Vr]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Wr(e);t[r]||(!function(e,t){const n=pr.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})}))}(n,e),t[r]=!0)}return pr.isArray(e)?e.forEach(r):r(e),this}}Xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),pr.reduceDescriptors(Xr.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),pr.freezeMethods(Xr);const Qr=Xr;function qr(e,t){const n=this||zr,r=t||n,a=Qr.from(r.headers);let s=r.data;return pr.forEach(e,(function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)})),a.normalize(),s}function Zr(e){return!(!e||!e.__CANCEL__)}function Kr(e,t,n){br.call(this,null==e?"canceled":e,br.ERR_CANCELED,t,n),this.name="CanceledError"}pr.inherits(Kr,br,{__CANCEL__:!0});const $r=Kr;const Jr=Br.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const i=[e+"="+encodeURIComponent(t)];pr.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),pr.isString(r)&&i.push("path="+r),pr.isString(a)&&i.push("domain="+a),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ea(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ta=Br.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=pr.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const na=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[i];a||(a=l),n[s]=o,r[s]=l;let u=i,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-a<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};function ra(e,t){let n=0;const r=na(50,250);return a=>{const s=a.loaded,i=a.lengthComputable?a.total:void 0,o=s-n,l=r(o);n=s;const c={loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:a};c[t?"download":"upload"]=!0,e(c)}}const aa={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const a=Qr.from(e.headers).normalize();let s,i,{responseType:o,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(pr.isFormData(r))if(Br.hasStandardBrowserEnv||Br.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if(!1!==(i=a.getContentType())){const[e,...t]=i?i.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(t+":"+n))}const d=ea(e.baseURL,e.url);function h(){if(!u)return;const r=Qr.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new br("Request failed with status code "+n.status,[br.ERR_BAD_REQUEST,br.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),Mr(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new br("Request aborted",br.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new br("Network Error",br.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||Rr;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new br(t,r.clarifyTimeoutError?br.ETIMEDOUT:br.ECONNABORTED,e,u)),u=null},Br.hasStandardBrowserEnv&&(l&&pr.isFunction(l)&&(l=l(e)),l||!1!==l&&ta(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&Jr.read(e.xsrfCookieName);t&&a.set(e.xsrfHeaderName,t)}void 0===r&&a.setContentType(null),"setRequestHeader"in u&&pr.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),pr.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",ra(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",ra(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{u&&(n(!t||t.type?new $r(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);f&&-1===Br.protocols.indexOf(f)?n(new br("Unsupported protocol "+f+":",br.ERR_BAD_REQUEST,e)):u.send(r||null)}))}};pr.forEach(aa,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(He){}Object.defineProperty(e,"adapterName",{value:t})}}));const sa=e=>"- ".concat(e),ia=e=>pr.isFunction(e)||null===e||!1===e,oa=e=>{e=pr.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!ia(n)&&(r=aa[(t=String(n)).toLowerCase()],void 0===r))throw new br("Unknown adapter '".concat(t,"'"));if(r)break;a[t||"#"+s]=r}if(!r){const e=Object.entries(a).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(sa).join("\n"):" "+sa(e[0]):"as no adapter specified";throw new br("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function la(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $r(null,e)}function ca(e){la(e),e.headers=Qr.from(e.headers),e.data=qr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return oa(e.adapter||zr.adapter)(e).then((function(t){return la(e),t.data=qr.call(e,e.transformResponse,t),t.headers=Qr.from(t.headers),t}),(function(t){return Zr(t)||(la(e),t&&t.response&&(t.response.data=qr.call(e,e.transformResponse,t.response),t.response.headers=Qr.from(t.response.headers))),Promise.reject(t)}))}const ua=e=>e instanceof Qr?e.toJSON():e;function da(e,t){t=t||{};const n={};function r(e,t,n){return pr.isPlainObject(e)&&pr.isPlainObject(t)?pr.merge.call({caseless:n},e,t):pr.isPlainObject(t)?pr.merge({},t):pr.isArray(t)?t.slice():t}function a(e,t,n){return pr.isUndefined(t)?pr.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!pr.isUndefined(t))return r(void 0,t)}function i(e,t){return pr.isUndefined(t)?pr.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t)=>a(ua(e),ua(t),!0)};return pr.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||a,i=s(e[r],t[r],r);pr.isUndefined(i)&&s!==o||(n[r]=i)})),n}const ha="1.6.2",fa={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{fa[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const ma={};fa.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new br(r(a," has been removed"+(t?" in "+t:"")),br.ERR_DEPRECATED);return t&&!ma[a]&&(ma[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}};const pa={assertOptions:function(e,t,n){if("object"!==typeof e)throw new br("options must be an object",br.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new br("option "+s+" must be "+n,br.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new br("Unknown option "+s,br.ERR_BAD_OPTION)}},validators:fa},ga=pa.validators;class ya{constructor(e){this.defaults=e,this.interceptors={request:new Dr,response:new Dr}}request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=da(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&pa.assertOptions(n,{silentJSONParsing:ga.transitional(ga.boolean),forcedJSONParsing:ga.transitional(ga.boolean),clarifyTimeoutError:ga.transitional(ga.boolean)},!1),null!=r&&(pr.isFunction(r)?t.paramsSerializer={serialize:r}:pa.assertOptions(r,{encode:ga.function,serialize:ga.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&pr.merge(a.common,a[t.method]);a&&pr.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=Qr.concat(s,a);const i=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!o){const e=[ca.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let h=t;for(d=0;d<u;){const e=i[d++],t=i[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=ca.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Mr(ea((e=da(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}pr.forEach(["delete","get","head","options"],(function(e){ya.prototype[e]=function(t,n){return this.request(da(n||{},{method:e,url:t,data:(n||{}).data}))}})),pr.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,a){return this.request(da(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ya.prototype[e]=t(),ya.prototype[e+"Form"]=t(!0)}));const wa=ya;class ba{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,a){n.reason||(n.reason=new $r(e,r,a),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new ba((function(t){e=t}));return{token:t,cancel:e}}}const xa=ba;const va={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(va).forEach((e=>{let[t,n]=e;va[n]=t}));const Ca=va;const Sa=function e(t){const n=new wa(t),r=kn(wa.prototype.request,n);return pr.extend(r,wa.prototype,n,{allOwnKeys:!0}),pr.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(da(t,n))},r}(zr);Sa.Axios=wa,Sa.CanceledError=$r,Sa.CancelToken=xa,Sa.isCancel=Zr,Sa.VERSION=ha,Sa.toFormData=Er,Sa.AxiosError=br,Sa.Cancel=Sa.CanceledError,Sa.all=function(e){return Promise.all(e)},Sa.spread=function(e){return function(t){return e.apply(null,t)}},Sa.isAxiosError=function(e){return pr.isObject(e)&&!0===e.isAxiosError},Sa.mergeConfig=da,Sa.AxiosHeaders=Qr,Sa.formToJSON=e=>Fr(pr.isHTMLForm(e)?new FormData(e):e),Sa.getAdapter=oa,Sa.HttpStatusCode=Ca,Sa.default=Sa;const Ea=Sa.create({baseURL:"http://localhost:4100/api"});Ea.interceptors.response.use((e=>e),(e=>{var t,n,r,a,s,i;return"Invalid or expired token"===(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)&&!1===(null===(r=e.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.success)&&null===(null===(s=e.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.data)&&(sessionStorage.clear(),window.location.href="/"),Promise.reject(e)}));const Na=Ea,Aa={STUDENT:"Student",FACULTY:"Faculty",ADMIN:"Admin"},Ia=e=>{let{selected:t,onSubmit:n,formData:r,setFormData:a}=e;return(0,jn.jsxs)("form",{className:"w-full p-8 bg-white rounded-2xl shadow-xl border border-gray-200",onSubmit:n,children:[(0,jn.jsxs)("div",{className:"mb-6",children:[(0,jn.jsxs)("label",{className:"block text-gray-800 text-sm font-medium mb-2",htmlFor:"email",children:[t," Email"]}),(0,jn.jsx)("input",{type:"email",id:"email",required:!0,className:"w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:r.email,onChange:e=>a({...r,email:e.target.value})})]}),(0,jn.jsxs)("div",{className:"mb-6",children:[(0,jn.jsx)("label",{className:"block text-gray-800 text-sm font-medium mb-2",htmlFor:"password",children:"Password"}),(0,jn.jsx)("input",{type:"password",id:"password",required:!0,className:"w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:r.password,onChange:e=>a({...r,password:e.target.value})})]}),(0,jn.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,jn.jsx)(Le,{className:"text-sm text-blue-600 hover:underline",to:"/forget-password",children:"Forgot Password?"})}),(0,jn.jsxs)(On,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2.5 px-4 rounded-lg transition duration-200 flex justify-center items-center gap-2",children:["Login",(0,jn.jsx)(m,{className:"text-lg"})]})]})},_a=e=>{let{selected:t,onSelect:n}=e;return(0,jn.jsx)("div",{className:"flex justify-center gap-4 mb-8",children:Object.values(Aa).map((e=>(0,jn.jsx)("button",{onClick:()=>n(e),className:"px-5 py-2 text-sm font-medium rounded-full transition duration-200 ".concat(t===e?"bg-blue-600 text-white shadow":"bg-gray-100 text-gray-800 hover:bg-gray-200"),children:e},e)))})},Ta=()=>{const e=he(),n=Mn(),[r,a]=Ue(),s=r.get("type"),[i,o]=(0,t.useState)({email:"",password:""}),[l,c]=(0,t.useState)(Aa.STUDENT);return(0,t.useEffect)((()=>{sessionStorage.getItem("userToken")&&e("/".concat(sessionStorage.getItem("userType").toLowerCase()))}),[e]),(0,t.useEffect)((()=>{if(s){const e=s.charAt(0).toUpperCase()+s.slice(1);c(e)}}),[s]),(0,jn.jsxs)("div",{className:"min-h-screen bg-gradient-to-tr from-gray-100 via-white to-gray-100 flex items-center justify-center px-4",children:[(0,jn.jsxs)("div",{className:"w-full max-w-2xl lg:w-1/2 px-6 py-12",children:[(0,jn.jsxs)("h1",{className:"text-4xl font-bold text-gray-800 text-center mb-6",children:[l," Login"]}),(0,jn.jsx)(_a,{selected:l,onSelect:e=>{const t=e.toLowerCase();c(e),a({type:t})}}),(0,jn.jsx)(Ia,{selected:l,onSubmit:async t=>{if(t.preventDefault(),i.email&&i.password)try{const t=await Na.post("/".concat(l.toLowerCase(),"/login"),i,{headers:{"Content-Type":"application/json"}}),{token:r}=t.data.data;sessionStorage.setItem("userToken",r),sessionStorage.setItem("userType",l),n({type:an,payload:r}),e("/".concat(l.toLowerCase()))}catch(s){var r,a;rn.dismiss(),console.error(s),rn.error((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Login failed")}else rn.error("Please fill in all fields")},formData:i,setFormData:o})]}),(0,jn.jsx)(nn,{position:"bottom-center"})]})};function Ma(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Da="function"===typeof Symbol&&Symbol.observable||"@@observable",Ra=function(){return Math.random().toString(36).substring(7).split("").join(".")},ja={INIT:"@@redux/INIT"+Ra(),REPLACE:"@@redux/REPLACE"+Ra(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ra()}};function Oa(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var ka=function e(t,n,r){var a;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(Ma(0));if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(Ma(1));return r(e)(t,n)}if("function"!==typeof t)throw new Error(Ma(2));var s=t,i=n,o=[],l=o,c=!1;function u(){l===o&&(l=o.slice())}function d(){if(c)throw new Error(Ma(3));return i}function h(e){if("function"!==typeof e)throw new Error(Ma(4));if(c)throw new Error(Ma(5));var t=!0;return u(),l.push(e),function(){if(t){if(c)throw new Error(Ma(6));t=!1,u();var n=l.indexOf(e);l.splice(n,1),o=null}}}function f(e){if(!Oa(e))throw new Error(Ma(7));if("undefined"===typeof e.type)throw new Error(Ma(8));if(c)throw new Error(Ma(9));try{c=!0,i=s(i,e)}finally{c=!1}for(var t=o=l,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:ja.INIT}),(a={dispatch:f,subscribe:h,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Ma(10));s=e,f({type:ja.REPLACE})}})[Da]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Ma(11));function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[Da]=function(){return this},e},a};let Pa={userData:{},userToken:""};const La=ka((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sn:return{...e,userData:t.payload};case an:return{...e,userToken:t.payload};default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());function Ba(e){return u({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M2.8 1L2.74967 0.99997C2.52122 0.999752 2.32429 0.999564 2.14983 1.04145C1.60136 1.17312 1.17312 1.60136 1.04145 2.14983C0.999564 2.32429 0.999752 2.52122 0.99997 2.74967L1 2.8V5.2L0.99997 5.25033C0.999752 5.47878 0.999564 5.67572 1.04145 5.85017C1.17312 6.39864 1.60136 6.82688 2.14983 6.95856C2.32429 7.00044 2.52122 7.00025 2.74967 7.00003L2.8 7H5.2L5.25033 7.00003C5.47878 7.00025 5.67572 7.00044 5.85017 6.95856C6.39864 6.82688 6.82688 6.39864 6.95856 5.85017C7.00044 5.67572 7.00025 5.47878 7.00003 5.25033L7 5.2V2.8L7.00003 2.74967C7.00025 2.52122 7.00044 2.32429 6.95856 2.14983C6.82688 1.60136 6.39864 1.17312 5.85017 1.04145C5.67572 0.999564 5.47878 0.999752 5.25033 0.99997L5.2 1H2.8ZM2.38328 2.01382C2.42632 2.00348 2.49222 2 2.8 2H5.2C5.50779 2 5.57369 2.00348 5.61672 2.01382C5.79955 2.05771 5.94229 2.20045 5.98619 2.38328C5.99652 2.42632 6 2.49222 6 2.8V5.2C6 5.50779 5.99652 5.57369 5.98619 5.61672C5.94229 5.79955 5.79955 5.94229 5.61672 5.98619C5.57369 5.99652 5.50779 6 5.2 6H2.8C2.49222 6 2.42632 5.99652 2.38328 5.98619C2.20045 5.94229 2.05771 5.79955 2.01382 5.61672C2.00348 5.57369 2 5.50779 2 5.2V2.8C2 2.49222 2.00348 2.42632 2.01382 2.38328C2.05771 2.20045 2.20045 2.05771 2.38328 2.01382ZM9.8 1L9.74967 0.99997C9.52122 0.999752 9.32429 0.999564 9.14983 1.04145C8.60136 1.17312 8.17312 1.60136 8.04145 2.14983C7.99956 2.32429 7.99975 2.52122 7.99997 2.74967L8 2.8V5.2L7.99997 5.25033C7.99975 5.47878 7.99956 5.67572 8.04145 5.85017C8.17312 6.39864 8.60136 6.82688 9.14983 6.95856C9.32429 7.00044 9.52122 7.00025 9.74967 7.00003L9.8 7H12.2L12.2503 7.00003C12.4788 7.00025 12.6757 7.00044 12.8502 6.95856C13.3986 6.82688 13.8269 6.39864 13.9586 5.85017C14.0004 5.67572 14.0003 5.47878 14 5.25033L14 5.2V2.8L14 2.74967C14.0003 2.52122 14.0004 2.32429 13.9586 2.14983C13.8269 1.60136 13.3986 1.17312 12.8502 1.04145C12.6757 0.999564 12.4788 0.999752 12.2503 0.99997L12.2 1H9.8ZM9.38328 2.01382C9.42632 2.00348 9.49222 2 9.8 2H12.2C12.5078 2 12.5737 2.00348 12.6167 2.01382C12.7995 2.05771 12.9423 2.20045 12.9862 2.38328C12.9965 2.42632 13 2.49222 13 2.8V5.2C13 5.50779 12.9965 5.57369 12.9862 5.61672C12.9423 5.79955 12.7995 5.94229 12.6167 5.98619C12.5737 5.99652 12.5078 6 12.2 6H9.8C9.49222 6 9.42632 5.99652 9.38328 5.98619C9.20045 5.94229 9.05771 5.79955 9.01382 5.61672C9.00348 5.57369 9 5.50779 9 5.2V2.8C9 2.49222 9.00348 2.42632 9.01382 2.38328C9.05771 2.20045 9.20045 2.05771 9.38328 2.01382ZM2.74967 7.99997L2.8 8H5.2L5.25033 7.99997C5.47878 7.99975 5.67572 7.99956 5.85017 8.04145C6.39864 8.17312 6.82688 8.60136 6.95856 9.14983C7.00044 9.32429 7.00025 9.52122 7.00003 9.74967L7 9.8V12.2L7.00003 12.2503C7.00025 12.4788 7.00044 12.6757 6.95856 12.8502C6.82688 13.3986 6.39864 13.8269 5.85017 13.9586C5.67572 14.0004 5.47878 14.0003 5.25033 14L5.2 14H2.8L2.74967 14C2.52122 14.0003 2.32429 14.0004 2.14983 13.9586C1.60136 13.8269 1.17312 13.3986 1.04145 12.8502C0.999564 12.6757 0.999752 12.4788 0.99997 12.2503L1 12.2V9.8L0.99997 9.74967C0.999752 9.52122 0.999564 9.32429 1.04145 9.14983C1.17312 8.60136 1.60136 8.17312 2.14983 8.04145C2.32429 7.99956 2.52122 7.99975 2.74967 7.99997ZM2.8 9C2.49222 9 2.42632 9.00348 2.38328 9.01382C2.20045 9.05771 2.05771 9.20045 2.01382 9.38328C2.00348 9.42632 2 9.49222 2 9.8V12.2C2 12.5078 2.00348 12.5737 2.01382 12.6167C2.05771 12.7995 2.20045 12.9423 2.38328 12.9862C2.42632 12.9965 2.49222 13 2.8 13H5.2C5.50779 13 5.57369 12.9965 5.61672 12.9862C5.79955 12.9423 5.94229 12.7995 5.98619 12.6167C5.99652 12.5737 6 12.5078 6 12.2V9.8C6 9.49222 5.99652 9.42632 5.98619 9.38328C5.94229 9.20045 5.79955 9.05771 5.61672 9.01382C5.57369 9.00348 5.50779 9 5.2 9H2.8ZM9.8 8L9.74967 7.99997C9.52122 7.99975 9.32429 7.99956 9.14983 8.04145C8.60136 8.17312 8.17312 8.60136 8.04145 9.14983C7.99956 9.32429 7.99975 9.52122 7.99997 9.74967L8 9.8V12.2L7.99997 12.2503C7.99975 12.4788 7.99956 12.6757 8.04145 12.8502C8.17312 13.3986 8.60136 13.8269 9.14983 13.9586C9.32429 14.0004 9.52122 14.0003 9.74967 14L9.8 14H12.2L12.2503 14C12.4788 14.0003 12.6757 14.0004 12.8502 13.9586C13.3986 13.8269 13.8269 13.3986 13.9586 12.8502C14.0004 12.6757 14.0003 12.4788 14 12.2503L14 12.2V9.8L14 9.74967C14.0003 9.52122 14.0004 9.32429 13.9586 9.14983C13.8269 8.60136 13.3986 8.17312 12.8502 8.04145C12.6757 7.99956 12.4788 7.99975 12.2503 7.99997L12.2 8H9.8ZM9.38328 9.01382C9.42632 9.00348 9.49222 9 9.8 9H12.2C12.5078 9 12.5737 9.00348 12.6167 9.01382C12.7995 9.05771 12.9423 9.20045 12.9862 9.38328C12.9965 9.42632 13 9.49222 13 9.8V12.2C13 12.5078 12.9965 12.5737 12.9862 12.6167C12.9423 12.7995 12.7995 12.9423 12.6167 12.9862C12.5737 12.9965 12.5078 13 12.2 13H9.8C9.49222 13 9.42632 12.9965 9.38328 12.9862C9.20045 12.9423 9.05771 12.7995 9.01382 12.6167C9.00348 12.5737 9 12.5078 9 12.2V9.8C9 9.49222 9.00348 9.42632 9.01382 9.38328C9.05771 9.20045 9.20045 9.05771 9.38328 9.01382Z",fill:"currentColor"}}]})(e)}const Fa=()=>{const e=ue(),t=he();return(0,jn.jsx)("div",{className:"shadow-md px-6 py-4 mb-6",children:(0,jn.jsxs)("div",{className:"max-w-7xl flex justify-between items-center mx-auto",children:[(0,jn.jsxs)("p",{className:"font-semibold text-2xl flex justify-center items-center cursor-pointer",onClick:()=>t("/"),children:[(0,jn.jsx)("span",{className:"mr-2",children:(0,jn.jsx)(Ba,{})})," ",e.state&&e.state.type," Dashboard"]}),(0,jn.jsxs)(On,{variant:"danger",onClick:()=>{sessionStorage.removeItem("userToken"),sessionStorage.removeItem("userType"),t("/")},children:["Logout",(0,jn.jsx)("span",{className:"ml-2",children:(0,jn.jsx)(p,{})})]})]})})};function Ua(e){return u({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"}}]})(e)}function za(e){return u({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"}}]})(e)}function Ha(e){return u({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M74.6 256c0-38.3 31.1-69.4 69.4-69.4h88V144h-88c-61.8 0-112 50.2-112 112s50.2 112 112 112h88v-42.6h-88c-38.3 0-69.4-31.1-69.4-69.4zm85.4 22h192v-44H160v44zm208-134h-88v42.6h88c38.3 0 69.4 31.1 69.4 69.4s-31.1 69.4-69.4 69.4h-88V368h88c61.8 0 112-50.2 112-112s-50.2-112-112-112z"}}]})(e)}function Va(e){return u({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}}]})(e)}function Wa(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function Ga(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}}]})(e)}function Ya(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 10h11v2H3v-2zm0-2h11V6H3v2zm0 8h7v-2H3v2zm15.01-3.13l.71-.71a.996.996 0 011.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71-2.12-2.12zm-.71.71l-5.3 5.3V21h2.12l5.3-5.3-2.12-2.12z"}}]})(e)}function Xa(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 000-1.41l-2.34-2.34a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}}]})(e)}function Qa(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"}}]})(e)}const qa=e=>(0,jn.jsx)("div",{className:"flex justify-between items-center w-full",children:(0,jn.jsx)("p",{className:"font-semibold text-3xl border-l-8 border-red-500 pl-3",children:e.title})}),Za=e=>{let{isOpen:t,onClose:n,onConfirm:r,message:a}=e;return t?(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:n,children:(0,jn.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-sm w-full mx-4 transform transition-all duration-300 ease-in-out animate-fade-in",onClick:e=>e.stopPropagation(),children:[(0,jn.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Confirm Delete"}),(0,jn.jsx)("p",{className:"text-gray-600 mb-6",children:a||"Are you sure you want to delete this item? This action cannot be undone."}),(0,jn.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,jn.jsx)(On,{onClick:n,variant:"secondary",children:"Cancel"}),(0,jn.jsx)(On,{onClick:r,variant:"danger",children:"Delete"})]})]})}):null};function Ka(e){return u({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"}}]})(e)}function $a(e){return u({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]})(e)}const Ja=()=>(0,jn.jsx)("div",{className:"w-full h-[40vh] flex justify-center items-center flex-col gap-4",children:(0,jn.jsx)($a,{className:"animate-spin text-black text-4xl"})}),es=()=>{const e=ue(),n=he(),[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[f,m]=(0,t.useState)(!1),p=sessionStorage.getItem("userToken"),[g,y]=(0,t.useState)({title:"",description:"",type:"student",link:""});(0,t.useEffect)((()=>{p||(rn.error("Please login to continue"),n("/login"))}),[p,n]);const w=async()=>{try{m(!0);const e=await Na.get("/notice",{headers:{Authorization:"Bearer ".concat(p)}});e.data.success?a(e.data.data):rn.error(e.data.message)}catch(r){var e,t,n;if(404===(null===(e=r.response)||void 0===e?void 0:e.status))a([]);else rn.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to load notices")}finally{m(!1)}};(0,t.useEffect)((()=>{w()}),[e.pathname]);return(0,jn.jsxs)("div",{className:"w-full mx-auto flex justify-center items-start flex-col my-10",children:[(0,jn.jsxs)("div",{className:"relative flex justify-between items-center w-full",children:[(0,jn.jsx)(qa,{title:"Notices"}),!f&&("/faculty"===e.pathname||"/admin"===e.pathname)&&(0,jn.jsx)(On,{onClick:()=>{l(null),y({title:"",description:"",type:"student",link:""}),i(!0)},children:(0,jn.jsx)(Ua,{className:"text-2xl"})})]}),f&&(0,jn.jsx)(Ja,{}),!f&&(0,jn.jsx)("div",{className:"mt-8",children:0===r.length?(0,jn.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No notices found"}):(0,jn.jsx)("div",{className:"mt-8 w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:null===r||void 0===r?void 0:r.map((t=>(0,jn.jsx)("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden border border-gray-100 w-[350px]",children:(0,jn.jsxs)("div",{className:"p-6",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,jn.jsxs)("h3",{className:"text-lg font-semibold line-clamp-2 group flex items-start ".concat(t.link?"cursor-pointer hover:text-blue-600":""),onClick:()=>t.link&&window.open(t.link),children:[t.title,t.link&&(0,jn.jsx)(Ha,{className:"ml-2 flex-shrink-0 text-xl opacity-70 group-hover:opacity-100 group-hover:text-blue-500"})]}),("/faculty"===e.pathname||"/admin"===e.pathname)&&(0,jn.jsxs)("div",{className:"flex gap-2 ml-2 flex-shrink-0",children:[(0,jn.jsx)(On,{onClick:()=>{h(t._id),u(!0)},variant:"danger",className:"!p-1.5 rounded-full",title:"Delete Notice",children:(0,jn.jsx)(Wa,{size:18})}),(0,jn.jsx)(On,{onClick:()=>(e=>{l(e),y({title:e.title||"",description:e.description||"",type:e.type||"student",link:e.link||""}),i(!0)})(t),variant:"secondary",className:"!p-1.5 rounded-full",title:"Edit Notice",children:(0,jn.jsx)(Ya,{size:18})})]})]}),(0,jn.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:t.description}),(0,jn.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,jn.jsxs)("div",{className:"flex items-center",children:[(0,jn.jsx)(Va,{className:"mr-1"}),new Date(t.createdAt).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})]}),"both"!==t.type&&(0,jn.jsx)("span",{className:"bg-blue-50 text-blue-600 px-3 py-1 rounded-full font-medium",children:"student"===t.type?"Student":"Faculty"})]})]})},t._id)))})}),s&&(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:(0,jn.jsxs)("div",{className:"bg-white rounded-lg w-[500px] max-h-[90vh] overflow-y-auto",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center p-6 border-b",children:[(0,jn.jsx)("h2",{className:"text-xl font-semibold",children:o?"Edit Notice":"Add New Notice"}),(0,jn.jsx)("button",{onClick:()=>{i(!1),l(null)},className:"text-gray-500 hover:text-gray-700",children:(0,jn.jsx)(za,{className:"text-3xl"})})]}),(0,jn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const{title:t,description:n,type:r}=g;if(!t||!n||!r)return rn.dismiss(),void rn.error("Please fill all the fields");try{rn.loading(o?"Updating Notice":"Adding Notice");const e=await Na[o?"put":"post"]("/notice".concat(o?"/".concat(o._id):""),g,{headers:{Authorization:"Bearer ".concat(p)}});rn.dismiss(),e.data.success?(rn.success(e.data.message),w(),i(!1),l(null)):rn.error(e.data.message)}catch(c){var a,s;rn.dismiss(),rn.error((null===(a=c.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Operation failed")}},className:"p-6 space-y-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notice Title"}),(0,jn.jsx)("input",{type:"text",value:g.title,onChange:e=>y({...g,title:e.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notice Description"}),(0,jn.jsx)("textarea",{rows:"4",value:g.description,onChange:e=>y({...g,description:e.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notice Link (Optional)"}),(0,jn.jsx)("input",{type:"text",value:g.link,onChange:e=>y({...g,link:e.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type Of Notice"}),(0,jn.jsxs)("select",{value:g.type,onChange:e=>y({...g,type:e.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,jn.jsx)("option",{value:"",children:"Select Type"}),(0,jn.jsx)("option",{value:"student",children:"Student"}),(0,jn.jsx)("option",{value:"faculty",children:"Faculty"}),(0,jn.jsx)("option",{value:"both",children:"Both"})]})]}),(0,jn.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[(0,jn.jsx)(On,{variant:"secondary",onClick:()=>{i(!1),l(null)},children:"Cancel"}),(0,jn.jsx)(On,{type:"submit",variant:"primary",children:o?"Update":"Add"})]})]})]})}),(0,jn.jsx)(Za,{isOpen:c,onClose:()=>u(!1),onConfirm:async()=>{try{rn.loading("Deleting Notice");const e=await Na.delete("/notice/".concat(d),{headers:{Authorization:"Bearer ".concat(p)}});rn.dismiss(),e.data.success?(rn.success("Notice deleted successfully"),u(!1),w()):rn.error(e.data.message)}catch(n){var e,t;rn.dismiss(),rn.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete notice")}},message:"Are you sure you want to delete this notice?"})]})},ts=()=>{const[e,n]=(0,t.useState)(""),r=vn((e=>e.userData)),[a,s]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{r&&(async()=>{try{var e;s(!0);const t=await Na.get("/timetable?semester=".concat(r.semester,"&branch=").concat(null===(e=r.branchId)||void 0===e?void 0:e._id),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))}});t.data.success&&t.data.data.length>0?n(t.data.data[0].link):n("")}catch(i){var t,a;if(i&&i.response&&404===i.response.status)return void n("");Dt.error((null===(t=i.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Error fetching timetable"),console.error(i)}finally{s(!1)}})()}),[r,r.branchId,r.semester]),(0,jn.jsxs)("div",{className:"w-full mx-auto mt-10 flex justify-center items-start flex-col mb-10",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,jn.jsx)(qa,{title:"Timetable of Semester ".concat(r.semester)}),!a&&e&&(0,jn.jsxs)("p",{className:"flex justify-center items-center text-lg font-medium cursor-pointer hover:text-red-500 hover:scale-110 ease-linear transition-all duration-200 hover:duration-200 hover:ease-linear hover:transition-all",onClick:()=>window.open("http://localhost:4100/media/"+e),children:["Download",(0,jn.jsx)("span",{className:"ml-2",children:(0,jn.jsx)(h,{})})]})]}),a&&(0,jn.jsx)(Ja,{}),!a&&e&&(0,jn.jsx)("img",{className:"mt-8 rounded-lg shadow-md w-[70%] mx-auto",src:"http://localhost:4100/media/"+e,alt:"timetable"}),!a&&!e&&(0,jn.jsx)("p",{className:"mt-10",children:"No Timetable Available At The Moment!"})]})},ns=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(!1),o=vn((e=>e.userData)),[l,c]=(0,t.useState)({subject:"",type:""});(0,t.useEffect)((()=>{u()}),[]),(0,t.useEffect)((()=>{d()}),[l]);const u=async()=>{try{i(!0);const e=await Na.get("/subject?semester=".concat(o.semester,"&branch=").concat(o.branchId._id),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))}});e.data.success&&a(e.data.data)}catch(n){var e,t;if(n&&n.response&&404===n.response.status)return void a([]);rn.error((null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load subjects")}finally{i(!1)}},d=async()=>{try{i(!0);const e=new URLSearchParams({semester:o.semester,branch:o.branchId._id});l.subject&&e.append("subject",l.subject),l.type&&e.append("type",l.type);const t=await Na.get("/material?".concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))}});t.data.success&&n(t.data.data)}catch(r){var e,t;if(r&&r.response&&404===r.response.status)return void n([]);rn.error((null===r||void 0===r||null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load materials")}finally{i(!1)}},h=e=>{const{name:t,value:n}=e.target;c((e=>({...e,[t]:n})))};return(0,jn.jsxs)("div",{className:"w-full mx-auto mt-10 flex justify-center items-start flex-col mb-10",children:[(0,jn.jsx)(qa,{title:"Study Materials"}),!s&&(0,jn.jsx)("div",{className:"w-full mt-4",children:(0,jn.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Subject"}),(0,jn.jsxs)("select",{name:"subject",value:l.subject,onChange:h,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,jn.jsx)("option",{value:"",children:"All Subjects"}),r.map((e=>(0,jn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Type"}),(0,jn.jsxs)("select",{name:"type",value:l.type,onChange:h,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,jn.jsx)("option",{value:"",children:"All Types"}),(0,jn.jsx)("option",{value:"notes",children:"Notes"}),(0,jn.jsx)("option",{value:"assignment",children:"Assignment"}),(0,jn.jsx)("option",{value:"syllabus",children:"Syllabus"}),(0,jn.jsx)("option",{value:"other",children:"Other"})]})]})]})}),s&&(0,jn.jsx)(Ja,{}),!s&&(0,jn.jsx)("div",{className:"w-full mt-8 overflow-x-auto",children:(0,jn.jsxs)("table",{className:"text-sm min-w-full bg-white",children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{className:"bg-blue-500 text-white",children:[(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"File"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Title"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Subject"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Type"})]})}),(0,jn.jsx)("tbody",{children:e&&e.length>0?e.map((e=>(0,jn.jsxs)("tr",{className:"border-b hover:bg-blue-50",children:[(0,jn.jsx)("td",{className:"py-4 px-6",children:(0,jn.jsx)(On,{variant:"primary",onClick:()=>{window.open("".concat("http://localhost:4100/media","/").concat(e.file))},children:(0,jn.jsx)(Ga,{className:"text-xl"})})}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.title}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.subject.name}),(0,jn.jsx)("td",{className:"py-4 px-6 capitalize",children:e.type})]},e._id))):(0,jn.jsx)("tr",{children:(0,jn.jsx)("td",{colSpan:"4",className:"text-center text-base pt-10",children:"No materials found."})})})]})})]})},rs=e=>{let{onClose:n}=e;const[r,a]=(0,t.useState)(""),[s,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),d=sessionStorage.getItem("userToken"),h=sessionStorage.getItem("userType");return(0,jn.jsx)("section",{className:"w-full h-full flex justify-center items-center bg-black bg-opacity-50 fixed top-0 left-0 z-50",children:(0,jn.jsxs)("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white rounded-lg shadow-md w-[50%]",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,jn.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Update Password"}),(0,jn.jsx)(On,{onClick:n,className:"bg-red-500 p-2 rounded-full text-white",children:(0,jn.jsx)(za,{className:"text-2xl"})})]}),(0,jn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s===o)if(s.length<8)Dt.error("Password must be at least 8 characters long");else{u(!0);try{const e=await Na.post("/".concat(h.toLowerCase(),"/change-password"),{currentPassword:r,newPassword:s},{headers:{Authorization:"Bearer ".concat(d)}});e.data.success?(Dt.success("Password updated successfully"),a(""),i(""),l("")):Dt.error(e.data.message)}catch(c){var t,n;Dt.error((null===(t=c.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to update password")}finally{u(!1)}}else Dt.error("New passwords do not match")},children:[(0,jn.jsxs)("div",{className:"mb-4",children:[(0,jn.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Current Password"}),(0,jn.jsx)("input",{type:"password",value:r,onChange:e=>a(e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{className:"mb-4",children:[(0,jn.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"New Password"}),(0,jn.jsx)("input",{type:"password",value:s,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{className:"mb-6",children:[(0,jn.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Confirm New Password"}),(0,jn.jsx)("input",{type:"password",value:o,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Updating...":"Update Password"})]})]})})},as=e=>{let{profileData:n}=e;const[r,a]=(0,t.useState)(!1);if(!n)return null;return(0,jn.jsxs)("div",{className:"max-w-6xl mx-auto p-8",children:[(0,jn.jsxs)("div",{className:"flex items-center gap-8 mb-12 border-b pb-8 justify-between",children:[(0,jn.jsxs)("div",{className:"flex items-center gap-8",children:[(0,jn.jsx)("img",{src:"".concat("http://localhost:4100/media","/").concat(n.profile),alt:"Profile",className:"w-40 h-40 rounded-full object-cover ring-4 ring-blue-500 ring-offset-4"}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"".concat(n.firstName," ").concat(n.middleName," ").concat(n.lastName)}),(0,jn.jsx)("p",{className:"text-lg text-gray-600 mb-1",children:n.enrollmentNo}),(0,jn.jsx)("p",{className:"text-lg text-blue-600 font-medium",children:n.branchId.name})]})]}),(0,jn.jsx)("div",{className:"flex items-center gap-8 justify-end",children:(0,jn.jsx)(On,{onClick:()=>a(!r),variant:"primary",children:r?"Hide":"Update Password"})}),r&&(0,jn.jsx)(rs,{onClose:()=>a(!1)})]}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 gap-12",children:[(0,jn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,jn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b border-gray-200",children:"Personal Information"}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.email})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.phone})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Gender"}),(0,jn.jsx)("p",{className:"text-gray-900 capitalize",children:n.gender})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Blood Group"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.bloodGroup})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),(0,jn.jsx)("p",{className:"text-gray-900",children:(s=n.dob,new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Semester"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.semester})]})]})]}),(0,jn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,jn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b border-gray-200",children:"Address Information"}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Address"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.address})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"City"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.city})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"State"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.state})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Pincode"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.pincode})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Country"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.country})]})]})]}),(0,jn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,jn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b border-gray-200",children:"Emergency Contact"}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.emergencyContact.name})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Relationship"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.emergencyContact.relationship})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.emergencyContact.phone})]})]})]})]})]});var s},ss=()=>{const[e,n]=(0,t.useState)({name:"",date:"",semester:"",examType:"mid",timetableLink:"",totalMarks:""}),[r,a]=(0,t.useState)(),[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(null),p=vn((e=>e.userData)),g=sessionStorage.getItem("userType"),[w,b]=(0,t.useState)(!1),[x,v]=(0,t.useState)(!1);(0,t.useEffect)((()=>{C()}),[]);const C=async()=>{try{v(!0);let e="/exam";p.semester&&(e="/exam?semester=".concat(p.semester));const t=await Na.get(e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))}});t.data.success?a(t.data.data):Dt.error(t.data.message)}catch(r){var e,t,n;if(404===(null===(e=r.response)||void 0===e?void 0:e.status))return void a([]);console.error(r),Dt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error fetching exams")}finally{v(!1)}},S=()=>{n({name:"",date:"",semester:"",examType:"mid",timetableLink:"",totalMarks:""}),i(!1),h(!1),u(null)};return(0,jn.jsxs)("div",{className:"w-full mx-auto mt-10 flex justify-center items-start flex-col mb-10",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,jn.jsx)(qa,{title:"Exam Details"}),!x&&"Student"!==g&&(0,jn.jsx)(On,{onClick:()=>i(!0),children:(0,jn.jsx)(Ua,{className:"text-2xl"})})]}),x?(0,jn.jsx)(Ja,{}):(0,jn.jsx)("div",{className:"mt-8 w-full",children:(0,jn.jsxs)("table",{className:"text-sm min-w-full bg-white",children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{className:"bg-blue-500 text-white",children:[(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Exam Name"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Date"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Semester"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Exam Type"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Total Marks"}),"Student"!==g&&(0,jn.jsx)("th",{className:"py-4 px-6 text-center font-semibold",children:"Actions"})]})}),(0,jn.jsx)("tbody",{children:r&&r.length>0?r.map(((e,t)=>(0,jn.jsxs)("tr",{className:"border-b hover:bg-blue-50",children:[(0,jn.jsx)("td",{className:"py-4 px-6",children:e.name}),(0,jn.jsx)("td",{className:"py-4 px-6",children:new Date(e.date).toLocaleDateString()}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.semester}),(0,jn.jsx)("td",{className:"py-4 px-6",children:"mid"===e.examType?"Mid Term":"End Term"}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.totalMarks}),"Student"!==g&&(0,jn.jsxs)("td",{className:"py-4 px-6 text-center flex justify-center gap-4",children:[(0,jn.jsx)(On,{variant:"secondary",className:"!p-2",onClick:()=>{return n({name:(t=e).name,date:new Date(t.date).toISOString().split("T")[0],semester:t.semester,examType:t.examType,timetableLink:t.timetableLink,totalMarks:t.totalMarks}),u(t._id),h(!0),void i(!0);var t},children:(0,jn.jsx)(Xa,{})}),(0,jn.jsx)(On,{variant:"danger",className:"!p-2",onClick:()=>(async e=>{l(!0),u(e)})(e._id),children:(0,jn.jsx)(Qa,{})})]})]},t))):(0,jn.jsx)("tr",{children:(0,jn.jsx)("td",{colSpan:"5x",className:"text-center text-base pt-10",children:"No Exams found."})})})]})}),s&&(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,jn.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,jn.jsx)("h2",{className:"text-xl font-semibold",children:d?"Edit Exam":"Add New Exam"}),(0,jn.jsx)(On,{onClick:S,variant:"secondary",children:(0,jn.jsx)(Ka,{size:24})})]}),(0,jn.jsxs)("div",{className:"space-y-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exam Name"}),(0,jn.jsx)("input",{type:"text",value:e.name,onChange:t=>n({...e,name:t.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,jn.jsx)("input",{type:"date",value:e.date,onChange:t=>n({...e,date:t.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),(0,jn.jsxs)("select",{name:"semester",value:e.semester,onChange:t=>n({...e,semester:t.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"",children:"Select Semester"}),[1,2,3,4,5,6,7,8].map((e=>(0,jn.jsxs)("option",{value:e,children:["Semester ",e]},e)))]})]})]}),(0,jn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exam Type"}),(0,jn.jsxs)("select",{value:e.examType,onChange:t=>n({...e,examType:t.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"mid",children:"Mid Term"}),(0,jn.jsx)("option",{value:"end",children:"End Term"})]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Marks"}),(0,jn.jsx)("input",{type:"number",value:e.totalMarks,onChange:t=>n({...e,totalMarks:t.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timetable File"}),(0,jn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,jn.jsxs)("label",{className:"flex-1 px-4 py-2 border rounded-md cursor-pointer hover:bg-gray-50",children:[(0,jn.jsxs)("span",{className:"flex items-center justify-center",children:[(0,jn.jsx)(y,{className:"mr-2"}),f?f.name:"Choose File"]}),(0,jn.jsx)("input",{type:"file",onChange:e=>{m(e.target.files[0])},className:"hidden",required:!d})]}),f&&(0,jn.jsx)(On,{onClick:()=>m(null),variant:"danger",className:"!p-2",children:(0,jn.jsx)(Ka,{size:20})})]})]}),(0,jn.jsxs)("div",{className:"flex justify-end space-x-4 mt-6",children:[(0,jn.jsx)(On,{onClick:S,variant:"secondary",children:"Cancel"}),(0,jn.jsx)(On,{onClick:async()=>{if(!e.name||!e.date||!e.semester||!e.examType||!e.totalMarks)return Dt.dismiss(),void Dt.error("Please fill all the fields");try{b(!0),Dt.loading(d?"Updating Exam":"Adding Exam");const t={"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))};let n;const r=new FormData;r.append("name",e.name),r.append("date",e.date),r.append("semester",e.semester),r.append("examType",e.examType),r.append("totalMarks",e.totalMarks),d?(r.append("file",f),n=await Na.patch("/exam/".concat(c),r,{headers:t})):(r.append("file",f),n=await Na.post("/exam",r,{headers:t})),Dt.dismiss(),n.data.success?(Dt.success(n.data.message),S(),C()):Dt.error(n.data.message)}catch(t){Dt.dismiss(),Dt.error(t.response.data.message)}finally{b(!1)}},disabled:w,children:d?"Update Exam":"Add Exam"})]})]})]})}),(0,jn.jsx)(Za,{isOpen:o,onClose:()=>l(!1),onConfirm:async()=>{try{Dt.loading("Deleting Exam");const e={"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))},t=await Na.delete("/exam/".concat(c),{headers:e});Dt.dismiss(),t.data.success?(Dt.success("Exam has been deleted successfully"),l(!1),C()):Dt.error(t.data.message)}catch(e){Dt.dismiss(),Dt.error(e.response.data.message)}},message:"Are you sure you want to delete this exam?"})]})},is=()=>{const e=vn((e=>e.userData)),[n,r]=(0,t.useState)(!1),[a,s]=(0,t.useState)((null===e||void 0===e?void 0:e.semester)||1),[i,o]=(0,t.useState)([]),l=sessionStorage.getItem("userToken"),c=async e=>{r(!0),Dt.loading("Loading marks...");try{const t=await Na.get("/marks/student?semester=".concat(e),{headers:{Authorization:"Bearer ".concat(l)}});t.data.success?o(t.data.data):Dt.error(t.data.message)}catch(a){var t,n;Dt.error((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error fetching marks")}finally{r(!1),Dt.dismiss()}};(0,t.useEffect)((()=>{c((null===e||void 0===e?void 0:e.semester)||1)}),[]);const u=i.filter((e=>"mid"===e.examId.examType)),d=i.filter((e=>"end"===e.examId.examType));return(0,jn.jsxs)("div",{className:"w-full mx-auto mt-10 flex justify-center items-start flex-col mb-10",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center w-full mb-6",children:[(0,jn.jsx)(qa,{title:"View Marks"}),(0,jn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Semester:"}),(0,jn.jsx)("select",{value:a||"",onChange:e=>{const t=e.target.value;s(t),c(t)},className:"px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[1,2,3,4,5,6,7,8].map((e=>(0,jn.jsxs)("option",{value:e,children:["Semester ",e]},e)))})]})]}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full",children:[(0,jn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,jn.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Mid Term Marks"}),n?(0,jn.jsx)("p",{className:"text-gray-500",children:"Loading..."}):u.length>0?(0,jn.jsx)("div",{className:"space-y-4",children:u.map((e=>(0,jn.jsx)("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:(0,jn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("p",{className:"font-medium text-gray-800",children:e.subjectId.name}),(0,jn.jsx)("p",{className:"text-sm text-gray-500",children:e.examId.name})]}),(0,jn.jsxs)("div",{className:"text-right",children:[(0,jn.jsx)("p",{className:"text-lg font-semibold text-blue-600",children:e.marksObtained}),(0,jn.jsxs)("p",{className:"text-sm text-gray-500",children:["out of ",e.examId.totalMarks]})]})]})},e._id)))}):(0,jn.jsx)("p",{className:"text-gray-500",children:"No mid term marks available"})]}),(0,jn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,jn.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"End Term Marks"}),n?(0,jn.jsx)("p",{className:"text-gray-500",children:"Loading..."}):d.length>0?(0,jn.jsx)("div",{className:"space-y-4",children:d.map((e=>(0,jn.jsx)("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:(0,jn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("p",{className:"font-medium text-gray-800",children:e.subjectId.name}),(0,jn.jsx)("p",{className:"text-sm text-gray-500",children:e.examId.name})]}),(0,jn.jsxs)("div",{className:"text-right",children:[(0,jn.jsx)("p",{className:"text-lg font-semibold text-blue-600",children:e.marksObtained}),(0,jn.jsxs)("p",{className:"text-sm text-gray-500",children:["out of ",e.examId.totalMarks]})]})]})},e._id)))}):(0,jn.jsx)("p",{className:"text-gray-500",children:"No end term marks available"})]})]})]})};var os;!function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(os||(os={}));var ls,cs,us=new Map([[os.QR_CODE,"QR_CODE"],[os.AZTEC,"AZTEC"],[os.CODABAR,"CODABAR"],[os.CODE_39,"CODE_39"],[os.CODE_93,"CODE_93"],[os.CODE_128,"CODE_128"],[os.DATA_MATRIX,"DATA_MATRIX"],[os.MAXICODE,"MAXICODE"],[os.ITF,"ITF"],[os.EAN_13,"EAN_13"],[os.EAN_8,"EAN_8"],[os.PDF_417,"PDF_417"],[os.RSS_14,"RSS_14"],[os.RSS_EXPANDED,"RSS_EXPANDED"],[os.UPC_A,"UPC_A"],[os.UPC_E,"UPC_E"],[os.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function ds(e){return Object.values(os).includes(e)}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"}(ls||(ls={})),function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"}(cs||(cs={}));var hs,fs=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[cs.SCAN_TYPE_CAMERA,cs.SCAN_TYPE_FILE],e}(),ms=function(){function e(e,t){this.format=e,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!us.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,us.get(t))},e}(),ps=function(){function e(){}return e.createFromText=function(e){return{decodedText:e,result:{text:e}}},e.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},e}();!function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"}(hs||(hs={}));var gs=function(){function e(){}return e.createFrom=function(e){return{errorMessage:e,type:hs.UNKWOWN_ERROR}},e}(),ys=function(){function e(e){this.verbose=e}return e.prototype.log=function(e){this.verbose&&console.log(e)},e.prototype.warn=function(e){this.verbose&&console.warn(e)},e.prototype.logError=function(e,t){(this.verbose||!0===t)&&console.error(e)},e.prototype.logErrors=function(e){if(0===e.length)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},e}();function ws(e){return"undefined"===typeof e||null===e}var bs,xs=function(){function e(){}return e.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},e.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),vs=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(e){return"Last Match: ".concat(e)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Cs=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Ss=function(){function e(){}return e.isMediaStreamConstraintsValid=function(e,t){if("object"!==typeof e){var n=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var r=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),a=0,s=Object.keys(e);a<s.length;a++){var i=s[a];if(r.has(i))return t.logError("".concat(i," is not supported videoConstaints."),!0),!1}return!0},e}(),Es=n(484),Ns=function(){function e(e,t,n){if(this.formatMap=new Map([[os.QR_CODE,Es.BarcodeFormat.QR_CODE],[os.AZTEC,Es.BarcodeFormat.AZTEC],[os.CODABAR,Es.BarcodeFormat.CODABAR],[os.CODE_39,Es.BarcodeFormat.CODE_39],[os.CODE_93,Es.BarcodeFormat.CODE_93],[os.CODE_128,Es.BarcodeFormat.CODE_128],[os.DATA_MATRIX,Es.BarcodeFormat.DATA_MATRIX],[os.MAXICODE,Es.BarcodeFormat.MAXICODE],[os.ITF,Es.BarcodeFormat.ITF],[os.EAN_13,Es.BarcodeFormat.EAN_13],[os.EAN_8,Es.BarcodeFormat.EAN_8],[os.PDF_417,Es.BarcodeFormat.PDF_417],[os.RSS_14,Es.BarcodeFormat.RSS_14],[os.RSS_EXPANDED,Es.BarcodeFormat.RSS_EXPANDED],[os.UPC_A,Es.BarcodeFormat.UPC_A],[os.UPC_E,Es.BarcodeFormat.UPC_E],[os.UPC_EAN_EXTENSION,Es.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Es)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=n;var r=this.createZXingFormats(e),a=new Map;a.set(Es.DecodeHintType.POSSIBLE_FORMATS,r),a.set(Es.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(e){var t=this;return new Promise((function(n,r){try{n(t.decode(e))}catch(a){r(a)}}))},e.prototype.decode=function(e){var t=new Es.MultiFormatReader(this.verbose,this.hints),n=new Es.HTMLCanvasElementLuminanceSource(e),r=new Es.BinaryBitmap(new Es.HybridBinarizer(n)),a=t.decode(r);return{text:a.text,format:ms.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach((function(t,n,r){e.set(t,n)})),e},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createZXingFormats=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var a=r[n];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return t},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),As=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(He){s(He)}}function o(e){try{l(r.throw(e))}catch(He){s(He)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},Is=function(e,t){var n,r,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(He){o=[6,He],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},_s=function(){function e(t,n,r){if(this.formatMap=new Map([[os.QR_CODE,"qr_code"],[os.AZTEC,"aztec"],[os.CODABAR,"codabar"],[os.CODE_39,"code_39"],[os.CODE_93,"code_93"],[os.CODE_128,"code_128"],[os.DATA_MATRIX,"data_matrix"],[os.ITF,"itf"],[os.EAN_13,"ean_13"],[os.EAN_8,"ean_8"],[os.PDF_417,"pdf417"],[os.UPC_A,"upc_a"],[os.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&"undefined"!==typeof new BarcodeDetector({formats:["qr_code"]})},e.prototype.decodeAsync=function(e){return As(this,void 0,void 0,(function(){var t,n;return Is(this,(function(r){switch(r.label){case 0:return[4,this.detector.detect(e)];case 1:if(!(t=r.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(n=this.selectLargestBarcode(t)).rawValue,format:ms.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}}))}))},e.prototype.selectLargestBarcode=function(e){for(var t=null,n=0,r=0,a=e;r<a.length;r++){var s=a[r],i=s.boundingBox.width*s.boundingBox.height;i>n&&(n=i,t=s)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var a=r[n];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach((function(t,n,r){e.set(t,n)})),e},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Ts=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(He){s(He)}}function o(e){try{l(r.throw(e))}catch(He){s(He)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},Ms=function(e,t){var n,r,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(He){o=[6,He],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Ds=function(){function e(e,t,n,r){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,t&&_s.isSupported()?(this.primaryDecoder=new _s(e,n,r),this.secondaryDecoder=new Ns(e,n,r)):this.primaryDecoder=new Ns(e,n,r)}return e.prototype.decodeAsync=function(e){return Ts(this,void 0,void 0,(function(){var t;return Ms(this,(function(n){switch(n.label){case 0:t=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}}))}))},e.prototype.decodeRobustlyAsync=function(e){return Ts(this,void 0,void 0,(function(){var t,n;return Ms(this,(function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,r.sent()];case 3:if(n=r.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}}))}))},e.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,n=this.executionResults;t<n.length;t++){e+=n[t]}var r=e/this.executionResults.length;console.log("".concat(r," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Rs=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),js=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(He){s(He)}}function o(e){try{l(r.throw(e))}catch(He){s(He)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},Os=function(e,t){var n,r,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(He){o=[6,He],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ks=function(){function e(e,t){this.name=e,this.track=t}return e.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},e.prototype.apply=function(e){var t={};t[this.name]=e;var n={advanced:[t]};return this.track.applyConstraints(n)},e.prototype.value=function(){var e=this.track.getSettings();return this.name in e?e[this.name]:null},e}(),Ps=function(e){function t(t){return e.call(this,"zoom",t)||this}return Rs(t,e),t}(function(e){function t(t,n){return e.call(this,t,n)||this}return Rs(t,e),t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(e){var t={};t[this.name]=e;var n={advanced:[t]};return this.track.applyConstraints(n)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var e=this.track.getCapabilities()[this.name];return{min:e.min,max:e.max,step:e.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(ks)),Ls=function(e){function t(t){return e.call(this,"torch",t)||this}return Rs(t,e),t}(ks),Bs=function(){function e(e){this.track=e}return e.prototype.zoomFeature=function(){return new Ps(this.track)},e.prototype.torchFeature=function(){return new Ls(this.track)},e}(),Fs=function(){function e(e,t,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return e.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},e.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var n=e.surface.clientWidth,r=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,r),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,a){return js(this,void 0,void 0,(function(){var s,i;return Os(this,(function(o){switch(o.label){case 0:return s=new e(t,n,a),r.aspectRatio?(i={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(i)]):[3,2];case 1:o.sent(),o.label=2;case 2:return s.setupSurface(),[2,s]}}))}))},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(e){this.failIfClosed();var t=this,n=function(){setTimeout(e,200),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(e){return js(this,void 0,void 0,(function(){return Os(this,(function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]}))}))},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise((function(t,n){var r=e.mediaStream.getVideoTracks().length,a=0;e.mediaStream.getVideoTracks().forEach((function(n){e.mediaStream.removeTrack(n),n.stop(),++a>=r&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())}))}))},e.prototype.getCapabilities=function(){return new Bs(this.getFirstTrackOrFail())},e}(),Us=function(){function e(e){this.mediaStream=e}return e.prototype.render=function(e,t,n){return js(this,void 0,void 0,(function(){return Os(this,(function(r){return[2,Fs.create(e,this.mediaStream,t,n)]}))}))},e.create=function(t){return js(this,void 0,void 0,(function(){var n;return Os(this,(function(r){switch(r.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return[2,new e(r.sent())]}}))}))},e}(),zs=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(He){s(He)}}function o(e){try{l(r.throw(e))}catch(He){s(He)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},Hs=function(e,t){var n,r,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(He){o=[6,He],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Vs=function(){function e(){}return e.failIfNotSupported=function(){return zs(this,void 0,void 0,(function(){return Hs(this,(function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]}))}))},e.prototype.create=function(e){return zs(this,void 0,void 0,(function(){return Hs(this,(function(t){return[2,Us.create(e)]}))}))},e}(),Ws=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(He){s(He)}}function o(e){try{l(r.throw(e))}catch(He){s(He)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},Gs=function(e,t){var n,r,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(He){o=[6,He],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Ys=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=xs.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=xs.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var e=location.host.split(":")[0];return"127.0.0.1"===e||"localhost"===e},e.getCamerasFromMediaDevices=function(){return Ws(this,void 0,void 0,(function(){var e,t,n,r,a,s,i;return Gs(this,(function(o){switch(o.label){case 0:return e=function(e){for(var t=0,n=e.getVideoTracks();t<n.length;t++){var r=n[t];r.enabled=!1,r.stop(),e.removeTrack(r)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=o.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=o.sent(),r=[],a=0,s=n;a<s.length;a++)"videoinput"===(i=s[a]).kind&&r.push({id:i.deviceId,label:i.label});return e(t),[2,r]}}))}))},e.getCamerasFromMediaStreamTrack=function(){return new Promise((function(e,t){MediaStreamTrack.getSources((function(t){for(var n=[],r=0,a=t;r<a.length;r++){var s=a[r];"video"===s.kind&&n.push({id:s.id,label:s.label})}e(n)}))}))},e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"}(bs||(bs={}));var Xs,Qs=function(){function e(){this.state=bs.NOT_STARTED,this.onGoingTransactionNewState=bs.UNKNOWN}return e.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},e.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===bs.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=bs.UNKNOWN,this.directTransition(e)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===bs.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=bs.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==bs.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(e){switch(this.state){case bs.UNKNOWN:throw"Transition from unknown is not allowed";case bs.NOT_STARTED:this.failIfNewStateIs(e,[bs.PAUSED]);case bs.SCANNING:case bs.PAUSED:}},e.prototype.failIfNewStateIs=function(e,t){for(var n=0,r=t;n<r.length;n++){if(e===r[n])throw"Cannot transition from ".concat(this.state," to ").concat(e)}},e}(),qs=function(){function e(e){this.stateManager=e}return e.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},e.prototype.directTransition=function(e){this.stateManager.directTransition(e)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===bs.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==bs.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===bs.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===bs.PAUSED},e}(),Zs=function(){function e(){}return e.create=function(){return new qs(new Qs)},e}(),Ks=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ks(t,e),t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(fs),Js=function(){function e(e,t){this.logger=t,this.fps=$s.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=!0===e.disableFlip,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=$s.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Ss.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ws(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),ei=function(){function e(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");var n;this.elementId=e,this.verbose=!1,"boolean"==typeof t?this.verbose=!0===t:t&&(n=t,this.verbose=!0===n.verbose,n.experimentalFeatures),this.logger=new ys(this.verbose),this.qrcode=new Ds(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Zs.create()}return e.prototype.start=function(e,t,n,r){var a,s=this;if(!e)throw"cameraIdOrConfig is required";if(!n||"function"!=typeof n)throw"qrCodeSuccessCallback is required and should be a function.";a=r||(this.verbose?this.logger.log:function(){});var i=Js.create(t,this.logger);this.clearElement();var o=!1;i.videoConstraints&&(i.isMediaStreamConstraintsValid()?o=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var l=o,c=document.getElementById(this.elementId);c.clientWidth?c.clientWidth:$s.DEFAULT_WIDTH;c.style.position="relative",this.shouldScan=!0,this.element=c;var u=this,d=this.stateManagerProxy.startTransition(bs.SCANNING);return new Promise((function(t,r){var o=l?i.videoConstraints:u.createVideoConstraints(e);if(!o)return d.cancel(),void r("videoConstraints should be defined");var c={};l&&!i.aspectRatio||(c.aspectRatio=i.aspectRatio);var h={onRenderSurfaceReady:function(e,t){u.setupUi(e,t,i),u.isScanning=!0,u.foreverScan(i,n,a)}};Vs.failIfNotSupported().then((function(e){e.create(o).then((function(e){return e.render(s.element,c,h).then((function(e){u.renderedCamera=e,d.execute(),t(null)})).catch((function(e){d.cancel(),r(e)}))})).catch((function(e){d.cancel(),r(xs.errorGettingUserMedia(e))}))})).catch((function(e){d.cancel(),r(xs.cameraStreamingNotSupported())}))}))},e.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(bs.PAUSED),this.showPausedState(),(ws(e)||!0!==e)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(bs.SCANNING),e.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume((function(){t()})):t()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(bs.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=this;return this.renderedCamera.close().then((function(){return n.renderedCamera=null,n.element&&(n.element.removeChild(n.canvasElement),n.canvasElement=null),function(){if(e.element){var t=document.getElementById($s.SHADED_REGION_ELEMENT_ID);t&&e.element.removeChild(t)}}(),n.qrRegion&&(n.qrRegion=null),n.context&&(n.context=null),t.execute(),n.hidePausedState(),n.isScanning=!1,Promise.resolve()}))},e.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then((function(e){return e.decodedText}))},e.prototype.scanFileV2=function(e,t){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ws(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise((function(r,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var s=new Image;s.onload=function(){var e=s.width,i=s.height,o=document.getElementById(n.elementId),l=o.clientWidth?o.clientWidth:$s.DEFAULT_WIDTH,c=Math.max(o.clientHeight?o.clientHeight:i,$s.FILE_SCAN_MIN_HEIGHT),u=n.computeCanvasDrawConfig(e,i,l,c);if(t){var d=n.createCanvasElement(l,c,"qr-canvas-visible");d.style.display="inline-block",o.appendChild(d);var h=d.getContext("2d");if(!h)throw"Unable to get 2d context from canvas";h.canvas.width=l,h.canvas.height=c,h.drawImage(s,0,0,e,i,u.x,u.y,u.width,u.height)}var f=$s.FILE_SCAN_HIDDEN_CANVAS_PADDING,m=Math.max(s.width,u.width),p=Math.max(s.height,u.height),g=m+2*f,y=p+2*f,w=n.createCanvasElement(g,y);o.appendChild(w);var b=w.getContext("2d");if(!b)throw"Unable to get 2d context from canvas";b.canvas.width=g,b.canvas.height=y,b.drawImage(s,0,0,e,i,f,f,m,p);try{n.qrcode.decodeRobustlyAsync(w).then((function(e){r(ps.createFromQrcodeResult(e))})).catch(a)}catch(x){a("QR code parse error, error = ".concat(x))}},s.onerror=a,s.onabort=a,s.onstalled=a,s.onsuspend=a,s.src=URL.createObjectURL(e)}))},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Ys.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(e){if(!e)throw"videoConstaints is required argument.";if(!Ss.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},e.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(e){var t=[os.QR_CODE,os.AZTEC,os.CODABAR,os.CODE_39,os.CODE_93,os.CODE_128,os.DATA_MATRIX,os.MAXICODE,os.ITF,os.EAN_13,os.EAN_8,os.PDF_417,os.RSS_14,os.RSS_EXPANDED,os.UPC_A,os.UPC_E,os.UPC_EAN_EXTENSION];if(!e||"boolean"==typeof e)return t;if(!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===e.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],r=0,a=e.formatsToSupport;r<a.length;r++){var s=a[r];ds(s)?n.push(s):this.logger.warn("Invalid format: ".concat(s," passed in config, ignoring."))}if(0===n.length)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(e){if(ws(e))return!0;if(!ws(e.useBarCodeDetectorIfSupported))return!1!==e.useBarCodeDetectorIfSupported;if(ws(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return!!ws(t.useBarCodeDetectorIfSupported)||!1!==t.useBarCodeDetectorIfSupported},e.prototype.validateQrboxSize=function(e,t,n){var r=this,a=n.qrbox;this.validateQrboxConfig(a);var s,i=this.toQrdimensions(e,t,a),o=function(e){if(e<$s.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat($s.MIN_QR_BOX_SIZE,"px.")};o(i.width),o(i.height),i.width=((s=i.width)>e&&(r.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),s=e),s)},e.prototype.validateQrboxConfig=function(e){if("number"!==typeof e&&"function"!==typeof e&&(void 0===e.width||void 0===e.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(e,t,n){if("number"===typeof n)return{width:n,height:n};if("function"===typeof n)try{return n(e,t)}catch(r){throw new Error("qrbox config was passed as a function but it failed with unknown error"+r)}return n},e.prototype.setupUi=function(e,t,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,n);var r=ws(n.qrbox)?{width:e,height:t}:n.qrbox;this.validateQrboxConfig(r);var a=this.toQrdimensions(e,t,r);a.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var s=n.isShadedBoxEnabled()&&a.height<=t,i={x:0,y:0,width:e,height:t},o=s?this.getShadedRegionBounds(e,t,a):i,l=this.createCanvasElement(o.width,o.height),c=l.getContext("2d",{willReadFrequently:!0});c.canvas.width=o.width,c.canvas.height=o.height,this.element.append(l),s&&this.possiblyInsertShadingElement(this.element,e,t,a),this.createScannerPausedUiElement(this.element),this.qrRegion=o,this.context=c,this.canvasElement=l},e.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=xs.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(e,t){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then((function(t){return e(t.text,ps.createFromQrcodeResult(t)),n.possiblyUpdateShaders(!0),!0})).catch((function(e){n.possiblyUpdateShaders(!1);var r=xs.codeParseError(e);return t(r,gs.createFrom(r)),!1}))},e.prototype.foreverScan=function(e,t,n){var r=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),s=a.videoWidth/a.clientWidth,i=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var o=this.qrRegion.width*s,l=this.qrRegion.height*i,c=this.qrRegion.x*s,u=this.qrRegion.y*i;this.context.drawImage(a,c,u,o,l,0,0,this.qrRegion.width,this.qrRegion.height);var d=function(){r.foreverScanTimeout=setTimeout((function(){r.foreverScan(e,t,n)}),r.getTimeoutFps(e.fps))};this.scanContext(t,n).then((function(a){a||!0===e.disableFlip?d():(r.context.translate(r.context.canvas.width,0),r.context.scale(-1,1),r.scanContext(t,n).finally((function(){d()})))})).catch((function(e){r.logger.logError("Error happend while scanning context",e),d()}))}},e.prototype.createVideoConstraints=function(e){if("string"==typeof e)return{deviceId:{exact:e}};if("object"==typeof e){var t="facingMode",n="deviceId",r={user:!0,environment:!0},a="exact",s=function(e){if(e in r)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(e,"'")},i=Object.keys(e);if(1!==i.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(i.length," keys");var o=Object.keys(e)[0];if(o!==t&&o!==n)throw"Only '".concat(t,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(o!==t){var l=e.deviceId;if("string"==typeof l)return{deviceId:l};if("object"==typeof l){if(a in l)return{deviceId:{exact:l["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof l)}var c=e.facingMode;if("string"==typeof c){if(s(c))return{facingMode:c}}else{if("object"!=typeof c)throw"Invalid type of 'facingMode' = ".concat(typeof c);if(!(a in c))throw"'facingMode' should be string or object with"+" ".concat(a," as key.");if(s(c["".concat(a)]))return{facingMode:{exact:c["".concat(a)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof e)},e.prototype.computeCanvasDrawConfig=function(e,t,n,r){if(e<=n&&t<=r)return{x:(n-e)/2,y:(r-t)/2,width:e,height:t};var a=e,s=t;return e>n&&(t*=n/e,e=n),t>r&&(e*=r/t,t=r),this.logger.log("Image downsampled from "+"".concat(a,"X").concat(s)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,n,r)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},e.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach((function(t){t.style.backgroundColor=e?$s.BORDER_SHADER_MATCH_COLOR:$s.BORDER_SHADER_DEFAULT_COLOR})),this.qrMatch=e)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(e,t,n){var r=e,a=t,s=document.createElement("canvas");return s.style.width="".concat(r,"px"),s.style.height="".concat(a,"px"),s.style.display="none",s.id=ws(n)?"qr-canvas":n,s},e.prototype.getShadedRegionBounds=function(e,t,n){if(n.width>e||n.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(t-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(e,t,n,r){if(!(t-r.width<1||n-r.height<1)){var a=document.createElement("div");a.style.position="absolute";var s=(t-r.width)/2,i=(n-r.height)/2;if(a.style.borderLeft="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(i,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(i,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat($s.SHADED_REGION_ELEMENT_ID),t-r.width<11||n-r.height<11)this.hasBorderShaders=!1;else{var o=40;this.insertShaderBorders(a,o,5,-5,null,0,!0),this.insertShaderBorders(a,o,5,-5,null,0,!1),this.insertShaderBorders(a,o,5,null,-5,0,!0),this.insertShaderBorders(a,o,5,null,-5,0,!1),this.insertShaderBorders(a,5,45,-5,null,-5,!0),this.insertShaderBorders(a,5,45,null,-5,-5,!0),this.insertShaderBorders(a,5,45,-5,null,-5,!1),this.insertShaderBorders(a,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}e.append(a)}},e.prototype.insertShaderBorders=function(e,t,n,r,a,s,i){var o=document.createElement("div");o.style.position="absolute",o.style.backgroundColor=$s.BORDER_SHADER_DEFAULT_COLOR,o.style.width="".concat(t,"px"),o.style.height="".concat(n,"px"),null!==r&&(o.style.top="".concat(r,"px")),null!==a&&(o.style.bottom="".concat(a,"px")),i?o.style.left="".concat(s,"px"):o.style.right="".concat(s,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(o),e.appendChild(o)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(e){return 1e3/e},e}(),ti="data:image/svg+xml;base64,",ni=ti+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",ri=ti+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",ai=ti+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",si=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),ii=function(){function e(){this.data=si.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},e.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=si.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),oi=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Cs.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var n=document.createElement("br"),r=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(r);var a=document.createElement("a");a.innerText=Cs.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),e.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),li=function(){function e(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=ai,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(e){return t.onHoverIn()},this.infoIcon.onmouseout=function(e){return t.onHoverOut()},this.infoIcon.onclick=function(e){return t.onClick()},e.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=ai,this.infoIcon.style.opacity="0.6")},e}(),ci=function(){function e(){var e=this;this.infoDiv=new oi,this.infoIcon=new li((function(){e.infoDiv.show()}),(function(){e.infoDiv.hide()}))}return e.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},e}(),ui=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(He){s(He)}}function o(e){try{l(r.throw(e))}catch(He){s(He)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},di=function(e,t){var n,r,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(He){o=[6,He],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},hi=function(){function e(){}return e.hasPermissions=function(){return ui(this,void 0,void 0,(function(){var e,t,n,r;return di(this,(function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=a.sent(),t=0,n=e;t<n.length;t++)if("videoinput"===(r=n[t]).kind&&r.label)return[2,!0];return[2,!1]}}))}))},e}(),fi=function(){function e(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(e){return e===cs.SCAN_TYPE_CAMERA},e.isFileScanType=function(e){return e===cs.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(e){if(!e||0===e.length)return fs.DEFAULT_SUPPORTED_SCAN_TYPE;var t=fs.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var n=0,r=e;n<r.length;n++){var a=r[n];if(!fs.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return e},e}(),mi=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),pi=function(){function e(){}return e.createElement=function(e,t){var n=document.createElement(e);return n.id=t,n.classList.add(mi.ALL_ELEMENT_CLASS),"button"===e&&n.setAttribute("type","button"),n},e}(),gi=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(He){s(He)}}function o(e){try{l(r.throw(e))}catch(He){s(He)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},yi=function(e,t){var n,r,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(He){o=[6,He],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},wi=function(){function e(e,t,n){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=t,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return gi(this,void 0,void 0,(function(){var e,t;return yi(this,(function(n){switch(n.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return t=n.sent(),this.propagateFailure(e,t),this.buttonController.enable(),[3,4];case 4:return[2]}}))}))},e.prototype.updateUiBasedOnLatestSettings=function(e,t){e===t?(this.buttonController.setText(t?vs.torchOffButton():vs.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},e.prototype.propagateFailure=function(e,t){var n=e?vs.torchOnFailedMessage():vs.torchOffFailedMessage();t&&(n+="; Error = "+t),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),bi=function(){function e(e,t){this.onTorchActionFailureCallback=t,this.torchButton=pi.createElement("button",mi.TORCH_BUTTON_ID),this.torchController=new wi(e,this,t)}return e.prototype.render=function(e,t){var n=this;this.torchButton.innerText=vs.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var r=this;this.torchButton.addEventListener("click",(function(e){return gi(n,void 0,void 0,(function(){return yi(this,(function(e){switch(e.label){case 0:return[4,r.torchController.flipState()];case 1:return e.sent(),r.torchController.isTorchEnabled()?(r.torchButton.classList.remove(mi.TORCH_BUTTON_CLASS_TORCH_OFF),r.torchButton.classList.add(mi.TORCH_BUTTON_CLASS_TORCH_ON)):(r.torchButton.classList.remove(mi.TORCH_BUTTON_CLASS_TORCH_ON),r.torchButton.classList.add(mi.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}}))}))})),e.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(e){this.torchController=new wi(e,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(e){this.torchButton.innerText=e},e.prototype.reset=function(){this.torchButton.innerText=vs.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,a){var s=new e(n,a);return s.render(t,r),s},e}(),xi=function(){function e(e,t,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",e.appendChild(this.fileBasedScanRegion);var r=document.createElement("label");r.setAttribute("for",this.getFileScanInputId()),r.style.display="inline-block",this.fileBasedScanRegion.appendChild(r),this.fileSelectionButton=pi.createElement("button",mi.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",(function(e){r.click()})),r.append(this.fileSelectionButton),this.fileScanInput=pi.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",r.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",(function(e){if(null!=e&&null!=e.target){var t=e.target;if(!t.files||0!==t.files.length){var r=t.files[0],s=r.name;a.setImageNameToButton(s),n(r)}}}));var s=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(s),this.fileBasedScanRegion.addEventListener("dragenter",(function(e){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("dragleave",(function(e){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("dragover",(function(e){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("drop",(function(e){e.stopPropagation(),e.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var t=e.dataTransfer;if(t){var r=t.files;if(!r||0===r.length)return;for(var i=!1,o=0;o<r.length;++o){var l=r.item(o);if(l){if(l.type.match(/image.*/)){i=!0;var c=l.name;a.setImageNameToButton(c),n(l),s.innerText=vs.dragAndDropMessage();break}}}i||(s.innerText=vs.dragAndDropMessageOnlyImages())}}))}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=vs.dragAndDropMessage(),e.style.fontWeight="400",e},e.prototype.setImageNameToButton=function(e){if(e.length>20){var t=e.substring(0,8),n=e.length,r=e.substring(n-8,n);e="".concat(t,"....").concat(r)}var a=vs.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=a},e.prototype.setInitialValueToButton=function(){var e=vs.fileSelectionChooseImage()+" - "+vs.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){return new e(t,n,r)},e}(),vi=function(){function e(e){this.selectElement=pi.createElement("select",mi.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return e.prototype.render=function(e){var t=document.createElement("span");t.style.marginRight="10px";var n=this.cameras.length;if(0===n)throw new Error("No cameras found");if(1===n)t.style.display="none";else{var r=vs.selectCamera();t.innerText="".concat(r," (").concat(this.cameras.length,")  ")}for(var a=1,s=0,i=this.cameras;s<i.length;s++){var o=i[s],l=o.id,c=null==o.label?l:o.label;c&&""!==c||(c=[vs.anonymousCameraPrefix(),a++].join(" "));var u=document.createElement("option");u.value=l,u.innerText=c,this.options.push(u),this.selectElement.appendChild(u)}t.appendChild(this.selectElement),e.appendChild(t)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return!0===this.selectElement.disabled},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(e){for(var t=0,n=this.options;t<n.length;t++){if(n[t].value===e)return!0}return!1},e.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},e.prototype.hasSingleItem=function(){return 1===this.cameras.length},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),Ci=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=pi.createElement("input",mi.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(e,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=vs.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var r=this;this.rangeInput.addEventListener("input",(function(){return r.onValueChange()})),this.rangeInput.addEventListener("change",(function(){return r.onValueChange()})),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var e=vs.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(e,t,n,r){this.rangeInput.min=e.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=r.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}();!function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"}(Xs||(Xs={}));var Si=function(){function e(e,t,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=!0===n,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new fi(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new ys(this.verbose),this.persistedDataManager=new ii,!0!==t.rememberLastUsedCamera&&this.persistedDataManager.reset()}return e.prototype.render=function(e,t){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(t,r){if(e)e(t,r);else{if(n.lastMatchFound===t)return;n.lastMatchFound=t,n.setHeaderMessage(vs.lastMatch(t),Xs.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(e,n){t&&t(e,n)};var r,a,s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new ei(this.getScanRegionId(),(r=this.config,a=this.verbose,{formatsToSupport:r.formatsToSupport,useBarCodeDetectorIfSupported:r.useBarCodeDetectorIfSupported,experimentalFeatures:r.experimentalFeatures,verbose:a}))},e.prototype.pause=function(e){(ws(e)||!0!==e)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var e=this,t=function(){var t=document.getElementById(e.elementId);t&&(t.innerHTML="",e.resetBasicLayout(t))};return this.html5Qrcode?new Promise((function(n,r){e.html5Qrcode?e.html5Qrcode.isScanning?e.html5Qrcode.stop().then((function(r){e.html5Qrcode?(e.html5Qrcode.clear(),t(),n()):n()})).catch((function(t){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",t),r(t)})):(e.html5Qrcode.clear(),t(),n()):n()})):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(e){return e?(e.fps||(e.fps=fs.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!fs.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=fs.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=fs.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:fs.SCAN_DEFAULT_FPS,rememberLastUsedCamera:fs.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:fs.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),n=this.getScanRegionId();t.id=n,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),fi.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var r=document.createElement("div"),a=this.getDashboardId();r.id=a,r.style.width="100%",e.appendChild(r),this.setupInitialDashboard(r)},e.prototype.resetBasicLayout=function(e){e.style.border="none"},e.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t),(new ci).renderInto(t);var n=document.createElement("div");n.id=this.getHeaderMessageContainerId(),n.style.display="none",n.style.textAlign="center",n.style.fontSize="14px",n.style.padding="2px 10px",n.style.margin="4px",n.style.borderTop="1px solid #f6f6f6",t.appendChild(n)},e.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},e.prototype.createCameraListUi=function(e,t,n){var r=this;r.showHideScanTypeSwapLink(!1),r.setHeaderMessage(vs.cameraPermissionRequesting());var a=function(){n||r.createPermissionButton(e,t)};ei.getCameras().then((function(n){r.persistedDataManager.setHasPermission(!0),r.showHideScanTypeSwapLink(!0),r.resetHeaderMessage(),n&&n.length>0?(e.removeChild(t),r.renderCameraSelection(n)):(r.setHeaderMessage(vs.noCameraFound(),Xs.STATUS_WARNING),a())})).catch((function(e){r.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:a(),r.setHeaderMessage(e,Xs.STATUS_WARNING),r.showHideScanTypeSwapLink(!0)}))},e.prototype.createPermissionButton=function(e,t){var n=this,r=pi.createElement("button",this.getCameraPermissionButtonId());r.innerText=vs.cameraPermissionTitle(),r.addEventListener("click",(function(){r.disabled=!0,n.createCameraListUi(e,t,r)})),t.appendChild(r)},e.prototype.createPermissionsUi=function(e,t){var n=this;fi.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?hi.hasPermissions().then((function(r){r?n.createCameraListUi(e,t):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,t))})).catch((function(r){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,t)})):this.createPermissionButton(e,t)},e.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=fi.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(n);var r=document.createElement("div");r.style.textAlign="center",n.appendChild(r),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,r),this.renderFileScanUi(t)},e.prototype.renderFileScanUi=function(e){var t=fi.isFileScanType(this.currentScanType),n=this;this.fileSelectionUi=xi.create(e,t,(function(e){if(!n.html5Qrcode)throw"html5Qrcode not defined";fi.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(vs.loadingImage()),n.html5Qrcode.scanFileV2(e,!0).then((function(e){n.resetHeaderMessage(),n.qrCodeSuccessCallback(e.decodedText,e)})).catch((function(e){n.setHeaderMessage(e,Xs.STATUS_WARNING),n.qrCodeErrorCallback(e,gs.createFrom(e))})))}))},e.prototype.renderCameraSelection=function(e){var t=this,n=this,r=document.getElementById(this.getDashboardSectionCameraScanRegionId());r.style.textAlign="center";var a=Ci.create(r,!1),s=vi.create(r,e),i=document.createElement("span"),o=pi.createElement("button",mi.CAMERA_START_BUTTON_ID);o.innerText=vs.scanButtonStartScanningText(),i.appendChild(o);var l,c=pi.createElement("button",mi.CAMERA_STOP_BUTTON_ID);c.innerText=vs.scanButtonStopScanningText(),c.style.display="none",c.disabled=!0,i.appendChild(c);r.appendChild(i);var u=function(e){e||(o.style.display="none"),o.innerText=vs.scanButtonStartScanningText(),o.style.opacity="1",o.disabled=!1,e&&(o.style.display="inline-block")};if(o.addEventListener("click",(function(e){o.innerText=vs.scanButtonScanningStarting(),s.disable(),o.disabled=!0,o.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var r,d=s.getValue();n.persistedDataManager.setLastUsedCameraId(d),n.html5Qrcode.start(d,(r=n.config,{fps:r.fps,qrbox:r.qrbox,aspectRatio:r.aspectRatio,disableFlip:r.disableFlip,videoConstraints:r.videoConstraints}),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then((function(e){c.disabled=!1,c.style.display="inline-block",u(!1);var r=n.html5Qrcode.getRunningTrackCameraCapabilities();!0===t.config.showTorchButtonIfSupported&&function(e){e.torchFeature().isSupported()?(l?l.updateTorchCapability(e.torchFeature()):l=bi.create(i,e.torchFeature(),{display:"none",marginLeft:"5px"},(function(e){n.setHeaderMessage(e,Xs.STATUS_WARNING)})),l.show()):l&&l.hide()}(r),!0===t.config.showZoomSliderIfSupported&&function(e){var n=e.zoomFeature();if(n.isSupported()){a.setOnCameraZoomValueChangeCallback((function(e){n.apply(e)}));var r,s,i,o=1;t.config.defaultZoomValueIfSupported&&(o=t.config.defaultZoomValueIfSupported),r=o,s=n.min(),o=r>(i=n.max())?i:r<s?s:r,a.setValues(n.min(),n.max(),o,n.step()),a.show()}}(r)})).catch((function(e){n.showHideScanTypeSwapLink(!0),s.enable(),u(!0),n.setHeaderMessage(e,Xs.STATUS_WARNING)}))})),s.hasSingleItem()&&o.click(),c.addEventListener("click",(function(e){if(!n.html5Qrcode)throw"html5Qrcode not defined";c.disabled=!0,n.html5Qrcode.stop().then((function(e){t.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),s.enable(),o.disabled=!1,c.style.display="none",o.style.display="inline-block",l&&(l.reset(),l.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),n.insertCameraScanImageToScanRegion()})).catch((function(e){c.disabled=!1,n.setHeaderMessage(e,Xs.STATUS_WARNING)}))})),n.persistedDataManager.getLastUsedCameraId()){var d=n.persistedDataManager.getLastUsedCameraId();s.hasValue(d)?(s.setValue(d),o.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var e=this,t=vs.textIfCameraScanSelected(),n=vs.textIfFileScanSelected(),r=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var s=pi.createElement("span",this.getDashboardSectionSwapLinkId());s.style.textDecoration="underline",s.style.cursor="pointer",s.innerText=fi.isCameraScanType(this.currentScanType)?t:n,s.addEventListener("click",(function(){e.sectionSwapAllowed?(e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,fi.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),s.innerText=n,e.currentScanType=cs.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),s.innerText=t,e.currentScanType=cs.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0):e.verbose&&e.logger.logError("Section swap called when not allowed")})),a.appendChild(s),r.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;this.persistedDataManager.hasCameraPermissions()&&hi.hasPermissions().then((function(n){if(n){var r=document.getElementById(t.getCameraPermissionButtonId());if(!r)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";r.click()}else t.persistedDataManager.setHasPermission(!1)})).catch((function(e){t.persistedDataManager.setHasPermission(!1)}))},e.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},e.prototype.setHeaderMessage=function(e,t){t||(t=Xs.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=e,n.style.display="block",t){case Xs.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case Xs.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case Xs.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)"}},e.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==e&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return t.innerHTML="<br>",void t.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=ni,this.cameraScanImage.alt=vs.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return t.innerHTML="<br>",void t.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(n){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=ri,this.fileScanImage.alt=vs.fileScanAltText()},e.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return mi.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return mi.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}(),Ei=n(97),Ni=n.n(Ei);const Ai=e=>{let{seconds:t}=e;return(0,jn.jsx)("div",{className:"text-4xl font-bold text-center my-4",children:t})},Ii=()=>{const[e,n]=(0,t.useState)(""),[r,a]=(0,t.useState)(0),[s,i]=(0,t.useState)(null),o=(0,t.useRef)(null),[l,c]=(0,t.useState)(null);(0,t.useEffect)((()=>{e&&0===r&&!s&&a(5)}),[e]),(0,t.useEffect)((()=>{if(e)return;const t=new Si("qr-reader",{fps:10,qrbox:250});return t.render((e=>{const r=String(e).trim();r&&(n(r),t.clear().catch((()=>{})))}),(()=>{})),()=>{try{t.clear()}catch(He){}}}),[e]),(0,t.useEffect)((()=>{if(r<=0||!e)return;const t=setTimeout((()=>a(r-1)),1e3);return 1===r&&u(),()=>clearTimeout(t)}),[r,e]);const u=()=>{if(!o.current)return;const e=o.current.getScreenshot();i(e)};return(0,jn.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,jn.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Join Attendance Session"}),!e&&(0,jn.jsxs)("div",{className:"bg-gray-100 p-4 rounded",children:[(0,jn.jsx)("p",{className:"mb-2",children:"Scan the QR code provided by your teacher:"}),(0,jn.jsx)("div",{id:"qr-reader",className:"w-full"})]}),e&&!s&&(0,jn.jsxs)("div",{className:"mt-6",children:[(0,jn.jsx)("p",{className:"mb-2",children:"Get ready for a selfie. Capturing in:"}),(0,jn.jsx)(Ai,{seconds:r}),(0,jn.jsx)(Ni(),{ref:o,audio:!1,screenshotFormat:"image/png",className:"rounded border w-full"})]}),s&&!l&&(0,jn.jsxs)("div",{className:"mt-6",children:[(0,jn.jsx)("p",{className:"mb-2",children:"Preview your selfie"}),(0,jn.jsx)("img",{src:s,alt:"Selfie",className:"rounded border max-w-xs"}),(0,jn.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,jn.jsx)(On,{onClick:async()=>{if(!e||!s)return rn.error("Scan a QR and take selfie");try{const t=await(await fetch(s)).blob(),n=new FormData;n.append("selfie",t,"selfie_".concat(Date.now(),".png"));const r=await Na.post("/attendance/mark?token=".concat(e),n,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("userToken")),"Content-Type":"multipart/form-data"}});c(r.data.data),rn.success("Attendance marked")}catch(He){var t,n;rn.error((null===(t=He.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to mark attendance")}},children:"Submit Attendance"}),(0,jn.jsx)(On,{variant:"secondary",onClick:()=>i(null),children:"Retake"})]})]}),l&&(0,jn.jsxs)("div",{className:"mt-6 p-4 border rounded bg-green-50",children:[(0,jn.jsx)("h3",{className:"font-semibold mb-2",children:"Present \u2714"}),l.selfieUrl&&(0,jn.jsx)("img",{src:l.selfieUrl,alt:"Selfie",className:"rounded border max-w-xs mb-2"}),(0,jn.jsxs)("p",{children:["Marked at: ",new Date(l.markedAt).toLocaleString()]})]})]})},_i=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]);return(0,t.useEffect)((()=>{(async()=>{try{const e=sessionStorage.getItem("userToken"),t=await Na.get("/attendance/my",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data.data||[])}catch(He){}})(),(async()=>{try{var e,t,n,r,s,o,l,c;const u=sessionStorage.getItem("userToken"),d=await Na.get("/student/my-details",{headers:{Authorization:"Bearer ".concat(u)}}),h=(null===(e=d.data)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.branchId)||void 0===n?void 0:n._id)||(null===(r=d.data)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.branchId),f=null===(o=d.data)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.semester;if(!h||!f)return;const m=(null===(c=(await Na.get("/subject?branch=".concat(h,"&semester=").concat(f),{headers:{Authorization:"Bearer ".concat(u)}})).data)||void 0===c?void 0:c.data)||[];a(m);const p=await Promise.all(m.map((async e=>{try{const t=await Na.get("/attendance/subject/".concat(e._id,"/my"),{headers:{Authorization:"Bearer ".concat(u)}});return{subjectId:e._id,name:e.name,code:e.code,...t.data.data}}catch{return{subjectId:e._id,name:e.name,code:e.code,totalSessions:0,presentCount:0,percentage:0}}})));i(p)}catch(He){}})()}),[]),(0,jn.jsxs)("div",{children:[(0,jn.jsx)(Ii,{}),(0,jn.jsxs)("div",{className:"mt-8",children:[(0,jn.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Subject-wise Attendance"}),(0,jn.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,jn.jsxs)("table",{className:"min-w-full border",children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{className:"bg-gray-100",children:[(0,jn.jsx)("th",{className:"p-2 border",children:"Subject"}),(0,jn.jsx)("th",{className:"p-2 border",children:"Code"}),(0,jn.jsx)("th",{className:"p-2 border",children:"Present"}),(0,jn.jsx)("th",{className:"p-2 border",children:"Total"}),(0,jn.jsx)("th",{className:"p-2 border",children:"%"})]})}),(0,jn.jsxs)("tbody",{children:[s.map((e=>(0,jn.jsxs)("tr",{children:[(0,jn.jsx)("td",{className:"p-2 border",children:e.name}),(0,jn.jsx)("td",{className:"p-2 border",children:e.code}),(0,jn.jsx)("td",{className:"p-2 border",children:e.presentCount}),(0,jn.jsx)("td",{className:"p-2 border",children:e.totalSessions}),(0,jn.jsxs)("td",{className:"p-2 border",children:[e.percentage,"%"]})]},e.subjectId))),0===s.length&&(0,jn.jsx)("tr",{children:(0,jn.jsx)("td",{className:"p-2 border text-center",colSpan:5,children:"No subjects found."})})]})]})}),(0,jn.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"My Attendance"}),(0,jn.jsx)("div",{className:"overflow-x-auto",children:(0,jn.jsxs)("table",{className:"min-w-full border",children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{className:"bg-gray-100",children:[(0,jn.jsx)("th",{className:"p-2 border",children:"Date/Time"}),(0,jn.jsx)("th",{className:"p-2 border",children:"Status"}),(0,jn.jsx)("th",{className:"p-2 border",children:"Selfie"})]})}),(0,jn.jsxs)("tbody",{children:[e.map((e=>(0,jn.jsxs)("tr",{children:[(0,jn.jsx)("td",{className:"p-2 border",children:new Date(e.markedAt).toLocaleString()}),(0,jn.jsx)("td",{className:"p-2 border",children:e.status}),(0,jn.jsx)("td",{className:"p-2 border",children:e.selfie&&(0,jn.jsx)("a",{href:"".concat("http://localhost:4100/media","/").concat(e.selfie),target:"_blank",rel:"noreferrer",className:"text-blue-600 underline",children:"View"})})]},e._id))),0===e.length&&(0,jn.jsx)("tr",{children:(0,jn.jsx)("td",{className:"p-2 border text-center",colSpan:3,children:"No attendance yet."})})]})]})})]})]})},Ti=[{id:"home",label:"Home",component:null},{id:"timetable",label:"Timetable",component:ts},{id:"material",label:"Material",component:ns},{id:"notice",label:"Notice",component:es},{id:"exam",label:"Exam",component:ss},{id:"marks",label:"Marks",component:is},{id:"attendance",label:"Attendance",component:_i}],Mi=()=>{const[e,n]=(0,t.useState)("home"),[r,a]=(0,t.useState)(),[s,i]=(0,t.useState)(!1),o=Mn(),l=sessionStorage.getItem("userToken"),c=ue(),u=he();(0,t.useEffect)((()=>{(async()=>{i(!0);try{Dt.loading("Loading user details...");const e=await Na.get("/student/my-details",{headers:{Authorization:"Bearer ".concat(l)}});e.data.success?(a(e.data.data),o(on(e.data.data))):Dt.error(e.data.message)}catch(n){var e,t;console.error(n),Dt.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error fetching user details")}finally{i(!1),Dt.dismiss()}})()}),[o,l]);const d=t=>{const n=e.toLowerCase()===t.toLowerCase();return"\n      text-center px-6 py-3 cursor-pointer\n      font-medium text-sm w-full\n      rounded-md\n      transition-all duration-300 ease-in-out\n      ".concat(n?"bg-gradient-to-r from-blue-400 to-blue-600 text-white shadow-lg transform -translate-y-1":"bg-blue-50 text-blue-700 hover:bg-blue-100","\n    ")};(0,t.useEffect)((()=>{const e=new URLSearchParams(c.search).get("page")||"home",t=Ti.find((t=>t.id===e));n(t?t.id:"home")}),[c.pathname]);return(0,jn.jsxs)(jn.Fragment,{children:[(0,jn.jsx)(Fa,{}),(0,jn.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,jn.jsx)("ul",{className:"flex justify-evenly items-center gap-10 w-full mx-auto my-8",children:Ti.map((e=>(0,jn.jsx)("li",{className:d(e.id),onClick:()=>{return t=e.id,n(t),void u("/student?page=".concat(t));var t},children:e.label},e.id)))}),(()=>{var t;if(s)return(0,jn.jsx)("div",{className:"flex justify-center items-center h-64",children:"Loading..."});if("home"===e&&r)return(0,jn.jsx)(as,{profileData:r});const n=null===(t=Ti.find((t=>t.label.toLowerCase()===e.toLowerCase())))||void 0===t?void 0:t.component;return n&&(0,jn.jsx)(n,{})})()]}),(0,jn.jsx)(nn,{position:"bottom-center"})]})},Di=e=>{let{isOpen:n,onClose:r,onSubmit:a,initialData:s=null,branches:i}=e;const[o,l]=(0,t.useState)({branch:(null===s||void 0===s?void 0:s.branch)||"",semester:(null===s||void 0===s?void 0:s.semester)||"",file:null,previewUrl:(null===s||void 0===s?void 0:s.file)||""});return n?(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:(0,jn.jsxs)("div",{className:"bg-white p-8 rounded-lg w-[500px] max-h-[90vh] overflow-y-auto",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,jn.jsx)("h2",{className:"text-xl font-semibold",children:s?"Edit Timetable":"Add New Timetable"}),(0,jn.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:(0,jn.jsx)(za,{className:"text-3xl"})})]}),(0,jn.jsxs)("div",{className:"space-y-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block mb-2",children:"Branch"}),(0,jn.jsxs)("select",{value:o.branch,onChange:e=>l({...o,branch:e.target.value}),className:"w-full px-4 py-2 border rounded-md",children:[(0,jn.jsx)("option",{value:"",children:"Select Branch"}),null===i||void 0===i?void 0:i.map((e=>(0,jn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block mb-2",children:"Semester"}),(0,jn.jsxs)("select",{value:o.semester,onChange:e=>l({...o,semester:e.target.value}),className:"w-full px-4 py-2 border rounded-md",children:[(0,jn.jsx)("option",{value:"",children:"Select Semester"}),[1,2,3,4,5,6,7,8].map((e=>(0,jn.jsxs)("option",{value:e,children:["Semester ",e]},e)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block mb-2",children:"Timetable File"}),(0,jn.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];l({...o,file:t,previewUrl:URL.createObjectURL(t)})},className:"w-full"})]}),o.previewUrl&&(0,jn.jsx)("div",{className:"mt-4",children:(0,jn.jsx)("img",{src:o.previewUrl,alt:"Preview",className:"max-w-full h-auto"})}),(0,jn.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,jn.jsx)(On,{variant:"secondary",onClick:r,children:"Cancel"}),(0,jn.jsx)(On,{variant:"primary",onClick:()=>{a(o),r()},children:s?"Update":"Add"})]})]})]})}):null},Ri=()=>{const[e,n]=(0,t.useState)(),[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),f=sessionStorage.getItem("userToken");(0,t.useEffect)((()=>{m(),p()}),[]);const m=async()=>{try{const e=await Na.get("/branch",{headers:{Authorization:"Bearer ".concat(f)}});e.data.success?n(e.data.data):rn.error(e.data.message)}catch(r){var e,t;console.error(r),rn.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error fetching branches")}},p=async()=>{try{const e=await Na.get("/timetable",{headers:{Authorization:"Bearer ".concat(f)}});e.data.success?a(e.data.data):rn.error(e.data.message)}catch(n){var e,t;console.error(n),rn.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error fetching timetables")}};return(0,jn.jsxs)("div",{className:"w-full mx-auto mt-10 flex justify-center items-start flex-col mb-10 relative",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,jn.jsx)(qa,{title:"Timetable Management"}),(0,jn.jsx)(On,{onClick:()=>u(!0),children:(0,jn.jsx)(Ua,{className:"text-2xl"})})]}),(0,jn.jsx)("div",{className:"mt-8 w-full",children:(0,jn.jsxs)("table",{className:"text-sm min-w-full bg-white",children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{className:"bg-blue-500 text-white",children:[(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"View"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Branch"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Semester"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Created At"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-center font-semibold",children:"Actions"})]})}),(0,jn.jsx)("tbody",{children:r.map(((e,t)=>(0,jn.jsxs)("tr",{className:"border-b hover:bg-blue-50",children:[(0,jn.jsx)("td",{className:"py-4 px-6",children:(0,jn.jsx)("a",{className:"text-xl",href:"http://localhost:4100/media/"+e.link,target:"_blank",rel:"noopener noreferrer",children:(0,jn.jsx)(Ga,{})})}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.branch.name}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.semester}),(0,jn.jsx)("td",{className:"py-4 px-6",children:new Date(e.createdAt).toLocaleDateString()}),(0,jn.jsxs)("td",{className:"py-4 px-6 text-center flex justify-center gap-4",children:[(0,jn.jsx)(On,{variant:"secondary",onClick:()=>(h(e),void u(!0)),children:(0,jn.jsx)(Xa,{})}),(0,jn.jsx)(On,{variant:"danger",onClick:()=>(async e=>{i(!0),l(e)})(e._id),children:(0,jn.jsx)(Qa,{})})]})]},t)))})]})}),(0,jn.jsx)(Di,{isOpen:c,onClose:()=>{u(!1),h(null)},onSubmit:async e=>{const t={"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(f)},n=new FormData;n.append("branch",e.branch),n.append("semester",e.semester),e.file&&n.append("file",e.file);try{let e;rn.loading(d?"Updating Timetable":"Adding Timetable"),e=d?await Na.put("/timetable/".concat(d._id),n,{headers:t}):await Na.post("/timetable",n,{headers:t}),rn.dismiss(),e.data.success?(rn.success(e.data.message),p(),u(!1),h(null)):rn.error(e.data.message)}catch(s){var r,a;rn.dismiss(),rn.error((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Error with timetable")}},initialData:d,branches:e}),(0,jn.jsx)(Za,{isOpen:s,onClose:()=>i(!1),onConfirm:async()=>{try{rn.loading("Deleting Timetable");const e=await Na.delete("/timetable/".concat(o),{headers:{Authorization:"Bearer ".concat(f)}});rn.dismiss(),e.data.success?(rn.success("Timetable deleted successfully"),i(!1),p()):rn.error(e.data.message)}catch(n){var e,t;rn.dismiss(),rn.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error deleting timetable")}},message:"Are you sure you want to delete this timetable?"})]})},ji=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[m,p]=(0,t.useState)(!1),[w,b]=(0,t.useState)(null),[x,v]=(0,t.useState)({title:"",subject:"",semester:"",branch:"",type:"notes"}),[C,S]=(0,t.useState)(null),[E,N]=(0,t.useState)({subject:"",semester:"",branch:"",type:""}),[A,I]=(0,t.useState)(null);(0,t.useEffect)((()=>{_(),T(),M()}),[]),(0,t.useEffect)((()=>{M()}),[E]);const _=async()=>{try{rn.loading("Loading subjects...");const e=await Na.get("/subject",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))}});e.data.success&&a(e.data.data)}catch(A){var e,t,n;if(404===(null===(e=A.response)||void 0===e?void 0:e.status))a([]);else rn.error((null===A||void 0===A||null===(t=A.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to load subjects")}finally{rn.dismiss()}},T=async()=>{try{rn.loading("Loading branches...");const e=await Na.get("/branch",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))}});e.data.success&&i(e.data.data)}catch(A){var e,t,n;if(404===(null===(e=A.response)||void 0===e?void 0:e.status))i([]);else rn.error((null===A||void 0===A||null===(t=A.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to load branches")}finally{rn.dismiss()}},M=async()=>{try{rn.loading("Loading materials...");const e=new URLSearchParams;Object.entries(E).forEach((t=>{let[n,r]=t;r&&e.append(n,r)}));const t=await Na.get("/material?".concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))}});t.data.success&&n(t.data.data)}catch(A){var e,t,r;if(404===(null===(e=A.response)||void 0===e?void 0:e.status))n([]);else rn.error((null===A||void 0===A||null===(t=A.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to load materials")}finally{rn.dismiss()}},D=e=>{const{name:t,value:n}=e.target;v((e=>({...e,[t]:n})))},R=e=>{const{name:t,value:n}=e.target;N((e=>({...e,[t]:n})))},j=()=>{v({title:"",subject:"",semester:"",branch:"",type:"notes"}),S(null),h(null)};return(0,jn.jsxs)("div",{className:"w-full mx-auto mt-10 flex justify-center items-start flex-col mb-10",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,jn.jsx)(qa,{title:"Material Management"}),(0,jn.jsx)(On,{onClick:()=>u(!0),children:(0,jn.jsx)(Ua,{className:"text-2xl"})})]}),(0,jn.jsx)("div",{className:"w-full mt-4",children:(0,jn.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Subject"}),(0,jn.jsxs)("select",{name:"subject",value:E.subject,onChange:R,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,jn.jsx)("option",{value:"",children:"All Subjects"}),r.map((e=>(0,jn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Branch"}),(0,jn.jsxs)("select",{name:"branch",value:E.branch,onChange:R,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,jn.jsx)("option",{value:"",children:"All Branches"}),s.map((e=>(0,jn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Semester"}),(0,jn.jsxs)("select",{name:"semester",value:E.semester,onChange:R,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,jn.jsx)("option",{value:"",children:"All Semesters"}),[1,2,3,4,5,6,7,8].map((e=>(0,jn.jsxs)("option",{value:e,children:["Semester ",e]},e)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Type"}),(0,jn.jsxs)("select",{name:"type",value:E.type,onChange:R,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,jn.jsx)("option",{value:"",children:"All Types"}),(0,jn.jsx)("option",{value:"notes",children:"Notes"}),(0,jn.jsx)("option",{value:"assignment",children:"Assignment"}),(0,jn.jsx)("option",{value:"syllabus",children:"Syllabus"}),(0,jn.jsx)("option",{value:"other",children:"Other"})]})]})]})}),(0,jn.jsx)("div",{className:"w-full mt-8 overflow-x-auto",children:0===e.length?(0,jn.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No materials found"}):(0,jn.jsxs)("table",{className:"text-sm min-w-full bg-white",children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{className:"bg-blue-500 text-white",children:[(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"File"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Title"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Subject"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Semester"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Branch"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Type"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Actions"})]})}),(0,jn.jsx)("tbody",{children:e.map((e=>(0,jn.jsxs)("tr",{className:"border-b hover:bg-blue-50",children:[(0,jn.jsx)("td",{className:"py-4 px-6",children:(0,jn.jsx)(On,{variant:"primary",onClick:()=>{window.open("".concat("http://localhost:4100/media","/").concat(e.file))},children:(0,jn.jsx)(Ga,{className:"text-xl"})})}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.title}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.subject.name}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.semester}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.branch.name}),(0,jn.jsx)("td",{className:"py-4 px-6 capitalize",children:e.type}),(0,jn.jsx)("td",{className:"py-4 px-6",children:(0,jn.jsxs)("div",{className:"flex gap-4",children:[(0,jn.jsx)(On,{variant:"secondary",onClick:()=>(e=>{h(e),v({title:e.title,subject:e.subject._id,semester:e.semester,branch:e.branch._id,type:e.type}),u(!0)})(e),children:(0,jn.jsx)(f,{})}),(0,jn.jsx)(On,{variant:"danger",onClick:()=>{b(e._id),p(!0)},children:(0,jn.jsx)(g,{})})]})})]},e._id)))})]})}),c&&(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,jn.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,jn.jsx)("h2",{className:"text-xl font-semibold",children:d?"Edit Material":"Add New Material"}),(0,jn.jsx)(On,{onClick:()=>{u(!1),j()},variant:"secondary",children:(0,jn.jsx)(Ka,{size:24})})]}),(0,jn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0),rn.loading(d?"Updating material...":"Adding material...");try{const e=new FormData;Object.keys(x).forEach((t=>{e.append(t,x[t])})),C&&e.append("file",C),d?(await Na.put("/material/".concat(d._id),e),rn.success("Material updated successfully")):(await Na.post("/material",e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))}}),rn.success("Material added successfully")),u(!1),j(),M()}catch(A){var t,n;rn.error((null===A||void 0===A||null===(t=A.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Operation failed")}finally{l(!1),rn.dismiss()}},className:"space-y-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,jn.jsx)("input",{type:"text",name:"title",value:x.title,onChange:D,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),(0,jn.jsxs)("select",{name:"subject",value:x.subject,onChange:D,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"",children:"Select Subject"}),r.map((e=>(0,jn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),(0,jn.jsxs)("select",{name:"branch",value:x.branch,onChange:D,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"",children:"Select Branch"}),s.map((e=>(0,jn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),(0,jn.jsxs)("select",{name:"semester",value:x.semester,onChange:D,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"",children:"Select Semester"}),[1,2,3,4,5,6,7,8].map((e=>(0,jn.jsxs)("option",{value:e,children:["Semester ",e]},e)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,jn.jsxs)("select",{name:"type",value:x.type,onChange:D,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"notes",children:"Notes"}),(0,jn.jsx)("option",{value:"assignment",children:"Assignment"}),(0,jn.jsx)("option",{value:"syllabus",children:"Syllabus"}),(0,jn.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material File"}),(0,jn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,jn.jsxs)("label",{className:"flex-1 px-4 py-2 border rounded-md cursor-pointer hover:bg-gray-50",children:[(0,jn.jsxs)("span",{className:"flex items-center justify-center",children:[(0,jn.jsx)(y,{className:"mr-2"}),C?C.name:"Choose File"]}),(0,jn.jsx)("input",{type:"file",onChange:e=>{S(e.target.files[0])},className:"hidden",required:!d})]}),C&&(0,jn.jsx)(On,{onClick:()=>S(null),variant:"danger",className:"!p-2",children:(0,jn.jsx)(Ka,{size:20})})]})]}),(0,jn.jsxs)("div",{className:"flex justify-end space-x-4 mt-6",children:[(0,jn.jsx)(On,{onClick:()=>{u(!1),j()},variant:"secondary",children:"Cancel"}),(0,jn.jsx)(On,{type:"submit",disabled:o,children:o?"Processing...":d?"Update Material":"Add Material"})]})]})]})}),(0,jn.jsx)(Za,{isOpen:m,onClose:()=>p(!1),onConfirm:async()=>{try{await Na.delete("/material/".concat(w),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))}}),rn.success("Material deleted successfully"),p(!1),M()}catch(A){var e,t;rn.error((null===A||void 0===A||null===(e=A.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete material")}},message:"Are you sure you want to delete this material? This action cannot be undone."})]})},Oi=e=>{let{title:t}=e;return(0,jn.jsxs)("div",{className:"flex flex-col items-center justify-center h-full my-20",children:[(0,jn.jsx)("img",{src:"/assets/empty.svg",alt:"No data",className:"w-64 h-64"}),(0,jn.jsx)("p",{className:"text-gray-600 mt-2",children:t||"No data found"})]})},ki=()=>{var e,n,r,a;const[s,i]=(0,t.useState)({enrollmentNo:"",name:"",semester:"",branch:""}),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(!1),y=sessionStorage.getItem("userToken"),[w,b]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{try{rn.loading("Loading branches...");const e=await Na.get("/branch",{headers:{Authorization:"Bearer ".concat(y)}});e.data.success?u(e.data.data):rn.error(e.data.message)}catch(r){var e,t,n;if(404===(null===(e=r.response)||void 0===e?void 0:e.status))u([]);else rn.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to load branches")}finally{rn.dismiss()}})()}),[y]);const x=e=>{const{name:t,value:n}=e.target;i((e=>({...e,[t]:n})))};return(0,jn.jsxs)("div",{className:"w-full mx-auto mt-10 flex justify-center items-start flex-col mb-10",children:[(0,jn.jsx)("div",{className:"flex justify-between items-center w-full",children:(0,jn.jsx)(qa,{title:"Student Finder"})}),(0,jn.jsxs)("div",{className:"my-6 mx-auto w-full",children:[(0,jn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(!0),b(!0),rn.loading("Searching students..."),l([]);try{const e=await Na.post("/student/search",s,{headers:{Authorization:"Bearer ".concat(y)}});rn.dismiss(),e.data.success?0===e.data.data.length?(rn.error("No students found!"),l([])):(rn.success("Students found!"),l(e.data.data)):rn.error(e.data.message)}catch(r){var t,n;rn.dismiss(),rn.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error searching students"),console.error("Search error:",r)}finally{h(!1)}},className:"flex items-center",children:[(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 w-[90%] mx-auto",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enrollment Number"}),(0,jn.jsx)("input",{type:"text",name:"enrollmentNo",value:s.enrollmentNo,onChange:x,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter enrollment number"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,jn.jsx)("input",{type:"text",name:"name",value:s.name,onChange:x,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter student name"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),(0,jn.jsxs)("select",{name:"semester",value:s.semester,onChange:x,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,jn.jsx)("option",{value:"",children:"Select Semester"}),[1,2,3,4,5,6,7,8].map((e=>(0,jn.jsxs)("option",{value:e,children:["Semester ",e]},e)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),(0,jn.jsxs)("select",{name:"branch",value:s.branch,onChange:x,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,jn.jsx)("option",{value:"",children:"Select Branch"}),null===c||void 0===c?void 0:c.map((e=>(0,jn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]})]}),(0,jn.jsx)("div",{className:"mt-6 flex justify-center w-[10%] mx-auto",children:(0,jn.jsx)(On,{type:"submit",disabled:d,variant:"primary",children:d?"Searching...":"Search"})})]}),!w&&(0,jn.jsxs)("div",{className:"text-center mt-8 text-gray-600 flex flex-col items-center justify-center my-10 bg-white p-10 rounded-lg mx-auto w-[40%]",children:[(0,jn.jsx)("img",{src:"/assets/filter.svg",alt:"Select filters",className:"w-64 h-64 mb-4"}),"Please select at least one filter to search students"]}),w&&0===o.length&&(0,jn.jsx)(Oi,{title:"No students found"}),o.length>0&&(0,jn.jsxs)("div",{className:"mt-8",children:[(0,jn.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Search Results"}),(0,jn.jsx)("div",{className:"overflow-x-auto",children:(0,jn.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{className:"bg-gray-100",children:[(0,jn.jsx)("th",{className:"px-6 py-3 border-b text-left",children:"Profile"}),(0,jn.jsx)("th",{className:"px-6 py-3 border-b text-left",children:"Name"}),(0,jn.jsx)("th",{className:"px-6 py-3 border-b text-left",children:"Enrollment No"}),(0,jn.jsx)("th",{className:"px-6 py-3 border-b text-left",children:"Semester"}),(0,jn.jsx)("th",{className:"px-6 py-3 border-b text-left",children:"Branch"}),(0,jn.jsx)("th",{className:"px-6 py-3 border-b text-left",children:"Email"})]})}),(0,jn.jsx)("tbody",{children:o.map((e=>{var t;return(0,jn.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>(e=>{m(e),g(!0)})(e),children:[(0,jn.jsx)("td",{className:"px-6 py-4 border-b",children:(0,jn.jsx)("img",{src:"".concat("http://localhost:4100/media","/").concat(e.profile),alt:"".concat(e.firstName,"'s profile"),className:"w-12 h-12 object-cover rounded-full",onError:e=>{e.target.src="https://images.unsplash.com/photo-1744315900478-fa44dc6a4e89?q=80&w=3087&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}})}),(0,jn.jsxs)("td",{className:"px-6 py-4 border-b",children:[e.firstName," ",e.middleName," ",e.lastName]}),(0,jn.jsx)("td",{className:"px-6 py-4 border-b",children:e.enrollmentNo}),(0,jn.jsx)("td",{className:"px-6 py-4 border-b",children:e.semester}),(0,jn.jsx)("td",{className:"px-6 py-4 border-b",children:null===(t=e.branchId)||void 0===t?void 0:t.name}),(0,jn.jsx)("td",{className:"px-6 py-4 border-b",children:e.email})]},e._id)}))})]})})]}),p&&f&&(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,jn.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,jn.jsx)("h2",{className:"text-2xl font-bold",children:"Student Details"}),(0,jn.jsx)(On,{onClick:()=>g(!1),variant:"secondary",children:(0,jn.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,jn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,jn.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 mb-8",children:[(0,jn.jsx)("div",{className:"w-full md:w-1/3",children:(0,jn.jsx)("img",{src:"".concat("http://localhost:4100/media","/").concat(f.profile),alt:"".concat(f.firstName,"'s profile"),className:"w-full h-auto object-cover rounded-lg",onError:e=>{e.target.src="https://images.unsplash.com/photo-1744315900478-fa44dc6a4e89?q=80&w=3087&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}})}),(0,jn.jsxs)("div",{className:"w-full md:w-2/3",children:[(0,jn.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"Full Name:"})," ",f.firstName," ",f.middleName," ",f.lastName]}),(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"Gender:"})," ",f.gender]}),(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"Date of Birth:"})," ",new Date(f.dob).toLocaleDateString()]}),(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"Blood Group:"})," ",f.bloodGroup]})]})]})]}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,jn.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,jn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Academic Information"}),(0,jn.jsxs)("div",{className:"space-y-2",children:[(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"Enrollment No:"})," ",f.enrollmentNo]}),(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"Branch:"})," ",null===(e=f.branchId)||void 0===e?void 0:e.name]}),(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"Semester:"})," ",f.semester]})]})]}),(0,jn.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,jn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Contact Information"}),(0,jn.jsxs)("div",{className:"space-y-2",children:[(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"Email:"})," ",f.email]}),(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"Phone:"})," ",f.phone]}),(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"Address:"})," ",f.address]})]})]}),(0,jn.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,jn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Location Details"}),(0,jn.jsxs)("div",{className:"space-y-2",children:[(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"City:"})," ",f.city]}),(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"State:"})," ",f.state]}),(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"Pincode:"})," ",f.pincode]}),(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"Country:"})," ",f.country]})]})]}),(0,jn.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,jn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Emergency Contact"}),(0,jn.jsxs)("div",{className:"space-y-2",children:[(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"Name:"})," ",null===(n=f.emergencyContact)||void 0===n?void 0:n.name]}),(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"Relationship:"})," ",null===(r=f.emergencyContact)||void 0===r?void 0:r.relationship]}),(0,jn.jsxs)("p",{children:[(0,jn.jsx)("span",{className:"font-medium",children:"Phone:"})," ",null===(a=f.emergencyContact)||void 0===a?void 0:a.phone]})]})]})]})]})})]})]})},Pi=e=>{let{profileData:n}=e;const[r,a]=(0,t.useState)(!1);if(!n)return null;const s=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,jn.jsxs)("div",{className:"max-w-6xl mx-auto p-8",children:[(0,jn.jsxs)("div",{className:"flex items-center gap-8 mb-12 border-b pb-8 justify-between",children:[(0,jn.jsxs)("div",{className:"flex items-center gap-8",children:[(0,jn.jsx)("img",{src:"".concat("http://localhost:4100/media","/").concat(n.profile),alt:"Profile",className:"w-40 h-40 rounded-full object-cover ring-4 ring-blue-500 ring-offset-4"}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"".concat(n.firstName," ").concat(n.lastName)}),(0,jn.jsxs)("p",{className:"text-lg text-gray-600 mb-1",children:["Employee ID: ",n.employeeId]}),(0,jn.jsx)("p",{className:"text-lg text-blue-600 font-medium",children:n.designation})]})]}),(0,jn.jsx)("div",{className:"flex items-center gap-8 justify-end",children:(0,jn.jsx)(On,{onClick:()=>a(!r),variant:"primary",children:r?"Hide":"Update Password"})}),r&&(0,jn.jsx)(rs,{onClose:()=>a(!1)})]}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 gap-12",children:[(0,jn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,jn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b border-gray-200",children:"Personal Information"}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.email})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.phone})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Gender"}),(0,jn.jsx)("p",{className:"text-gray-900 capitalize",children:n.gender})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Blood Group"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.bloodGroup})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),(0,jn.jsx)("p",{className:"text-gray-900",children:s(n.dob)})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Joining Date"}),(0,jn.jsx)("p",{className:"text-gray-900",children:s(n.joiningDate)})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Salary"}),(0,jn.jsxs)("p",{className:"text-gray-900",children:["\u20b9",n.salary.toLocaleString()]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,jn.jsx)("p",{className:"text-gray-900 capitalize",children:n.status})]})]})]}),(0,jn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,jn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b border-gray-200",children:"Address Information"}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Address"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.address})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"City"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.city})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"State"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.state})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Pincode"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.pincode})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Country"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.country})]})]})]}),(0,jn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,jn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b border-gray-200",children:"Emergency Contact"}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.emergencyContact.name})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Relationship"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.emergencyContact.relationship})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.emergencyContact.phone})]})]})]})]})]})},Li=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)(!1),s=sessionStorage.getItem("userToken"),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(null),[g,y]=(0,t.useState)([]),[w,b]=(0,t.useState)(null),[x,v]=(0,t.useState)([]),[C,S]=(0,t.useState)({}),[E,N]=(0,t.useState)(!1),[A,I]=(0,t.useState)(!0),_=t=>{const{name:n,value:r}=t.target;if("branch"===n){const t=e.find((e=>e._id===r));d(t)}else if("subject"===n){const e=l.find((e=>e._id===r));f(e)}else if("semester"===n)p(r);else if("exam"===n){const e=g.find((e=>e._id===r));b(e)}};return(0,t.useEffect)((()=>{(async()=>{try{Dt.loading("Loading branches...");const e=await Na.get("/branch",{headers:{Authorization:"Bearer ".concat(s)}});e.data.success?n(e.data.data):Dt.error(e.data.message)}catch(a){var e,t,r;404===(null===(e=a.response)||void 0===e?void 0:e.status)?n([]):Dt.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to load branches")}finally{Dt.dismiss()}})()}),[s]),(0,t.useEffect)((()=>{u&&(async()=>{try{Dt.loading("Loading subjects...");const e=await Na.get("/subject?branch=".concat(null===u||void 0===u?void 0:u._id),{headers:{Authorization:"Bearer ".concat(s)}});e.data.success?c(e.data.data):Dt.error(e.data.message)}catch(r){var e,t,n;404===(null===(e=r.response)||void 0===e?void 0:e.status)?c([]):Dt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to load subjects")}finally{Dt.dismiss()}})()}),[u]),(0,t.useEffect)((()=>{m&&(async()=>{try{Dt.loading("Loading exams...");const e=await Na.get("/exam?semester=".concat(m),{headers:{Authorization:"Bearer ".concat(s)}});e.data.success?y(e.data.data):Dt.error(e.data.message)}catch(r){var e,t,n;404===(null===(e=r.response)||void 0===e?void 0:e.status)?y([]):Dt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to load exams")}finally{Dt.dismiss()}})()}),[m]),(0,jn.jsxs)("div",{className:"w-full mx-auto mt-10 flex justify-center items-start flex-col mb-10",children:[(0,jn.jsx)("div",{className:"flex justify-between items-center w-full",children:(0,jn.jsx)(qa,{title:"Add Marks"})}),A&&(0,jn.jsxs)("div",{className:"w-full bg-white rounded-lg p-6 mb-8",children:[(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 w-[90%] mx-auto",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),(0,jn.jsxs)("select",{name:"semester",value:m||"",onChange:_,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,jn.jsx)("option",{value:"",children:"Select Semester"}),[1,2,3,4,5,6,7,8].map((e=>(0,jn.jsxs)("option",{value:e,children:["Semester ",e]},e)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),(0,jn.jsxs)("select",{name:"branch",value:(null===u||void 0===u?void 0:u._id)||"",onChange:_,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,jn.jsx)("option",{value:"",children:"Select Branch"}),null===e||void 0===e?void 0:e.map((e=>(0,jn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subjects"}),(0,jn.jsxs)("select",{name:"subject",value:(null===h||void 0===h?void 0:h._id)||"",onChange:_,disabled:!u,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u?"":"bg-gray-100 cursor-not-allowed"),children:[(0,jn.jsx)("option",{value:"",children:"Select Subject"}),null===l||void 0===l?void 0:l.map((e=>(0,jn.jsx)("option",{value:e._id,children:e.name},e._id)))]}),!u&&(0,jn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a branch first"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exam"}),(0,jn.jsxs)("select",{name:"exam",value:(null===w||void 0===w?void 0:w._id)||"",onChange:_,disabled:!h,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(h?"":"bg-gray-100 cursor-not-allowed"),children:[(0,jn.jsx)("option",{value:"",children:"Select Exam"}),null===g||void 0===g?void 0:g.map((e=>(0,jn.jsx)("option",{value:e._id,children:e.name},e._id)))]}),!h&&(0,jn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a subject first"})]})]}),(0,jn.jsx)("div",{className:"mt-6 flex justify-center w-[10%] mx-auto",children:(0,jn.jsx)(On,{type:"submit",disabled:r||!u||!h||!w||!m,variant:"primary",onClick:async()=>{await(async()=>{a(!0),Dt.loading("Searching students..."),o([]);try{const e=await Na.get("/marks/students?branch=".concat(null===u||void 0===u?void 0:u._id,"&subject=").concat(null===h||void 0===h?void 0:h._id,"&semester=").concat(m,"&examId=").concat(null===w||void 0===w?void 0:w._id),{headers:{Authorization:"Bearer ".concat(s)}});if(Dt.dismiss(),e.data.success)if(0===e.data.data.length)Dt.error("No students found!"),o([]),v([]);else{Dt.success("Students found!"),o(e.data.data);const t={};e.data.data.forEach((e=>{t[e._id]=e.obtainedMarks||""})),S(t),v(e.data.data),I(!1)}else Dt.error(e.data.message)}catch(n){var e,t;Dt.dismiss(),Dt.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error searching students"),console.error("Search error:",n)}finally{a(!1)}})()},children:r?"Searching...":"Search"})})]}),!A&&x&&x.length>0&&(0,jn.jsxs)("div",{className:"w-full bg-white rounded-lg p-6",children:[(0,jn.jsx)("div",{className:"space-y-4 w-full mb-6",children:(0,jn.jsxs)("div",{className:"flex flex-col gap-4 w-[90%] mx-auto",children:[(0,jn.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,jn.jsxs)("div",{className:"border p-3 rounded-md shadow",children:[(0,jn.jsx)("span",{className:"text-sm text-gray-500",children:"Branch and Semester:"}),(0,jn.jsxs)("p",{className:"text-gray-800",children:[null===u||void 0===u?void 0:u.branchId," - Semester ",m]})]}),(0,jn.jsxs)("div",{className:"border p-3 rounded-md shadow",children:[(0,jn.jsx)("span",{className:"text-sm text-gray-500",children:"Exam:"}),(0,jn.jsx)("p",{className:"text-gray-800",children:(null===w||void 0===w?void 0:w.name)||"Not Selected"})]}),(0,jn.jsxs)("div",{className:"border p-3 rounded-md shadow",children:[(0,jn.jsx)("span",{className:"text-sm text-gray-500",children:"Exam Type:"}),(0,jn.jsx)("p",{className:"text-gray-800",children:"mid"===(null===w||void 0===w?void 0:w.examType)?"Mid Term":"End Term"})]}),(0,jn.jsxs)("div",{className:"border p-3 rounded-md shadow",children:[(0,jn.jsx)("span",{className:"text-sm text-gray-500",children:"Subject:"}),(0,jn.jsx)("p",{className:"text-gray-800",children:(null===h||void 0===h?void 0:h.name)||"Not Selected"})]})]}),(0,jn.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,jn.jsxs)("div",{className:"border p-3 rounded-md shadow",children:[(0,jn.jsx)("span",{className:"text-sm text-gray-500",children:"Total Marks:"}),(0,jn.jsx)("p",{className:"text-gray-800",children:(null===w||void 0===w?void 0:w.totalMarks)||"Not Selected"})]}),(0,jn.jsxs)("div",{className:"border p-3 rounded-md shadow",children:[(0,jn.jsx)("span",{className:"text-sm text-gray-500",children:"Date:"}),(0,jn.jsx)("p",{className:"text-gray-800",children:null!==w&&void 0!==w&&w.date?new Date(w.date).toLocaleDateString():"Not Selected"})]}),(0,jn.jsxs)("div",{className:"border p-3 rounded-md shadow",children:[(0,jn.jsx)("span",{className:"text-sm text-gray-500",children:"Time:"}),(0,jn.jsx)("p",{className:"text-gray-800",children:(null===w||void 0===w?void 0:w.time)||"Not Selected"})]}),(0,jn.jsxs)("div",{className:"border p-3 rounded-md shadow",children:[(0,jn.jsx)("span",{className:"text-sm text-gray-500",children:"Students:"}),(0,jn.jsx)("p",{className:"text-gray-800",children:x.length||"Not Selected"})]})]})]})}),(0,jn.jsx)("div",{className:"flex justify-end items-center mb-4",children:(0,jn.jsx)(On,{variant:"secondary",onClick:()=>{I(!0),o([]),v([]),S({}),N(!1)},className:"text-sm",children:"Back to Search"})}),(0,jn.jsx)("div",{className:"grid grid-cols-4 gap-4 w-[100%] mx-auto",children:x.map((e=>(0,jn.jsxs)("div",{className:"flex items-center justify-between w-full border rounded-md",children:[(0,jn.jsx)("p",{className:"font-medium text-gray-700 flex items-center justify-center px-3 h-full py-2 rounded-md min-w-[120px] text-center",children:e.enrollmentNo}),(0,jn.jsx)("input",{type:"number",min:0,max:(null===w||void 0===w?void 0:w.totalMarks)||100,className:"px-4 py-2 border rounded-md focus:outline-none bg-gray-50 border-gray-200 focus:ring-2 focus:ring-blue-500 w-full m-2",value:C[e._id]||"",placeholder:"Enter Marks",onChange:t=>S({...C,[e._id]:t.target.value})})]},e._id)))}),(0,jn.jsxs)("div",{className:"flex flex-col items-center gap-4 bottom-0 left-0 right-0 bg-white p-4 border-t mt-10",children:[(0,jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jn.jsx)("input",{type:"checkbox",id:"consent",checked:E,onChange:e=>N(e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,jn.jsx)("label",{htmlFor:"consent",className:"text-sm text-gray-700",children:"I confirm that all marks entered are correct and verified"})]}),(0,jn.jsx)(On,{type:"submit",disabled:r||!E,variant:"primary",onClick:async()=>{if(!E)return void Dt.error("Please confirm the consent before submitting");if(Object.values(C).some((e=>""===e)))Dt.error("Please enter marks for all students");else{a(!0),Dt.loading("Submitting marks...");try{const e=Object.entries(C).map((e=>{let[t,n]=e;return{studentId:t,obtainedMarks:Number(n)}})),t=await Na.post("/marks/bulk",{marks:e,examId:null===w||void 0===w?void 0:w._id,subjectId:null===h||void 0===h?void 0:h._id,semester:m},{headers:{Authorization:"Bearer ".concat(s)}});t.data.success?(Dt.success("Marks submitted successfully!"),S({}),N(!1),I(!0)):Dt.error(t.data.message)}catch(n){var e,t;Dt.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error submitting marks"),console.error("Submit error:",n)}finally{a(!1),Dt.dismiss()}}},children:r?"Submitting...":"Submit Marks"})]})]})]})};var Bi,Fi=Object.defineProperty,Ui=Object.getOwnPropertySymbols,zi=Object.prototype.hasOwnProperty,Hi=Object.prototype.propertyIsEnumerable,Vi=(e,t,n)=>t in e?Fi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wi=(e,t)=>{for(var n in t||(t={}))zi.call(t,n)&&Vi(e,n,t[n]);if(Ui)for(var n of Ui(t))Hi.call(t,n)&&Vi(e,n,t[n]);return e},Gi=(e,t)=>{var n={};for(var r in e)zi.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ui)for(var r of Ui(e))t.indexOf(r)<0&&Hi.call(e,r)&&(n[r]=e[r]);return n};(e=>{const t=class{constructor(e,n,r,a){if(this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(a<-1||a>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let i=[];for(let t=0;t<this.size;t++)i.push(!1);for(let t=0;t<this.size;t++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();const o=this.addEccAndInterleave(r);if(this.drawCodewords(o),-1==a){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const n=this.getPenaltyScore();n<e&&(a=t,e=n),this.applyMask(t)}}s(0<=a&&a<=7),this.mask=a,this.applyMask(a),this.drawFormatBits(a),this.isFunction=[]}static encodeText(n,r){const a=e.QrSegment.makeSegments(n);return t.encodeSegments(a,r)}static encodeBinary(n,r){const a=e.QrSegment.makeBytes(n);return t.encodeSegments([a],r)}static encodeSegments(e,n){let a,i,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=l&&l<=c&&c<=t.MAX_VERSION)||u<-1||u>7)throw new RangeError("Invalid value");for(a=l;;a++){const r=8*t.getNumDataCodewords(a,n),s=o.getTotalBits(e,a);if(s<=r){i=s;break}if(a>=c)throw new RangeError("Data too long")}for(const r of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])d&&i<=8*t.getNumDataCodewords(a,r)&&(n=r);let h=[];for(const t of e){r(t.mode.modeBits,4,h),r(t.numChars,t.mode.numCharCountBits(a),h);for(const e of t.getData())h.push(e)}s(h.length==i);const f=8*t.getNumDataCodewords(a,n);s(h.length<=f),r(0,Math.min(4,f-h.length),h),r(0,(8-h.length%8)%8,h),s(h.length%8==0);for(let t=236;h.length<f;t^=253)r(t,8,h);let m=[];for(;8*m.length<h.length;)m.push(0);return h.forEach(((e,t)=>m[t>>>3]|=e<<7-(7&t))),new t(a,n,m,u)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let r=0;r<t;r++)0==n&&0==r||0==n&&r==t-1||n==t-1&&0==r||this.drawAlignmentPattern(e[n],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let n=t;for(let a=0;a<10;a++)n=n<<1^1335*(n>>>9);const r=21522^(t<<10|n);s(r>>>15==0);for(let s=0;s<=5;s++)this.setFunctionModule(8,s,a(r,s));this.setFunctionModule(8,7,a(r,6)),this.setFunctionModule(8,8,a(r,7)),this.setFunctionModule(7,8,a(r,8));for(let s=9;s<15;s++)this.setFunctionModule(14-s,8,a(r,s));for(let s=0;s<8;s++)this.setFunctionModule(this.size-1-s,8,a(r,s));for(let s=8;s<15;s++)this.setFunctionModule(8,this.size-15+s,a(r,s));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;s(t>>>18==0);for(let n=0;n<18;n++){const e=a(t,n),r=this.size-11+n%3,s=Math.floor(n/3);this.setFunctionModule(r,s,e),this.setFunctionModule(s,r,e)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){const a=Math.max(Math.abs(r),Math.abs(n)),s=e+r,i=t+n;0<=s&&s<this.size&&0<=i&&i<this.size&&this.setFunctionModule(s,i,2!=a&&4!=a)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!=Math.max(Math.abs(r),Math.abs(n)))}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){const n=this.version,r=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,r))throw new RangeError("Invalid argument");const a=t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],i=t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],o=Math.floor(t.getNumRawDataModules(n)/8),l=a-o%a,c=Math.floor(o/a);let u=[];const d=t.reedSolomonComputeDivisor(i);for(let s=0,f=0;s<a;s++){let n=e.slice(f,f+c-i+(s<l?0:1));f+=n.length;const r=t.reedSolomonComputeRemainder(n,d);s<l&&n.push(0),u.push(n.concat(r))}let h=[];for(let t=0;t<u[0].length;t++)u.forEach(((e,n)=>{(t!=c-i||n>=l)&&h.push(e[t])}));return s(h.length==o),h}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let n=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let r=0;r<this.size;r++)for(let s=0;s<2;s++){const i=t-s,o=0==(t+1&2)?this.size-1-r:r;!this.isFunction[o][i]&&n<8*e.length&&(this.modules[o][i]=a(e[n>>>3],7-(7&n)),n++)}}s(n==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let r;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let s=0;s<this.size;s++){let n=!1,r=0,a=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[s][i]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,a),n||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),n=this.modules[s][i],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,a)*t.PENALTY_N3}for(let s=0;s<this.size;s++){let n=!1,r=0,a=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[i][s]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,a),n||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),n=this.modules[i][s],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,a)*t.PENALTY_N3}for(let s=0;s<this.size-1;s++)for(let n=0;n<this.size-1;n++){const r=this.modules[s][n];r==this.modules[s][n+1]&&r==this.modules[s+1][n]&&r==this.modules[s+1][n+1]&&(e+=t.PENALTY_N2)}let n=0;for(const t of this.modules)n=t.reduce(((e,t)=>e+(t?1:0)),n);const r=this.size*this.size,a=Math.ceil(Math.abs(20*n-10*r)/r)-1;return s(0<=a&&a<=9),e+=a*t.PENALTY_N4,s(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let n=[6];for(let r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let n=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return s(208<=n&&n<=29648),n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let r=1;for(let a=0;a<e;a++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],r),e+1<n.length&&(n[e]^=n[e+1]);r=t.reedSolomonMultiply(r,2)}return n}static reedSolomonComputeRemainder(e,n){let r=n.map((e=>0));for(const a of e){const e=a^r.shift();r.push(0),n.forEach(((n,a)=>r[a]^=t.reedSolomonMultiply(n,e)))}return r}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let n=0;for(let r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;return s(n>>>8==0),n}finderPenaltyCountPatterns(e){const t=e[1];s(t<=3*this.size);const n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};let n=t;function r(e,t,n){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let r=t-1;r>=0;r--)n.push(e>>>r&1)}function a(e,t){return 0!=(e>>>t&1)}function s(e){if(!e)throw new Error("Assertion error")}n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;const i=class{constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(e){let t=[];for(const n of e)r(n,8,t);return new i(i.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!i.isNumeric(e))throw new RangeError("String contains non-numeric characters");let t=[];for(let n=0;n<e.length;){const a=Math.min(e.length-n,3);r(parseInt(e.substr(n,a),10),3*a+1,t),n+=a}return new i(i.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!i.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let t,n=[];for(t=0;t+2<=e.length;t+=2){let a=45*i.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t));a+=i.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),r(a,11,n)}return t<e.length&&r(i.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,n),new i(i.Mode.ALPHANUMERIC,e.length,n)}static makeSegments(e){return""==e?[]:i.isNumeric(e)?[i.makeNumeric(e)]:i.isAlphanumeric(e)?[i.makeAlphanumeric(e)]:[i.makeBytes(i.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)r(e,8,t);else if(e<16384)r(2,2,t),r(e,14,t);else{if(!(e<1e6))throw new RangeError("ECI assignment value out of range");r(6,3,t),r(e,21,t)}return new i(i.Mode.ECI,0,t)}static isNumeric(e){return i.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return i.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(const r of e){const e=r.mode.numCharCountBits(t);if(r.numChars>=1<<e)return 1/0;n+=4+e+r.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t}};let o=i;o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=o})(Bi||(Bi={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};let n=t;n.LOW=new t(0,1),n.MEDIUM=new t(1,0),n.QUARTILE=new t(2,3),n.HIGH=new t(3,2),e.Ecc=n})(t=e.QrCode||(e.QrCode={}))})(Bi||(Bi={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};let n=t;n.NUMERIC=new t(1,[10,12,14]),n.ALPHANUMERIC=new t(2,[9,11,13]),n.BYTE=new t(4,[8,16,16]),n.KANJI=new t(8,[8,10,12]),n.ECI=new t(7,[0,0,0]),e.Mode=n})(t=e.QrSegment||(e.QrSegment={}))})(Bi||(Bi={}));var Yi=Bi,Xi={L:Yi.QrCode.Ecc.LOW,M:Yi.QrCode.Ecc.MEDIUM,Q:Yi.QrCode.Ecc.QUARTILE,H:Yi.QrCode.Ecc.HIGH},Qi=128,qi="L",Zi="#FFFFFF",Ki="#000000",$i=!1,Ji=4,eo=.1;function to(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];return e.forEach((function(e,r){let a=null;e.forEach((function(s,i){if(!s&&null!==a)return n.push("M".concat(a+t," ").concat(r+t,"h").concat(i-a,"v1H").concat(a+t,"z")),void(a=null);if(i!==e.length-1)s&&null===a&&(a=i);else{if(!s)return;null===a?n.push("M".concat(i+t,",").concat(r+t," h1v1H").concat(i+t,"z")):n.push("M".concat(a+t,",").concat(r+t," h").concat(i+1-a,"v1H").concat(a+t,"z"))}}))})),n.join("")}function no(e,t){return e.slice().map(((e,n)=>n<t.y||n>=t.y+t.h?e:e.map(((e,n)=>(n<t.x||n>=t.x+t.w)&&e))))}function ro(e,t,n,r){if(null==r)return null;const a=n?Ji:0,s=e.length+2*a,i=Math.floor(t*eo),o=s/t,l=(r.width||i)*o,c=(r.height||i)*o,u=null==r.x?e.length/2-l/2:r.x*o,d=null==r.y?e.length/2-c/2:r.y*o;let h=null;if(r.excavate){let e=Math.floor(u),t=Math.floor(d);h={x:e,y:t,w:Math.ceil(l+u-e),h:Math.ceil(c+d-t)}}return{x:u,y:d,h:c,w:l,excavation:h}}var ao=function(){try{(new Path2D).addPath(new Path2D)}catch(He){return!1}return!0}();function so(e){const n=e,{value:r,size:a=Qi,level:s=qi,bgColor:i=Zi,fgColor:o=Ki,includeMargin:l=$i,style:c,imageSettings:u}=n,d=Gi(n,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),h=null==u?void 0:u.src,f=t.useRef(null),m=t.useRef(null),[p,g]=t.useState(!1);t.useEffect((()=>{if(null!=f.current){const e=f.current,t=e.getContext("2d");if(!t)return;let n=Yi.QrCode.encodeText(r,Xi[s]).getModules();const c=l?Ji:0,d=n.length+2*c,h=ro(n,a,l,u),p=m.current,g=null!=h&&null!==p&&p.complete&&0!==p.naturalHeight&&0!==p.naturalWidth;g&&null!=h.excavation&&(n=no(n,h.excavation));const y=window.devicePixelRatio||1;e.height=e.width=a*y;const w=a/d*y;t.scale(w,w),t.fillStyle=i,t.fillRect(0,0,d,d),t.fillStyle=o,ao?t.fill(new Path2D(to(n,c))):n.forEach((function(e,n){e.forEach((function(e,r){e&&t.fillRect(r+c,n+c,1,1)}))})),g&&t.drawImage(p,h.x+c,h.y+c,h.w,h.h)}})),t.useEffect((()=>{g(!1)}),[h]);const y=Wi({height:a,width:a},c);let w=null;return null!=h&&(w=t.createElement("img",{src:h,key:h,style:{display:"none"},onLoad:()=>{g(!0)},ref:m})),t.createElement(t.Fragment,null,t.createElement("canvas",Wi({style:y,height:a,width:a,ref:f},d)),w)}function io(e){const n=e,{value:r,size:a=Qi,level:s=qi,bgColor:i=Zi,fgColor:o=Ki,includeMargin:l=$i,imageSettings:c}=n,u=Gi(n,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let d=Yi.QrCode.encodeText(r,Xi[s]).getModules();const h=l?Ji:0,f=d.length+2*h,m=ro(d,a,l,c);let p=null;null!=c&&null!=m&&(null!=m.excavation&&(d=no(d,m.excavation)),p=t.createElement("image",{xlinkHref:c.src,height:m.h,width:m.w,x:m.x+h,y:m.y+h,preserveAspectRatio:"none"}));const g=to(d,h);return t.createElement("svg",Wi({height:a,width:a,viewBox:"0 0 ".concat(f," ").concat(f)},u),t.createElement("path",{fill:i,d:"M0,0 h".concat(f,"v").concat(f,"H0z"),shapeRendering:"crispEdges"}),t.createElement("path",{fill:o,d:g,shapeRendering:"crispEdges"}),p)}var oo=e=>{const n=e,{renderAs:r}=n,a=Gi(n,["renderAs"]);return"svg"===r?t.createElement(io,Wi({},a)):t.createElement(so,Wi({},a))};const lo=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)({subjectId:"",branchId:"",semester:""}),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(0),[d,h]=(0,t.useState)([]),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!1),[y,w]=(0,t.useState)(!1),b="attendance_session",x=t.useRef(null);(0,t.useEffect)((()=>{try{const e=sessionStorage.getItem(b);if(e){const t=JSON.parse(e);null!==t&&void 0!==t&&t.sessionId&&null!==t&&void 0!==t&&t.token&&null!==t&&void 0!==t&&t.expiresAt&&l(t)}}catch{}}),[]),(0,t.useEffect)((()=>{null!==o&&void 0!==o&&o.sessionId?sessionStorage.setItem(b,JSON.stringify(o)):sessionStorage.removeItem(b)}),[o]),(0,t.useEffect)((()=>{(async()=>{try{const e=sessionStorage.getItem("userToken"),[t,r]=await Promise.all([Na.get("/subject",{headers:{Authorization:"Bearer ".concat(e)}}),Na.get("/branch",{headers:{Authorization:"Bearer ".concat(e)}})]);n(t.data.data||[]),a(r.data.data||[])}catch(He){rn.error("Failed to load subjects/branches")}})()}),[]),(0,t.useEffect)((()=>{if(!o)return;const e=setInterval((()=>{const e=new Date(o.expiresAt).getTime(),t=Math.max(0,Math.floor((e-Date.now())/1e3));u(t),m(t>0)}),1e3);return()=>clearInterval(e)}),[o]),(0,t.useEffect)((()=>{if(!o||!f)return;const e=async()=>{try{const e=sessionStorage.getItem("userToken"),t=await Na.get("/attendance/session/".concat(o.sessionId,"/present"),{headers:{Authorization:"Bearer ".concat(e)}});h(t.data.data||[])}catch(He){}};e();const t=setInterval(e,3e3);return()=>clearInterval(t)}),[o,f]);return(0,jn.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,jn.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Create Attendance Session"}),(0,jn.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,jn.jsxs)("select",{value:s.subjectId,onChange:e=>i({...s,subjectId:e.target.value}),className:"border p-2 rounded",children:[(0,jn.jsx)("option",{value:"",children:"Select Subject"}),e.map((e=>(0,jn.jsxs)("option",{value:e._id,children:[e.name," (",e.code,")"]},e._id)))]}),(0,jn.jsxs)("select",{value:s.branchId,onChange:e=>i({...s,branchId:e.target.value}),className:"border p-2 rounded",children:[(0,jn.jsx)("option",{value:"",children:"Select Branch"}),r.map((e=>(0,jn.jsx)("option",{value:e._id,children:e.name},e._id)))]}),(0,jn.jsx)("input",{type:"number",placeholder:"Semester",value:s.semester,onChange:e=>i({...s,semester:e.target.value}),className:"border p-2 rounded"})]}),(0,jn.jsx)(On,{onClick:async()=>{if(!s.subjectId||!s.branchId||!s.semester)return rn.error("All fields required");try{const e=sessionStorage.getItem("userToken"),t={...(await Na.post("/attendance/session",s,{headers:{Authorization:"Bearer ".concat(e)}})).data.data,subjectId:s.subjectId};l(t),sessionStorage.setItem(b,JSON.stringify(t)),h([]),w(!1),rn.success("Session created")}catch(He){var e,t;rn.error((null===(e=He.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to create session")}},children:"Create Session"}),o&&(0,jn.jsxs)("div",{className:"mt-6 p-4 border rounded",children:[(0,jn.jsx)("h3",{className:"font-semibold mb-2",children:"Share this QR for students to scan"}),(0,jn.jsxs)("div",{className:"flex gap-6 items-center",children:[(0,jn.jsx)(oo,{value:o.token,size:200}),(0,jn.jsxs)("div",{children:[(0,jn.jsxs)("p",{className:"mb-2",children:["Token: ",(0,jn.jsx)("span",{className:"font-mono",children:o.token})]}),(0,jn.jsxs)("p",{className:"mb-2",children:["Expires in: ",(0,jn.jsxs)("b",{children:[c,"s"]})]})]})]}),(0,jn.jsxs)("div",{className:"mt-4 flex gap-3 items-center flex-wrap",children:[(0,jn.jsx)(On,{onClick:async()=>{if(null!==o&&void 0!==o&&o.sessionId)try{g(!0);const e=sessionStorage.getItem("userToken");await Na.post("/attendance/session/".concat(o.sessionId,"/close"),{},{headers:{Authorization:"Bearer ".concat(e)}}),rn.success("Session closed"),m(!1),u(0),l((e=>e?{...e,closed:!0}:e))}catch(He){var e,t;rn.error((null===(e=He.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to close session")}finally{g(!1)}},disabled:p||0===c,children:p?"Closing...":"Close Session"}),(0,jn.jsx)(On,{variant:"primary",onClick:()=>w(!0),children:"Save"}),y&&(0,jn.jsxs)(jn.Fragment,{children:[(0,jn.jsx)(On,{variant:"secondary",onClick:async()=>{if(null!==o&&void 0!==o&&o.sessionId)try{const e=sessionStorage.getItem("userToken"),t=await Na.get("/attendance/session/".concat(o.sessionId,"/export"),{headers:{Authorization:"Bearer ".concat(e)},responseType:"blob"}),n=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=n,r.setAttribute("download","attendance_".concat(o.sessionId,".xlsx")),document.body.appendChild(r),r.click(),r.remove()}catch(He){var e,t;rn.error((null===(e=He.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to download excel")}},children:"Download Excel"}),(0,jn.jsx)(On,{variant:"secondary",onClick:async()=>{if(null!==o&&void 0!==o&&o.subjectId)try{const e=sessionStorage.getItem("userToken"),t=await Na.get("/attendance/subject/".concat(o.subjectId,"/master/export"),{headers:{Authorization:"Bearer ".concat(e)},responseType:"blob"}),n=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=n,r.setAttribute("download","subject_".concat(o.subjectId,"_master.xlsx")),document.body.appendChild(r),r.click(),r.remove()}catch(He){var e,t;rn.error((null===(e=He.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Master sheet not available yet")}else rn.error("Subject not available for this session")},children:"Download Subject Master"})]}),(0,jn.jsx)(On,{variant:"ghost",onClick:()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.click()},children:"Upload Edited Excel"}),(0,jn.jsx)("input",{ref:x,type:"file",accept:".xlsx,.xls",className:"hidden",onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n)if(null!==o&&void 0!==o&&o.sessionId)try{const e=sessionStorage.getItem("userToken"),t=new FormData;t.append("file",n),await Na.post("/attendance/session/".concat(o.sessionId,"/import"),t,{headers:{Authorization:"Bearer ".concat(e)}}),rn.success("Session updated from Excel")}catch(s){var r,a;rn.error((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to import edited excel")}finally{x.current&&(x.current.value="")}else rn.error("No active session")}})]}),(0,jn.jsxs)("div",{className:"mt-6",children:[(0,jn.jsxs)("h4",{className:"font-semibold mb-3",children:["Marked Present (",d.length,")"]}),0===d.length?(0,jn.jsx)("p",{className:"text-sm text-gray-600",children:"No one has marked present yet."}):(0,jn.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:d.map((e=>(0,jn.jsxs)("div",{className:"p-3 border rounded-lg bg-gray-50 hover:bg-white transition shadow-sm hover:shadow-md flex gap-3 items-center justify-between",children:[(0,jn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jn.jsxs)("div",{className:"relative",children:[(0,jn.jsx)("img",{src:e.profileUrl||"/assets/avatar.png",alt:"".concat(e.name," profile"),className:"w-12 h-12 rounded-full object-cover border",onError:e=>{e.currentTarget.src="/assets/avatar.png"}}),(0,jn.jsx)("span",{className:"absolute -bottom-1 -right-1 bg-green-500 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:"\u2713"})]}),e.selfieUrl?(0,jn.jsx)("a",{href:e.selfieUrl,target:"_blank",rel:"noreferrer",title:"Open selfie",children:(0,jn.jsx)("img",{src:e.selfieUrl,alt:"".concat(e.name," selfie"),className:"w-12 h-12 rounded object-cover border",onError:e=>{e.currentTarget.src="/assets/avatar.png"}})}):(0,jn.jsx)("img",{src:"/assets/avatar.png",alt:"".concat(e.name," selfie"),className:"w-12 h-12 rounded object-cover border"})]}),(0,jn.jsxs)("div",{className:"min-w-0 flex-1 mx-2",children:[(0,jn.jsx)("p",{className:"font-semibold truncate",children:e.name||"Unknown"}),(0,jn.jsx)("p",{className:"text-sm text-gray-700",children:e.enrollmentNo||"-"}),(0,jn.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.markedAt).toLocaleTimeString()})]}),(0,jn.jsx)(On,{variant:"danger",onClick:()=>(async e=>{try{const t=sessionStorage.getItem("userToken");await Na.delete("/attendance/session/".concat(o.sessionId,"/present/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),h((t=>t.filter((t=>t.attendanceId!==e)))),rn.success("Attendance removed")}catch(He){var t,n;rn.error((null===(t=He.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to remove attendance")}})(e.attendanceId),children:"Remove"})]},e.attendanceId)))})]})]})]})},co=[{id:"home",label:"Home",component:null},{id:"timetable",label:"Timetable",component:Ri},{id:"material",label:"Material",component:ji},{id:"notice",label:"Notice",component:es},{id:"student info",label:"Student Info",component:ki},{id:"marks",label:"Marks",component:Li},{id:"exam",label:"Exam",component:ss},{id:"attendance",label:"Attendance",component:()=>(0,jn.jsx)("div",{children:(0,jn.jsx)(lo,{})})}],uo=()=>{const[e,n]=(0,t.useState)("Home"),[r,a]=(0,t.useState)(null),s=Mn(),i=sessionStorage.getItem("userToken");(0,t.useEffect)((()=>{(async()=>{try{const e=await Na.get("/faculty/my-details",{headers:{Authorization:"Bearer ".concat(i)}});e.data.success&&(a(e.data.data),s(on(e.data.data)))}catch(e){Dt.error("Failed to load profile")}})()}),[s,i]);const o=t=>{const n=e.toLowerCase()===t.toLowerCase();return"text-center px-6 py-3 cursor-pointer font-medium text-sm w-full rounded-md ".concat(n?"bg-blue-500 text-white":"bg-blue-50 text-blue-700 hover:bg-blue-100")};return(0,jn.jsxs)(jn.Fragment,{children:[(0,jn.jsx)(Fa,{}),(0,jn.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,jn.jsx)("ul",{className:"flex justify-evenly items-center gap-10 w-full mx-auto my-8",children:co.map((e=>(0,jn.jsx)("li",{className:o(e.id),onClick:()=>n(e.label),children:e.label},e.id)))}),(()=>{if("Home"===e&&r)return(0,jn.jsx)(Pi,{profileData:r});const t=co.find((t=>t.label.toLowerCase()===e.toLowerCase()));if(t&&t.component){const e=t.component;return(0,jn.jsx)(e,{})}return null})()]}),(0,jn.jsx)(nn,{position:"bottom-center"})]})};function ho(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M12 6C12.5523 6 13 6.44772 13 7V13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13V7C11 6.44772 11.4477 6 12 6Z",fill:"currentColor"}},{tag:"path",attr:{d:"M12 16C11.4477 16 11 16.4477 11 17C11 17.5523 11.4477 18 12 18C12.5523 18 13 17.5523 13 17C13 16.4477 12.5523 16 12 16Z",fill:"currentColor"}},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12Z",fill:"currentColor"}}]})(e)}const fo=()=>{const[e,n]=(0,t.useState)({enrollmentNo:"",name:"",semester:"",branch:""}),[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(!1),[y,w]=(0,t.useState)(null),[b,x]=(0,t.useState)(!1),v=sessionStorage.getItem("userToken"),[C,S]=(0,t.useState)({firstName:"",middleName:"",lastName:"",phone:"",semester:"",branchId:"",gender:"",dob:"",address:"",city:"",state:"",pincode:"",country:"",profile:"",status:"active",bloodGroup:"",emergencyContact:{name:"",relationship:"",phone:""}});(0,t.useEffect)((()=>{N(),E()}),[]);const E=async()=>{try{l(!0);const e=await Na.get("/student",{headers:{Authorization:"Bearer ".concat(v)}});e.data.success?(a(e.data.data||[]),x(!0)):(a([]),Dt.error(e.data.message))}catch(r){var e,t,n;if(404===(null===(e=r.response)||void 0===e?void 0:e.status))a([]);else console.error(r),Dt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error fetching students")}finally{l(!1)}},N=async()=>{try{Dt.loading("Loading branches...");const e=await Na.get("/branch",{headers:{Authorization:"Bearer ".concat(v)}});e.data.success?i(e.data.data):Dt.error(e.data.message)}catch(r){var e,t,n;if(404===(null===(e=r.response)||void 0===e?void 0:e.status))i([]);else console.error(r),Dt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error fetching branches")}finally{Dt.dismiss()}},A=e=>{const{name:t,value:r}=e.target;n((e=>({...e,[t]:r})))},I=(e,t)=>{S((n=>({...n,[e]:t})))},_=(e,t)=>{S((n=>({...n,emergencyContact:{...n.emergencyContact,[e]:t}})))},T=()=>{S({firstName:"",middleName:"",lastName:"",phone:"",semester:"",branchId:"",gender:"",dob:"",address:"",city:"",state:"",pincode:"",country:"",profile:"",status:"active",bloodGroup:"",emergencyContact:{name:"",relationship:"",phone:""}}),u(!1),g(!1),m(null),w(null)};return(0,jn.jsxs)("div",{className:"w-full mx-auto mt-10 flex justify-center items-start flex-col mb-10",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,jn.jsx)(qa,{title:"Student Management"}),s.length>0&&(0,jn.jsx)(On,{onClick:()=>u(!0),children:(0,jn.jsx)(Ua,{className:"text-2xl"})})]}),s.length>0&&(0,jn.jsxs)("div",{className:"my-6 mx-auto w-full",children:[(0,jn.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e.enrollmentNo||e.name||e.semester||e.branch){l(!0),x(!0),Dt.loading("Searching students...");try{const t=await Na.post("/student/search",e,{headers:{Authorization:"Bearer ".concat(v)}});Dt.dismiss(),t.data.success?0===t.data.data.length?a([]):(Dt.success("Students found!"),a(t.data.data)):Dt.error(t.data.message)}catch(s){var n,r;Dt.dismiss(),a([]),Dt.error((null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Error searching students")}finally{l(!1)}}else await E()},className:"flex items-center",children:[(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 w-[90%] mx-auto",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enrollment Number"}),(0,jn.jsx)("input",{type:"text",name:"enrollmentNo",value:e.enrollmentNo,onChange:A,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter enrollment number"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,jn.jsx)("input",{type:"text",name:"name",value:e.name,onChange:A,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter student name"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),(0,jn.jsxs)("select",{name:"semester",value:e.semester,onChange:A,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,jn.jsx)("option",{value:"",children:"Select Semester"}),[1,2,3,4,5,6,7,8].map((e=>(0,jn.jsxs)("option",{value:e,children:["Semester ",e]},e)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),(0,jn.jsxs)("select",{name:"branch",value:e.branch,onChange:A,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,jn.jsx)("option",{value:"",children:"Select Branch"}),null===s||void 0===s?void 0:s.map((e=>(0,jn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]})]}),(0,jn.jsx)("div",{className:"mt-6 flex justify-center w-[10%] mx-auto",children:(0,jn.jsx)(On,{type:"submit",disabled:o,variant:"primary",children:o?"Searching...":"Search"})})]}),!b&&(0,jn.jsxs)("div",{className:"text-center mt-8 text-gray-600 flex flex-col items-center justify-center my-10 bg-white p-10 rounded-lg mx-auto w-[40%]",children:[(0,jn.jsx)("img",{src:"/assets/filter.svg",alt:"Select filters",className:"w-64 h-64 mb-4"}),"Please select at least one filter to search students"]}),b&&0===r.length&&(0,jn.jsx)(Oi,{title:"No students found"}),r&&r.length>0&&(0,jn.jsxs)("div",{className:"mt-8",children:[(0,jn.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Search Results"}),(0,jn.jsx)("div",{className:"overflow-x-auto",children:(0,jn.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{className:"bg-gray-100",children:[(0,jn.jsx)("th",{className:"px-6 py-3 border-b text-left",children:"Profile"}),(0,jn.jsx)("th",{className:"px-6 py-3 border-b text-left",children:"Name"}),(0,jn.jsx)("th",{className:"px-6 py-3 border-b text-left",children:"E. No"}),(0,jn.jsx)("th",{className:"px-6 py-3 border-b text-left",children:"Semester"}),(0,jn.jsx)("th",{className:"px-6 py-3 border-b text-left",children:"Branch"}),(0,jn.jsx)("th",{className:"px-6 py-3 border-b text-left",children:"Email"}),(0,jn.jsx)("th",{className:"px-6 py-3 border-b text-center",children:"Actions"})]})}),(0,jn.jsx)("tbody",{children:r.map((e=>{var t;return(0,jn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,jn.jsx)("td",{className:"px-6 py-4 border-b",children:(0,jn.jsx)("img",{src:"".concat("http://localhost:4100/media","/").concat(e.profile),alt:"".concat(e.firstName,"'s profile"),className:"w-12 h-12 object-cover rounded-full",onError:e=>{e.target.src="https://images.unsplash.com/photo-1744315900478-fa44dc6a4e89?q=80&w=3087&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}})}),(0,jn.jsxs)("td",{className:"px-6 py-4 border-b",children:[e.firstName," ",e.middleName," ",e.lastName]}),(0,jn.jsx)("td",{className:"px-6 py-4 border-b",children:e.enrollmentNo}),(0,jn.jsx)("td",{className:"px-6 py-4 border-b",children:e.semester}),(0,jn.jsx)("td",{className:"px-6 py-4 border-b",children:null===(t=e.branchId)||void 0===t?void 0:t.name}),(0,jn.jsx)("td",{className:"px-6 py-4 border-b",children:e.email}),(0,jn.jsx)("td",{className:"px-6 py-4 border-b text-center",children:(0,jn.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,jn.jsx)(On,{variant:"secondary",className:"!p-2",onClick:()=>(e=>{var t,n,r,a,s;S({firstName:e.firstName||"",middleName:e.middleName||"",lastName:e.lastName||"",phone:e.phone||"",semester:e.semester||"",branchId:(null===(t=e.branchId)||void 0===t?void 0:t._id)||"",gender:e.gender||"",dob:(null===(n=e.dob)||void 0===n?void 0:n.split("T")[0])||"",address:e.address||"",city:e.city||"",state:e.state||"",pincode:e.pincode||"",country:e.country||"",profile:e.profile||"",status:e.status||"active",bloodGroup:e.bloodGroup||"",emergencyContact:{name:(null===(r=e.emergencyContact)||void 0===r?void 0:r.name)||"",relationship:(null===(a=e.emergencyContact)||void 0===a?void 0:a.relationship)||"",phone:(null===(s=e.emergencyContact)||void 0===s?void 0:s.phone)||""}}),m(e._id),g(!0),u(!0)})(e),children:(0,jn.jsx)(Xa,{})}),(0,jn.jsx)(On,{variant:"danger",className:"!p-2",onClick:()=>{return t=e._id,h(!0),void m(t);var t},children:(0,jn.jsx)(Qa,{})})]})})]},e._id)}))})]})})]})]}),0==s.length&&(0,jn.jsxs)("div",{className:"flex justify-center items-center flex-col w-full mt-24",children:[(0,jn.jsx)(ho,{className:"w-16 h-16 text-yellow-500 mb-4"}),(0,jn.jsx)("p",{className:"text-center text-lg",children:"Please add branches before adding a student."})]}),c&&(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,jn.jsxs)("div",{className:"bg-white rounded-lg p-8 w-[90%] max-w-4xl max-h-[90vh] overflow-y-auto relative",children:[(0,jn.jsx)("button",{onClick:T,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:(0,jn.jsx)(za,{className:"text-2xl"})}),(0,jn.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:p?"Edit Student":"Add New Student"}),(0,jn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{try{Dt.loading(p?"Updating Student":"Adding Student");const e={"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(v)},t=new FormData;for(const r in C)if("emergencyContact"===r)for(const e in C.emergencyContact)t.append("emergencyContact[".concat(e,"]"),C.emergencyContact[e]);else t.append(r,C[r]);let n;y&&t.append("file",y),n=p?await Na.patch("/student/".concat(f),t,{headers:e}):await Na.post("/student/register",t,{headers:e}),Dt.dismiss(),n.data.success?(Dt.success(p?n.data.message:"Student created successfully! Default password: student123"),T(),E()):Dt.error(n.data.message)}catch(n){var e,t;Dt.dismiss(),Dt.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error")}})()},children:[(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,jn.jsx)("input",{type:"text",value:C.firstName,onChange:e=>I("firstName",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name"}),(0,jn.jsx)("input",{type:"text",value:C.middleName,onChange:e=>I("middleName",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,jn.jsx)("input",{type:"text",value:C.lastName,onChange:e=>I("lastName",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,jn.jsx)("input",{type:"tel",value:C.phone,onChange:e=>I("phone",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),(0,jn.jsxs)("select",{value:C.semester,onChange:e=>I("semester",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"",children:"Select Semester"}),[1,2,3,4,5,6,7,8].map((e=>(0,jn.jsxs)("option",{value:e,children:["Semester ",e]},e)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),(0,jn.jsxs)("select",{value:C.branchId,onChange:e=>I("branchId",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"",children:"Select Branch"}),null===s||void 0===s?void 0:s.map((e=>(0,jn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),(0,jn.jsxs)("select",{value:C.gender,onChange:e=>I("gender",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"",children:"Select Gender"}),(0,jn.jsx)("option",{value:"male",children:"Male"}),(0,jn.jsx)("option",{value:"female",children:"Female"}),(0,jn.jsx)("option",{value:"other",children:"Other"})]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),(0,jn.jsx)("input",{type:"date",value:C.dob,onChange:e=>I("dob",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),(0,jn.jsxs)("select",{value:C.bloodGroup,onChange:e=>I("bloodGroup",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"",children:"Select Blood Group"}),(0,jn.jsx)("option",{value:"A+",children:"A+"}),(0,jn.jsx)("option",{value:"A-",children:"A-"}),(0,jn.jsx)("option",{value:"B+",children:"B+"}),(0,jn.jsx)("option",{value:"B-",children:"B-"}),(0,jn.jsx)("option",{value:"AB+",children:"AB+"}),(0,jn.jsx)("option",{value:"AB-",children:"AB-"}),(0,jn.jsx)("option",{value:"O+",children:"O+"}),(0,jn.jsx)("option",{value:"O-",children:"O-"})]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Photo"}),(0,jn.jsx)("input",{type:"file",onChange:e=>w(e.target.files[0]),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",accept:"image/*"})]}),(0,jn.jsxs)("div",{className:"md:col-span-2",children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,jn.jsx)("input",{type:"text",value:C.address,onChange:e=>I("address",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,jn.jsx)("input",{type:"text",value:C.city,onChange:e=>I("city",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,jn.jsx)("input",{type:"text",value:C.state,onChange:e=>I("state",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),(0,jn.jsx)("input",{type:"text",value:C.pincode,onChange:e=>I("pincode",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,jn.jsx)("input",{type:"text",value:C.country,onChange:e=>I("country",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{className:"md:col-span-2",children:[(0,jn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Emergency Contact"}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,jn.jsx)("input",{type:"text",value:C.emergencyContact.name,onChange:e=>_("name",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Relationship"}),(0,jn.jsx)("input",{type:"text",value:C.emergencyContact.relationship,onChange:e=>_("relationship",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,jn.jsx)("input",{type:"tel",value:C.emergencyContact.phone,onChange:e=>_("phone",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]})]})]}),(0,jn.jsxs)("div",{className:"mt-8 flex justify-between items-center gap-4",children:[(0,jn.jsx)("div",{children:(0,jn.jsxs)("p",{className:"text-sm",children:["Default login will be"," ",(0,jn.jsxs)("span",{className:"font-bold",children:[C.enrollmentNo||"enrollment_no","@gmail.com"]})," ","and password will be"," ",(0,jn.jsx)("span",{className:"font-bold",children:"student123"})]})}),(0,jn.jsxs)("div",{className:"flex gap-4",children:[(0,jn.jsx)(On,{type:"button",variant:"secondary",onClick:T,children:"Cancel"}),(0,jn.jsx)(On,{type:"submit",variant:"primary",children:p?"Update Student":"Add Student"})]})]})]})]})}),(0,jn.jsx)(Za,{isOpen:d,onClose:()=>h(!1),onConfirm:async()=>{try{Dt.loading("Deleting Student");const e={"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},t=await Na.delete("/student/".concat(f),{headers:e});Dt.dismiss(),t.data.success?(Dt.success("Student has been deleted successfully"),h(!1),E()):Dt.error(t.data.message)}catch(n){var e,t;Dt.dismiss(),Dt.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error")}},message:"Are you sure you want to delete this student?"})]})},mo=()=>{const[e,n]=(0,t.useState)({firstName:"",lastName:"",email:"",phone:"",profile:"",address:"",city:"",state:"",pincode:"",country:"",gender:"",dob:"",designation:"",joiningDate:"",salary:"",status:"active",emergencyContact:{name:"",relationship:"",phone:""},bloodGroup:"",branchId:""}),[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[f,m]=(0,t.useState)(!1),p=sessionStorage.getItem("userToken"),[g,y]=(0,t.useState)(null),[w,b]=(0,t.useState)(null);(0,t.useEffect)((()=>{v(),x()}),[]);const x=async()=>{try{b(!0);const e=await Na.get("/branch",{headers:{Authorization:"Bearer ".concat(p)}});e.data.success?a(e.data.data):Dt.error(e.data.message)}catch(r){var e,t,n;if(404===(null===(e=r.response)||void 0===e?void 0:e.status))a([]);else console.error(r),Dt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error fetching subjects")}finally{b(!1)}},v=async()=>{try{Dt.loading("Loading faculty...");const e=await Na.get("/faculty",{headers:{Authorization:"Bearer ".concat(p)}});e.data.success?i(e.data.data):Dt.error(e.data.message)}catch(r){var e,t,n;if(404===(null===(e=r.response)||void 0===e?void 0:e.status))i([]);else Dt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error fetching faculty")}finally{Dt.dismiss()}},C=()=>{n({firstName:"",lastName:"",email:"",phone:"",profile:"",address:"",city:"",state:"",pincode:"",country:"",gender:"",dob:"",designation:"",joiningDate:"",salary:"",status:"active",emergencyContact:{name:"",relationship:"",phone:""},bloodGroup:"",branchId:""}),l(!1),m(!1),h(null)},S=(t,r)=>{n({...e,[t]:r})},E=(t,r)=>{n({...e,emergencyContact:{...e.emergencyContact,[t]:r}})};return(0,jn.jsxs)("div",{className:"w-full mx-auto mt-10 flex justify-center items-start flex-col mb-10 relative",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,jn.jsx)(qa,{title:"Faculty Management"}),(0,jn.jsx)(On,{onClick:()=>{o?C():l(!0)},children:(0,jn.jsx)(Ua,{className:"text-2xl"})})]}),w&&(0,jn.jsx)(Ja,{}),o&&(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,jn.jsxs)("div",{className:"bg-white rounded-lg p-8 w-[90%] max-w-4xl max-h-[90vh] overflow-y-auto relative",children:[(0,jn.jsx)("button",{onClick:C,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:(0,jn.jsx)(za,{className:"text-2xl"})}),(0,jn.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:f?"Edit Faculty":"Add New Faculty"}),(0,jn.jsxs)("form",{onSubmit:t=>{t.preventDefault(),(async()=>{try{Dt.loading(f?"Updating Faculty":"Adding Faculty");const t={"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(p)},n=new FormData;for(const a in e)if("emergencyContact"===a)for(const t in e.emergencyContact)n.append("emergencyContact[".concat(t,"]"),e.emergencyContact[t]);else n.append(a,e[a]);let r;g&&n.append("file",g),r=f?await Na.patch("/faculty/".concat(d),n,{headers:t}):await Na.post("/faculty/register",n,{headers:t}),Dt.dismiss(),r.data.success?(Dt.success(f?r.data.message:"Faculty created successfully! Default password: faculty123"),C(),v()):Dt.error(r.data.message)}catch(r){var t,n;Dt.dismiss(),Dt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error")}})()},children:[(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Photo"}),(0,jn.jsx)("input",{type:"file",onChange:e=>y(e.target.files[0]),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",accept:"image/*"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,jn.jsx)("input",{type:"text",value:e.firstName,onChange:e=>S("firstName",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,jn.jsx)("input",{type:"text",value:e.lastName,onChange:e=>S("lastName",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,jn.jsx)("input",{type:"email",value:e.email,onChange:e=>S("email",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,jn.jsx)("input",{type:"tel",value:e.phone,onChange:e=>S("phone",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),(0,jn.jsxs)("select",{value:e.gender,onChange:e=>S("gender",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"",children:"Select Gender"}),(0,jn.jsx)("option",{value:"male",children:"Male"}),(0,jn.jsx)("option",{value:"female",children:"Female"}),(0,jn.jsx)("option",{value:"other",children:"Other"})]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),(0,jn.jsx)("input",{type:"date",value:e.dob,onChange:e=>S("dob",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),(0,jn.jsxs)("select",{value:e.bloodGroup,onChange:e=>S("bloodGroup",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"",children:"Select Blood Group"}),(0,jn.jsx)("option",{value:"A+",children:"A+"}),(0,jn.jsx)("option",{value:"A-",children:"A-"}),(0,jn.jsx)("option",{value:"B+",children:"B+"}),(0,jn.jsx)("option",{value:"B-",children:"B-"}),(0,jn.jsx)("option",{value:"AB+",children:"AB+"}),(0,jn.jsx)("option",{value:"AB-",children:"AB-"}),(0,jn.jsx)("option",{value:"O+",children:"O+"}),(0,jn.jsx)("option",{value:"O-",children:"O-"})]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation"}),(0,jn.jsx)("input",{type:"text",value:e.designation,onChange:e=>S("designation",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date"}),(0,jn.jsx)("input",{type:"date",value:e.joiningDate,onChange:e=>S("joiningDate",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salary"}),(0,jn.jsx)("input",{type:"number",value:e.salary,onChange:e=>S("salary",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),(0,jn.jsxs)("select",{value:e.branchId,onChange:e=>S("branchId",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"",children:"Select Branch"}),r.map((e=>(0,jn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,jn.jsxs)("div",{className:"md:col-span-2",children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,jn.jsx)("input",{type:"text",value:e.address,onChange:e=>S("address",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,jn.jsx)("input",{type:"text",value:e.city,onChange:e=>S("city",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,jn.jsx)("input",{type:"text",value:e.state,onChange:e=>S("state",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),(0,jn.jsx)("input",{type:"text",value:e.pincode,onChange:e=>S("pincode",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,jn.jsx)("input",{type:"text",value:e.country,onChange:e=>S("country",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{className:"md:col-span-2",children:[(0,jn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Emergency Contact"}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,jn.jsx)("input",{type:"text",value:e.emergencyContact.name,onChange:e=>E("name",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Relationship"}),(0,jn.jsx)("input",{type:"text",value:e.emergencyContact.relationship,onChange:e=>E("relationship",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,jn.jsx)("input",{type:"tel",value:e.emergencyContact.phone,onChange:e=>E("phone",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]})]})]}),(0,jn.jsxs)("div",{className:"mt-8 flex justify-between items-center gap-4",children:[(0,jn.jsx)("div",{children:(0,jn.jsxs)("p",{className:"text-sm",children:["Default password will be"," ",(0,jn.jsx)("span",{className:"font-bold",children:"faculty123"})]})}),(0,jn.jsxs)("div",{className:"flex gap-4",children:[(0,jn.jsx)(On,{type:"button",variant:"secondary",onClick:C,children:"Cancel"}),(0,jn.jsx)(On,{type:"submit",variant:"primary",children:f?"Update Faculty":"Add Faculty"})]})]})]})]})}),!w&&!o&&(0,jn.jsx)("div",{className:"mt-8 w-full",children:(0,jn.jsxs)("table",{className:"text-sm min-w-full bg-white",children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{className:"bg-blue-500 text-white",children:[(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Name"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Email"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Phone"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Employee ID"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Designation"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-center font-semibold",children:"Actions"})]})}),(0,jn.jsx)("tbody",{children:s&&s.length>0?s.map(((e,t)=>(0,jn.jsxs)("tr",{className:"border-b hover:bg-blue-50",children:[(0,jn.jsx)("td",{className:"py-4 px-6",children:"".concat(e.firstName," ").concat(e.lastName)}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.email}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.phone}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.employeeId}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.designation}),(0,jn.jsxs)("td",{className:"py-4 px-6 text-center flex justify-center gap-4",children:[(0,jn.jsx)(On,{variant:"secondary",className:"!p-2",onClick:()=>(e=>{var t,r,a,s,i;n({firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",phone:e.phone||"",profile:e.profile||"",address:e.address||"",city:e.city||"",state:e.state||"",pincode:e.pincode||"",country:e.country||"",gender:e.gender||"",dob:(null===(t=e.dob)||void 0===t?void 0:t.split("T")[0])||"",designation:e.designation||"",joiningDate:(null===(r=e.joiningDate)||void 0===r?void 0:r.split("T")[0])||"",salary:e.salary||"",status:e.status||"active",emergencyContact:{name:(null===(a=e.emergencyContact)||void 0===a?void 0:a.name)||"",relationship:(null===(s=e.emergencyContact)||void 0===s?void 0:s.relationship)||"",phone:(null===(i=e.emergencyContact)||void 0===i?void 0:i.phone)||""},bloodGroup:e.bloodGroup||"",branchId:e.branchId||""}),h(e._id),m(!0),l(!0)})(e),children:(0,jn.jsx)(Xa,{})}),(0,jn.jsx)(On,{variant:"danger",className:"!p-2",onClick:()=>{return t=e._id,u(!0),void h(t);var t},children:(0,jn.jsx)(Qa,{})})]})]},t))):(0,jn.jsx)("tr",{children:(0,jn.jsx)("td",{colSpan:"6",className:"text-center text-base pt-10",children:"No Faculty found."})})})]})}),(0,jn.jsx)(Za,{isOpen:c,onClose:()=>u(!1),onConfirm:async()=>{try{Dt.loading("Deleting Faculty");const e={"Content-Type":"application/json",Authorization:"Bearer ".concat(p)},t=await Na.delete("/faculty/".concat(d),{headers:e});Dt.dismiss(),t.data.success?(Dt.success("Faculty has been deleted successfully"),u(!1),v()):Dt.error(t.data.message)}catch(n){var e,t;Dt.dismiss(),Dt.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error")}},message:"Are you sure you want to delete this faculty?"})]})},po=()=>{const[e,n]=(0,t.useState)({name:"",code:"",branch:"",semester:"",credits:""}),[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[f,m]=(0,t.useState)(!1),p=sessionStorage.getItem("userToken"),[g,y]=(0,t.useState)(!1);(0,t.useEffect)((()=>{w(),b()}),[]);const w=async()=>{try{y(!0);const e=await Na.get("/subject",{headers:{Authorization:"Bearer ".concat(p)}});e.data.success?a(e.data.data):Dt.error(e.data.message)}catch(r){var e,t,n;if(404===(null===(e=r.response)||void 0===e?void 0:e.status))a([]);else Dt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error fetching subjects")}finally{y(!1)}},b=async()=>{try{y(!0);const e=await Na.get("/branch",{headers:{Authorization:"Bearer ".concat(p)}});e.data.success?i(e.data.data):Dt.error(e.data.message)}catch(r){var e,t,n;if(404===(null===(e=r.response)||void 0===e?void 0:e.status))i([]);else Dt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error fetching branches")}finally{y(!1)}},x=()=>{n({name:"",code:"",branch:"",semester:"",credits:""}),l(!1),m(!1),h(null)};return(0,jn.jsxs)("div",{className:"w-full mx-auto mt-10 flex justify-center items-start flex-col mb-10",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,jn.jsx)(qa,{title:"Subject Details"}),s.length>0&&(0,jn.jsx)(On,{onClick:()=>l(!0),children:(0,jn.jsx)(Ua,{className:"text-2xl"})})]}),g&&(0,jn.jsx)(Ja,{}),!g&&0==s.length&&(0,jn.jsxs)("div",{className:"flex justify-center items-center flex-col w-full mt-24",children:[(0,jn.jsx)(ho,{className:"w-16 h-16 text-yellow-500 mb-4"}),(0,jn.jsx)("p",{className:"text-center text-lg",children:"Please add branches before adding a subject."})]}),!g&&s.length>0&&(0,jn.jsx)("div",{className:"mt-8 w-full",children:0===r.length?(0,jn.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No subjects found"}):(0,jn.jsxs)("table",{className:"text-sm min-w-full bg-white",children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{className:"bg-blue-500 text-white",children:[(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Name"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Code"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Branch"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Semester"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Credits"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-center font-semibold",children:"Actions"})]})}),(0,jn.jsx)("tbody",{children:r&&r.map(((e,t)=>{var r;return(0,jn.jsxs)("tr",{className:"border-b hover:bg-blue-50",children:[(0,jn.jsx)("td",{className:"py-4 px-6",children:e.name}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.code}),(0,jn.jsx)("td",{className:"py-4 px-6",children:null===(r=e.branch)||void 0===r?void 0:r.name}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.semester}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.credits}),(0,jn.jsxs)("td",{className:"py-4 px-6 text-center flex justify-center gap-4",children:[(0,jn.jsx)(On,{variant:"secondary",className:"!p-2",onClick:()=>(e=>{var t;n({name:e.name,code:e.code,branch:null===(t=e.branch)||void 0===t?void 0:t._id,semester:e.semester,credits:e.credits}),h(e._id),m(!0),l(!0)})(e),children:(0,jn.jsx)(Xa,{})}),(0,jn.jsx)(On,{variant:"danger",className:"!p-2",onClick:()=>(async e=>{u(!0),h(e)})(e._id),children:(0,jn.jsx)(Qa,{})})]})]},t)}))})]})}),o&&(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,jn.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,jn.jsx)("h2",{className:"text-xl font-semibold",children:f?"Edit Subject":"Add New Subject"}),(0,jn.jsx)(On,{onClick:x,variant:"secondary",children:(0,jn.jsx)(Ka,{size:24})})]}),(0,jn.jsxs)("div",{className:"space-y-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject Name"}),(0,jn.jsx)("input",{type:"text",value:e.name,onChange:t=>n({...e,name:t.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject Code"}),(0,jn.jsx)("input",{type:"text",value:e.code,onChange:t=>n({...e,code:t.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),(0,jn.jsxs)("select",{value:e.branch,onChange:t=>n({...e,branch:t.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"",children:"Select Branch"}),s.map((e=>(0,jn.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),(0,jn.jsxs)("select",{value:e.semester,onChange:t=>n({...e,semester:t.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"",children:"Select Semester"}),[1,2,3,4,5,6,7,8].map((e=>(0,jn.jsxs)("option",{value:e,children:["Semester ",e]},e)))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Credits"}),(0,jn.jsx)("input",{type:"number",value:e.credits,onChange:t=>n({...e,credits:t.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{className:"flex justify-end space-x-4 mt-6",children:[(0,jn.jsx)(On,{onClick:x,variant:"secondary",children:"Cancel"}),(0,jn.jsx)(On,{onClick:async()=>{if(!e.name||!e.code||!e.branch||!e.semester||!e.credits)return Dt.dismiss(),void Dt.error("Please fill all the fields");try{y(!0),Dt.loading(f?"Updating Subject":"Adding Subject");const t={"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))};let n;n=f?await Na.patch("/subject/".concat(d),e,{headers:t}):await Na.post("/subject",e,{headers:t}),Dt.dismiss(),n.data.success?(Dt.success(n.data.message),x(),w()):Dt.error(n.data.message)}catch(t){Dt.dismiss(),Dt.error(t.response.data.message)}finally{y(!1)}},disabled:g,children:f?"Update Subject":"Add Subject"})]})]})]})}),(0,jn.jsx)(Za,{isOpen:c,onClose:()=>u(!1),onConfirm:async()=>{try{y(!0),Dt.loading("Deleting Subject");const e={"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))},t=await Na.delete("/subject/".concat(d),{headers:e});Dt.dismiss(),t.data.success?(Dt.success("Subject has been deleted successfully"),u(!1),w()):Dt.error(t.data.message)}catch(e){Dt.dismiss(),Dt.error(e.response.data.message)}finally{y(!1)}},message:"Are you sure you want to delete this subject?"})]})},go=()=>{const[e,n]=(0,t.useState)({firstName:"",lastName:"",email:"",phone:"",profile:"",address:"",city:"",state:"",pincode:"",country:"",gender:"",dob:"",designation:"",joiningDate:"",salary:"",status:"active",emergencyContact:{name:"",relationship:"",phone:""},bloodGroup:""}),[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1),f=sessionStorage.getItem("userToken"),[m,p]=(0,t.useState)(null),[g,y]=(0,t.useState)(!1);(0,t.useEffect)((()=>{w()}),[]);const w=async()=>{try{y(!0);const e=await Na.get("/admin",{headers:{Authorization:"Bearer ".concat(f)}});e.data.success?a(e.data.data):Dt.error(e.data.message)}catch(r){var e,t,n;if(404===(null===(e=r.response)||void 0===e?void 0:e.status))return void a([]);console.error(r),Dt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error fetching admins")}finally{y(!1)}},b=()=>{n({firstName:"",lastName:"",email:"",phone:"",profile:"",address:"",city:"",state:"",pincode:"",country:"",gender:"",dob:"",designation:"",joiningDate:"",salary:"",status:"active",emergencyContact:{name:"",relationship:"",phone:""},bloodGroup:""}),i(!1),h(!1),u(null)},x=(t,r)=>{n({...e,[t]:r})},v=(t,r)=>{n({...e,emergencyContact:{...e.emergencyContact,[t]:r}})};return(0,jn.jsxs)("div",{className:"w-full mx-auto mt-10 flex justify-center items-start flex-col mb-10 relative",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,jn.jsx)(qa,{title:"Admin Management"}),(0,jn.jsx)(On,{onClick:()=>{s?b():i(!0)},children:(0,jn.jsx)(Ua,{className:"text-2xl"})})]}),s&&(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,jn.jsxs)("div",{className:"bg-white rounded-lg p-8 w-[90%] max-w-4xl max-h-[90vh] overflow-y-auto relative",children:[(0,jn.jsx)("button",{onClick:b,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:(0,jn.jsx)(za,{className:"text-2xl"})}),(0,jn.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:d?"Edit Admin":"Add New Admin"}),(0,jn.jsxs)("form",{onSubmit:t=>{t.preventDefault(),(async()=>{try{Dt.loading(d?"Updating Admin":"Adding Admin");const t={"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(f)},n=new FormData;for(const a in e)if("emergencyContact"===a)for(const t in e.emergencyContact)n.append("emergencyContact[".concat(t,"]"),e.emergencyContact[t]);else n.append(a,e[a]);let r;m&&n.append("file",m),r=d?await Na.patch("/admin/".concat(c),n,{headers:t}):await Na.post("/admin/register",n,{headers:t}),Dt.dismiss(),r.data.success?(Dt.success(d?r.data.message:"Admin created successfully! Default password: admin123"),b(),w()):Dt.error(r.data.message)}catch(r){var t,n;Dt.dismiss(),Dt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error")}})()},children:[(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Photo"}),(0,jn.jsx)("input",{type:"file",onChange:e=>p(e.target.files[0]),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",accept:"image/*"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,jn.jsx)("input",{type:"text",value:e.firstName,onChange:e=>x("firstName",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,jn.jsx)("input",{type:"text",value:e.lastName,onChange:e=>x("lastName",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,jn.jsx)("input",{type:"email",value:e.email,onChange:e=>x("email",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,jn.jsx)("input",{type:"tel",value:e.phone,onChange:e=>x("phone",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),(0,jn.jsxs)("select",{value:e.gender,onChange:e=>x("gender",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"",children:"Select Gender"}),(0,jn.jsx)("option",{value:"male",children:"Male"}),(0,jn.jsx)("option",{value:"female",children:"Female"}),(0,jn.jsx)("option",{value:"other",children:"Other"})]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),(0,jn.jsx)("input",{type:"date",value:e.dob,onChange:e=>x("dob",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),(0,jn.jsxs)("select",{value:e.bloodGroup,onChange:e=>x("bloodGroup",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,jn.jsx)("option",{value:"",children:"Select Blood Group"}),(0,jn.jsx)("option",{value:"A+",children:"A+"}),(0,jn.jsx)("option",{value:"A-",children:"A-"}),(0,jn.jsx)("option",{value:"B+",children:"B+"}),(0,jn.jsx)("option",{value:"B-",children:"B-"}),(0,jn.jsx)("option",{value:"AB+",children:"AB+"}),(0,jn.jsx)("option",{value:"AB-",children:"AB-"}),(0,jn.jsx)("option",{value:"O+",children:"O+"}),(0,jn.jsx)("option",{value:"O-",children:"O-"})]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation"}),(0,jn.jsx)("input",{type:"text",value:e.designation,onChange:e=>x("designation",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date"}),(0,jn.jsx)("input",{type:"date",value:e.joiningDate,onChange:e=>x("joiningDate",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salary"}),(0,jn.jsx)("input",{type:"number",value:e.salary,onChange:e=>x("salary",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{className:"md:col-span-2",children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,jn.jsx)("input",{type:"text",value:e.address,onChange:e=>x("address",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,jn.jsx)("input",{type:"text",value:e.city,onChange:e=>x("city",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,jn.jsx)("input",{type:"text",value:e.state,onChange:e=>x("state",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),(0,jn.jsx)("input",{type:"text",value:e.pincode,onChange:e=>x("pincode",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,jn.jsx)("input",{type:"text",value:e.country,onChange:e=>x("country",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{className:"md:col-span-2",children:[(0,jn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Emergency Contact"}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,jn.jsx)("input",{type:"text",value:e.emergencyContact.name,onChange:e=>v("name",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Relationship"}),(0,jn.jsx)("input",{type:"text",value:e.emergencyContact.relationship,onChange:e=>v("relationship",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,jn.jsx)("input",{type:"tel",value:e.emergencyContact.phone,onChange:e=>v("phone",e.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]})]})]}),(0,jn.jsxs)("div",{className:"mt-8 flex justify-between items-center gap-4",children:[(0,jn.jsx)("div",{children:(0,jn.jsxs)("p",{className:"text-sm",children:["Default password will be"," ",(0,jn.jsx)("span",{className:"font-bold",children:"admin123"})]})}),(0,jn.jsxs)("div",{className:"flex gap-4",children:[(0,jn.jsx)(On,{type:"button",variant:"secondary",onClick:b,children:"Cancel"}),(0,jn.jsx)(On,{type:"submit",variant:"primary",children:d?"Update Admin":"Add Admin"})]})]})]})]})}),g&&(0,jn.jsx)(Ja,{}),!g&&!s&&(0,jn.jsx)("div",{className:"mt-8 w-full",children:(0,jn.jsxs)("table",{className:"text-sm min-w-full bg-white",children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{className:"bg-blue-500 text-white",children:[(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Name"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Email"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Phone"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Employee ID"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Designation"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-center font-semibold",children:"Actions"})]})}),(0,jn.jsx)("tbody",{children:r&&r.length>0?r.map(((e,t)=>(0,jn.jsxs)("tr",{className:"border-b hover:bg-blue-50",children:[(0,jn.jsx)("td",{className:"py-4 px-6",children:"".concat(e.firstName," ").concat(e.lastName)}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.email}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.phone}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.employeeId}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.designation}),(0,jn.jsxs)("td",{className:"py-4 px-6 text-center flex justify-center gap-4",children:[(0,jn.jsx)(On,{variant:"secondary",onClick:()=>(e=>{var t,r,a,s,o;n({firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",phone:e.phone||"",profile:e.profile||"",address:e.address||"",city:e.city||"",state:e.state||"",pincode:e.pincode||"",country:e.country||"",gender:e.gender||"",dob:(null===(t=e.dob)||void 0===t?void 0:t.split("T")[0])||"",designation:e.designation||"",joiningDate:(null===(r=e.joiningDate)||void 0===r?void 0:r.split("T")[0])||"",salary:e.salary||"",status:e.status||"active",emergencyContact:{name:(null===(a=e.emergencyContact)||void 0===a?void 0:a.name)||"",relationship:(null===(s=e.emergencyContact)||void 0===s?void 0:s.relationship)||"",phone:(null===(o=e.emergencyContact)||void 0===o?void 0:o.phone)||""},bloodGroup:e.bloodGroup||""}),u(e._id),h(!0),i(!0)})(e),children:(0,jn.jsx)(Xa,{})}),(0,jn.jsx)(On,{variant:"danger",onClick:()=>(async e=>{l(!0),u(e)})(e._id),children:(0,jn.jsx)(Qa,{})})]})]},t))):(0,jn.jsx)("tr",{children:(0,jn.jsx)("td",{colSpan:"6",className:"text-center text-base pt-10",children:"No Admins found."})})})]})}),(0,jn.jsx)(Za,{isOpen:o,onClose:()=>l(!1),onConfirm:async()=>{try{Dt.loading("Deleting Admin");const e={"Content-Type":"application/json",Authorization:"Bearer ".concat(f)},t=await Na.delete("/admin/".concat(c),{headers:e});Dt.dismiss(),t.data.success?(Dt.success("Admin has been deleted successfully"),l(!1),w()):Dt.error(t.data.message)}catch(n){var e,t;Dt.dismiss(),Dt.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error")}},message:"Are you sure you want to delete this admin?"})]})},yo=()=>{const[e,n]=(0,t.useState)({name:"",branchId:""}),[r,a]=(0,t.useState)(),[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!1);(0,t.useEffect)((()=>{y()}),[]);const y=async()=>{m(!0);try{const e=await Na.get("/branch",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))}});e.data.success?a(e.data.data):Dt.error(e.data.message)}catch(n){var e,t;if(n.response&&404===n.response.status)return void a([]);console.error(n),Dt.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error fetching branches")}finally{m(!1)}};return(0,jn.jsxs)("div",{className:"w-full mx-auto mt-10 flex justify-center items-start flex-col mb-10 relative",children:[(0,jn.jsx)(qa,{title:"Branch Details"}),(0,jn.jsx)(On,{onClick:()=>{i(!s),s||(n({name:"",branchId:""}),h(!1),u(null))},className:"fixed bottom-8 right-8 !rounded-full !p-4",children:s?(0,jn.jsx)(za,{className:"text-3xl"}):(0,jn.jsx)(Ua,{className:"text-3xl"})}),f&&(0,jn.jsx)(Ja,{}),s&&(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:(0,jn.jsxs)("div",{className:"bg-white rounded-lg w-[500px] max-h-[90vh] overflow-y-auto",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-center p-6 border-b",children:[(0,jn.jsx)("h2",{className:"text-xl font-semibold",children:d?"Edit Branch":"Add New Branch"}),(0,jn.jsx)("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-700",children:(0,jn.jsx)(za,{className:"text-3xl"})})]}),(0,jn.jsxs)("form",{onSubmit:async t=>{if(null===t||void 0===t||t.preventDefault(),!e.name||!e.branchId)return Dt.dismiss(),void Dt.error("Please fill all the fields");try{Dt.loading(d?"Updating Branch":"Adding Branch");const t={"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))};let r;r=d?await Na.patch("/branch/".concat(c),e,{headers:t}):await Na.post("/branch",e,{headers:t}),Dt.dismiss(),r.data.success?(Dt.success(r.data.message),n({name:"",branchId:""}),i(!1),h(!1),u(null),y()):Dt.error(r.data.message)}catch(s){var r,a;Dt.dismiss();const e=(null===s||void 0===s||null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||(null===s||void 0===s?void 0:s.message)||"Error adding/updating branch";Dt.error(e)}},className:"p-6 space-y-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch Name"}),(0,jn.jsx)("input",{type:"text",id:"name",value:e.name,onChange:t=>n({...e,name:t.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{htmlFor:"branchId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch ID"}),(0,jn.jsx)("input",{type:"text",id:"branchId",value:e.branchId,onChange:t=>n({...e,branchId:t.target.value}),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,jn.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[(0,jn.jsx)(On,{variant:"secondary",onClick:()=>i(!1),children:"Cancel"}),(0,jn.jsx)(On,{variant:"primary",type:"submit",children:d?"Update":"Add"})]})]})]})}),!f&&(0,jn.jsx)("div",{className:"mt-8 w-full",children:(0,jn.jsxs)("table",{className:"text-sm min-w-full bg-white",children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{className:"bg-blue-500 text-white",children:[(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Branch Name"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Branch ID"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-left font-semibold",children:"Created At"}),(0,jn.jsx)("th",{className:"py-4 px-6 text-center font-semibold",children:"Actions"})]})}),(0,jn.jsx)("tbody",{children:r&&r.length>0?r.map(((e,t)=>(0,jn.jsxs)("tr",{className:"border-b hover:bg-blue-50",children:[(0,jn.jsx)("td",{className:"py-4 px-6",children:e.name}),(0,jn.jsx)("td",{className:"py-4 px-6",children:e.branchId}),(0,jn.jsx)("td",{className:"py-4 px-6",children:new Date(e.createdAt).toLocaleDateString()}),(0,jn.jsxs)("td",{className:"py-4 px-6 text-center flex justify-center gap-4",children:[(0,jn.jsx)(On,{variant:"secondary",className:"!p-2",onClick:()=>(e=>{n({name:e.name,branchId:e.branchId}),u(e._id),h(!0),i(!0)})(e),children:(0,jn.jsx)(Xa,{})}),(0,jn.jsx)(On,{variant:"danger",className:"!p-2",onClick:()=>(async e=>{l(!0),u(e)})(e._id),children:(0,jn.jsx)(Qa,{})})]})]},t))):(0,jn.jsx)("tr",{children:(0,jn.jsx)("td",{colSpan:"4",className:"text-center text-base pt-10",children:"No branches found."})})})]})}),(0,jn.jsx)(Za,{isOpen:o,onClose:()=>l(!1),onConfirm:async()=>{try{Dt.loading("Deleting Branch");const e={"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("userToken"))},t=await Na.delete("/branch/".concat(c),{headers:e});Dt.dismiss(),t.data.success?(Dt.success("Branch has been deleted successfully"),l(!1),y()):Dt.error(t.data.message)}catch(n){var e,t;Dt.dismiss();const r=(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||(null===n||void 0===n?void 0:n.message)||"Error deleting branch";Dt.error(r)}},message:"Are you sure you want to delete this branch?"})]})},wo=e=>{let{profileData:n}=e;const[r,a]=(0,t.useState)(!1);if(!n)return null;const s=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,jn.jsxs)("div",{className:"max-w-6xl mx-auto p-8",children:[(0,jn.jsxs)("div",{className:"flex items-center justify-between gap-8 mb-12 border-b pb-8",children:[(0,jn.jsxs)("div",{className:"flex items-center gap-8",children:[(0,jn.jsx)("img",{src:"".concat("http://localhost:4100/media","/").concat(n.profile),alt:"Profile",className:"w-40 h-40 rounded-full object-cover ring-4 ring-blue-500 ring-offset-4"}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"".concat(n.firstName," ").concat(n.lastName)}),(0,jn.jsxs)("p",{className:"text-lg text-gray-600 mb-1",children:["Employee ID: ",n.employeeId]}),(0,jn.jsxs)("p",{className:"text-lg text-blue-600 font-medium",children:[n.designation,n.isSuperAdmin&&" (Super Admin)"]})]})]}),(0,jn.jsx)(On,{onClick:()=>a(!0),children:"Update Password"}),r&&(0,jn.jsx)(rs,{onClose:()=>a(!1)})]}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 gap-12",children:[(0,jn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,jn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b border-gray-200",children:"Personal Information"}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.email})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.phone})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Gender"}),(0,jn.jsx)("p",{className:"text-gray-900 capitalize",children:n.gender})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Blood Group"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.bloodGroup})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),(0,jn.jsx)("p",{className:"text-gray-900",children:s(n.dob)})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Joining Date"}),(0,jn.jsx)("p",{className:"text-gray-900",children:s(n.joiningDate)})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Salary"}),(0,jn.jsxs)("p",{className:"text-gray-900",children:["\u20b9",n.salary.toLocaleString()]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,jn.jsx)("p",{className:"text-gray-900 capitalize",children:n.status})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Role"}),(0,jn.jsx)("p",{className:"text-gray-900 capitalize",children:n.isSuperAdmin?"Super Admin":"Admin"})]})]})]}),(0,jn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,jn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b border-gray-200",children:"Address Information"}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Address"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.address})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"City"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.city})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"State"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.state})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Pincode"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.pincode})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Country"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.country})]})]})]}),(0,jn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,jn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b border-gray-200",children:"Emergency Contact"}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.emergencyContact.name})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Relationship"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.emergencyContact.relationship})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,jn.jsx)("p",{className:"text-gray-900",children:n.emergencyContact.phone})]})]})]})]})]})},bo=[{id:"home",label:"Home",component:wo},{id:"student",label:"Student",component:fo},{id:"faculty",label:"Faculty",component:mo},{id:"branch",label:"Branch",component:yo},{id:"notice",label:"Notice",component:es},{id:"exam",label:"Exam",component:ss},{id:"subjects",label:"Subjects",component:po},{id:"admin",label:"Admin",component:go}],xo=()=>{const e=he(),n=ue(),[r,a]=(0,t.useState)("home"),[s,i]=(0,t.useState)(),[o,l]=(0,t.useState)(!1),c=Mn(),u=sessionStorage.getItem("userToken");(0,t.useEffect)((()=>{(async()=>{l(!0);try{Dt.loading("Loading user details...");const e=await Na.get("/admin/my-details",{headers:{Authorization:"Bearer ".concat(u)}});e.data.success?(i(e.data.data),c(on(e.data.data))):Dt.error(e.data.message)}catch(n){var e,t;console.error(n),Dt.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error fetching user details")}finally{l(!1),Dt.dismiss()}})()}),[c,u]),(0,t.useEffect)((()=>{const e=new URLSearchParams(n.search).get("page")||"home",t=bo.find((t=>t.id===e));a(t?t.id:"home")}),[n.pathname]);return(0,jn.jsxs)(jn.Fragment,{children:[(0,jn.jsx)(Fa,{}),(0,jn.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,jn.jsx)("ul",{className:"flex justify-evenly items-center gap-10 w-full mx-auto my-8",children:bo.map((t=>{return(0,jn.jsx)("li",{className:(n=t.id,"\n      text-center px-6 py-3 cursor-pointer\n      font-medium text-sm w-full\n      rounded-md\n      transition-all duration-300 ease-in-out\n      ".concat(r===n?"bg-gradient-to-r from-blue-400 to-blue-600 text-white shadow-lg transform -translate-y-1":"bg-blue-50 text-blue-700 hover:bg-blue-100","\n    ")),onClick:()=>(t=>{a(t),e("/admin?page=".concat(t))})(t.id),children:t.label},t.id);var n}))}),(()=>{var e;if(o)return(0,jn.jsx)("div",{className:"flex justify-center items-center h-64",children:"Loading..."});const t=null===(e=bo.find((e=>e.id===r)))||void 0===e?void 0:e.component;return"home"===r&&s?(0,jn.jsx)(wo,{profileData:s}):t&&(0,jn.jsx)(t,{})})()]}),(0,jn.jsx)(nn,{position:"bottom-center"})]})},vo={STUDENT:"Student",FACULTY:"Faculty",ADMIN:"Admin"},Co=e=>{let{selected:t,onSelect:n}=e;return(0,jn.jsx)("div",{className:"flex justify-center gap-4 mb-8",children:Object.values(vo).map((e=>(0,jn.jsx)("button",{onClick:()=>n(e),className:"px-5 py-2 text-sm font-medium rounded-full transition duration-200 ".concat(t===e?"bg-blue-600 text-white shadow":"bg-gray-100 text-gray-800 hover:bg-gray-200"),children:e},e)))})},So=()=>{const e=he(),n=sessionStorage.getItem("userToken"),[r,a]=(0,t.useState)(vo.STUDENT),[s,i]=(0,t.useState)("");(0,t.useEffect)((()=>{n&&e("/".concat(sessionStorage.getItem("userType")))}),[n,e]);return(0,jn.jsxs)("div",{className:"min-h-screen bg-gradient-to-tr from-gray-100 via-white to-gray-100 flex items-center justify-center px-4",children:[(0,jn.jsxs)("div",{className:"w-full max-w-[40%] px-6 py-12",children:[(0,jn.jsxs)("h1",{className:"text-4xl font-bold text-gray-800 text-center mb-6",children:[r," Forget Password"]}),(0,jn.jsx)(Co,{selected:r,onSelect:a}),(0,jn.jsxs)("form",{className:"w-full p-8 bg-white rounded-2xl shadow-xl border border-gray-200",onSubmit:async e=>{if(e.preventDefault(),rn.loading("Sending reset mail..."),""===s)return rn.dismiss(),void rn.error("Please enter your email");try{const e={"Content-Type":"application/json"},t=await Na.post("/".concat(r.toLowerCase(),"/forget-password"),{email:s},{headers:e});t.data.success?(rn.dismiss(),rn.success(t.data.message)):(rn.dismiss(),rn.error(t.data.message))}catch(a){var t,n;rn.dismiss(),console.error(a),rn.error((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error sending reset mail")}finally{i("")}},children:[(0,jn.jsxs)("div",{className:"mb-6",children:[(0,jn.jsxs)("label",{className:"block text-gray-800 text-sm font-medium mb-2",htmlFor:"email",children:[r," Email"]}),(0,jn.jsx)("input",{type:"email",id:"email",onChange:e=>i(e.target.value),value:s,required:!0,className:"w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,jn.jsx)(On,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2.5 px-4 rounded-lg transition duration-200",children:"Send Reset Link"})]})]}),(0,jn.jsx)(nn,{position:"bottom-center"})]})},Eo=()=>{const e=he(),{resetId:n,type:r}=function(){let{matches:e}=t.useContext(oe),n=e[e.length-1];return n?n.params:{}}(),[a,s]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(!1);(0,t.useEffect)((()=>{n||(rn.error("Invalid or expired reset link."),e("/"))}),[n,e]);return(0,jn.jsxs)("div",{className:"min-h-screen bg-gradient-to-tr from-gray-100 via-white to-gray-100 flex items-center justify-center px-4",children:[(0,jn.jsxs)("div",{className:"w-full max-w-2xl lg:w-1/2 px-6 py-12",children:[(0,jn.jsx)("h1",{className:"text-4xl font-bold text-gray-800 text-center mb-6",children:"Update Password"}),(0,jn.jsxs)("form",{className:"w-full p-8 bg-white rounded-2xl shadow-xl border border-gray-200",onSubmit:async t=>{if(t.preventDefault(),a===i)if(r){c(!0),rn.loading("Resetting your password...");try{const t=await Na.post("/".concat(r,"/update-password/").concat(n),{password:a,resetId:n});rn.dismiss(),t.data.success?(rn.success("Password reset successfully."),e("/")):rn.error(t.data.message||"Error resetting password.")}catch(l){var s,o;rn.dismiss(),rn.error((null===(s=l.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message)||"Error resetting password.")}finally{c(!1)}}else rn.error("Invalid Reset Password Link.");else rn.error("Passwords do not match.")},children:[(0,jn.jsxs)("div",{className:"mb-6",children:[(0,jn.jsx)("label",{className:"block text-gray-800 text-sm font-medium mb-2",htmlFor:"newPassword",children:"New Password"}),(0,jn.jsx)("input",{type:"password",id:"newPassword",onChange:e=>s(e.target.value),value:a,required:!0,className:"w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,jn.jsxs)("div",{className:"mb-6",children:[(0,jn.jsx)("label",{className:"block text-gray-800 text-sm font-medium mb-2",htmlFor:"confirmPassword",children:"Confirm Password"}),(0,jn.jsx)("input",{type:"password",id:"confirmPassword",onChange:e=>o(e.target.value),value:i,required:!0,className:"w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,jn.jsx)(On,{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2.5 px-4 rounded-lg transition duration-200",children:l?"Resetting...":"Reset Password"})]})]}),(0,jn.jsx)(nn,{position:"bottom-center"})]})},No=()=>(0,jn.jsx)(jn.Fragment,{children:(0,jn.jsx)(An,{store:La,children:(0,jn.jsx)(Oe,{children:(0,jn.jsxs)(Ie,{children:[(0,jn.jsx)(Ne,{path:"/",element:(0,jn.jsx)(Ta,{})}),(0,jn.jsx)(Ne,{path:"/forget-password",element:(0,jn.jsx)(So,{})}),(0,jn.jsx)(Ne,{path:"/:type/update-password/:resetId",element:(0,jn.jsx)(Eo,{})}),(0,jn.jsx)(Ne,{path:"student",element:(0,jn.jsx)(Mi,{})}),(0,jn.jsx)(Ne,{path:"faculty",element:(0,jn.jsx)(uo,{})}),(0,jn.jsx)(Ne,{path:"admin",element:(0,jn.jsx)(xo,{})})]})})})});a.createRoot(document.getElementById("root")).render((0,jn.jsx)(No,{}))})()})();
//# sourceMappingURL=main.1554a9a6.js.map